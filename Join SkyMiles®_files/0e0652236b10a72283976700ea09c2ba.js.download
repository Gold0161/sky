/*
 pako 1.0.4 nodeca/pako with Dojo/AMD/RequireJS Fix  Licensed Materials - Property of IBM
 Â© Copyright IBM Corp. 2017
 US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.

 @version 5.4.0.1805
 @flags w3c,NDEBUG
*/
TMS.bindDependencyImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;Bootstrapper.AF=function(){var g={data:{},_dataConfig:{},logHistory:[],debug:!0,dataObj:function(a){var b=a?[]:"";b.finalized=!1;b.type=a;return b},validateInput:function(a){if("object"!==typeof a||"number"!==typeof a.length)return this.log("Error, input must be type Array");/set|push|call|eval|finalize|join/.test(a[0])||this.log("Error, '"+a[0]+"' is not a valid command");return!0},storeData:function(a,
b,d,c,e){e=this.getConfig(b,d,e);b=this.data[b][d];if(e.finalized)return this.log("Error, cannot modify finalized key '"+d+"'"),b;if("undefined"!==typeof b&&e.multi)return"join"==a?b=b.concat(c):b.push(c),b;e.multi?(d=[c],"join"==a&&(d=[].concat(c))):d=c;return d},getConfig:function(a,b,d,c){a=this._dataConfig[a]||{};c={};return"undefined"==typeof a[b]?(c.multi=d,c.finalized=!1,c):a[b]},store:function(a,b,d,c,e){this.data[b]=this.data[b]||{};this.data[b][d]=this.storeData(a,b,d,c,e);return this.data[b][d]},
parseCode:function(a){return((a||function(){})+"").replace(/^function\s*\(\s*\)\s*\{|\}$/g,"")},callFn:function(a,b,d,c){if("function"==typeof a)if(d)"undefined"!=typeof window.execScript?window.execScript(this.parseCode(a)):eval.call(window,this.parseCode(a));else return a.apply(window,c);else if("function"==typeof this.data[a][b])if(d)"undefined"!=typeof window.execScript?window.execScript(this.parseCode(this.data[a][b])):eval.call(window,this.parseCode(this.data[a][b]));else return c="object"==
typeof c&&"number"==typeof c.length?c:[],this.data[a][b].apply(this.data[a],c);else return this.log("Error, '"+b+"' is not a function")},parse:function(a){if(this.validateInput(a)){a=Array.prototype.slice.call(a,0);var b=a.shift(),d=a.shift(),c=a.shift(),e=a[0];if(/set|push|join/.test(b))return this.store(b,d,c,e,/push|join/.test(b));if(/call|eval/.test(b))return this.callFn(d,c,"eval"==b,a);if("finalize"==b)return a=this._dataConfig[d]=this._dataConfig[d]||{},a=a[c]||{multi:!1},a.finalized=!0,this._dataConfig[d][c]=
a}},log:function(a){this.logHistory.push(a);return this.debug&&"object"==typeof console?console.log(a)&&!1:!1}};if("object"==typeof Bootstrapper.AF&&"[object Array]"!==Object.prototype.toString.call(Bootstrapper.AF))return Bootstrapper.AF;if("[object Array]"===Object.prototype.toString.call(Bootstrapper.AF))for(var h=Bootstrapper.AF,f=0;f<h.length;f++)g.parse(h[f]);return{push:function(a){return g.parse(a)}}}();Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.log=function(a){if(Bootstrapper._SC.logEnabled)try{console.log("AA App Log - "+
a)}catch(f){}};Bootstrapper.AF.push(["set","SiteCatalyst","block",function(a){this.ignore=this.ignore||{};this.ignore[a]=1}]);Bootstrapper.AF.push(["set","SiteCatalyst","exec",function(){if(!this.ar){Bootstrapper.AF.push(["push","SiteCatalyst","ar",!0]);for(var a=this.ns||[],f={},c=0;c<a.length;c++)f[a[c]]=1,Bootstrapper.AF.push(["set",a[c],"exec",function(a){return function(){var c=this.dl||[],b=this.DMFDelay||!1;Bootstrapper._SC.log("Delay for DMF: "+b);var f=function(c){if("object"!=typeof window[a])setTimeout.call(this,
function(){f.call(this,c)},250);else{for(var g=["pre","post"],e=0;e<g.length;e++){var b=this[g[e]];if("object"==typeof b)for(var k=0;k<b.length;k++){var d=b[k],h=window[a];if("object"==typeof d[0]&&d[0].length){do h=h[d[0].shift()];while(1<d[0].length);d[0]=d[0].shift()}if(d[1]&&"function"==typeof d[1])try{h[d[0]]=d[1].call(this,c)}catch(l){}else h[d[0]]=d[1]}}window[a].t();Bootstrapper.AF.push(["set",a,"getCallbacks",function(){return this.callback||[]}]);g=Bootstrapper.AF.push(["call",a,"getCallbacks"]);
for(e=0;e<g.length;e++)"function"==typeof g[e]&&g[e].call(window)}},l=function(){Bootstrapper.data?Bootstrapper.data.resolve.call(this,c,function(){for(var a={},b=0;b<c.length;b++)a[c[b]]=arguments[b];f.call(this,a)}):f.call(this,{})},m=this;b?Bootstrapper.bindDOMParsed(function(){l.call(m)}):l.call(this)}}(a[c])]);var a=0,b;for(b in f)this.ignore&&b in this.ignore||(a?setTimeout(function(a){return function(){Bootstrapper.AF.push(["call",a,"exec"])}}(b),250*a):Bootstrapper.AF.push(["call",b,"exec"]),
a++)}}]);Bootstrapper.bindPageSpecificCompletion(function(){setTimeout(function(){Bootstrapper.AF.push(["call","SiteCatalyst","exec"])},250)});Bootstrapper.AF.push(["eval",function(){var sName="s";var visitor=Visitor.getInstance("F0E65E09512D2CC50A490D4D@AdobeOrg",{trackingServer:"metrics.delta.com",trackingServerSecure:"smetrics.delta.com",marketingCloudServer:"metrics.delta.com",marketingCloudServerSecure:"smetrics.delta.com"});var s_account;var dfa_environment;if(window.location.href)if(window.location.href.match(/(www|es|de|fr|it|ja|ko|nl|pt|ru|zt|zh|dmn|dm|dn|news\.)\.delta\.com/g)&&
!window.location.href.match(/\/sdst\//)&&!window.location.href.match(/\/sdsi\//)&&!window.location.href.match(/dev-dmn/)&&!window.location.href.match(/si-dn/)&&!window.location.href.match(/st-dn/)){s_account="deltacom2";dfa_environment="u20\x3dPROD"}else{s_account="deltadev2";dfa_environment="u20\x3dDEV"}var s=s_gi(s_account);s.visitor=Visitor.getInstance("F0E65E09512D2CC50A490D4D@AdobeOrg");s.currencyCode=s.currencyCode||"USD";s.trackDownloadLinks=true;s.trackExternalLinks=true;s.trackInlineStats=
false;s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,pdf,xls,xlsx,ppt,pptx";s.linkInternalFilters="javascript:,delta.com,blog.delta.com,airelite.com,deltaprivatejets.com,si.delta.com,delta-offers.com,nwa.com,verifiedbyvisa.com,visa.com,arcot.com,securesuite.net,securecode.com,mycardsecure.com,www304.americanexpress.com,cardinalcommerce.com";s.linkLeaveQueryString=false;s.linkTrackVars="None";s.linkTrackEvents="None";s.prop47=typeof Visitor!="undefined"?"VisitorAPI Present":"VisitorAPI Missing";
s.usePlugins=true;s.siteID="";s.defaultPage="";s.queryVarsList="";s.pathExcludeDelim=";";s.pathConcatDelim=":";s.pathExcludeList="";function s_doPlugins(s){var campaign_cookie;s.visEvent=s.getVisitStart("s_visit");if(s.visEvent){var d=new Date;var offset=-5;var utc=d.getTime()+d.getTimezoneOffset()*6E4;var today=new Date(utc+36E5*offset);var lastDayOfMonth=new Date(today.getFullYear(),today.getMonth()+1,0,23,59,59);var ldommsec=Math.abs(today.getTime()-lastDayOfMonth.getTime());var endOfTheWeek=new Date(today.getFullYear(),
today.getMonth(),today.getDate()+6-today.getDay(),23,59,59);var eotwmsec=Math.abs(today.getTime()-endOfTheWeek.getTime());var endOfTheDay=new Date(today.getFullYear(),today.getMonth(),today.getDate(),23,59,59);var eotdmsec=Math.abs(today.getTime()-endOfTheDay.getTime());var mfreq=s.Util.cookieRead("vis_frqm");if(!mfreq)setCookie("vis_frqm","month:1",ldommsec);else{mfreq=mfreq.split(":");var mfreqv=parseInt(mfreq[1],10);mfreqv=mfreqv+1;mfreqv=String(mfreqv);var fmfreq="month:"+mfreqv;setCookie("vis_frqm",
fmfreq,ldommsec)}var wfreq=s.Util.cookieRead("vis_frqw");if(!wfreq)setCookie("vis_frqw","week:1",eotwmsec);else{wfreq=wfreq.split(":");var wfreqv=parseInt(wfreq[1],10);wfreqv=wfreqv+1;wfreqv=String(wfreqv);var fwfreq="week:"+mfreqv;setCookie("vis_frqw",fwfreq,eotwmsec)}var dfreq=s.Util.cookieRead("vis_frqd");if(!dfreq)setCookie("vis_frqd","day:1",eotdmsec);else{dfreq=dfreq.split(":");var dfreqv=parseInt(dfreq[1],10);dfreqv=dfreqv+1;dfreqv=String(dfreqv);var fdfreq="day:"+wfreqv;setCookie("vis_frqd",
fdfreq,eotdmsec)}}s.prop42=s.Util.cookieRead("vis_frqd")+"|"+s.Util.cookieRead("vis_frqw")+"|"+s.Util.cookieRead("vis_frqm");s.prop48="codeversion:2.3.0:08072017";var expCookieSet="";expCookieSet=s.Util.cookieRead("exp_type");if(expCookieSet==""){s.eVar16=s.Util.getQueryParam("type");s.Util.cookieWrite("exp_type",s.eVar16,0)}else s.eVar16=s.Util.cookieRead("exp_type");if(!s.eVar16)s.eVar16="delta.com";s.linkTrackVars=s.apl(s.linkTrackVars,"eVar16",",",2);if(s.prop25==",")s.prop25="";s.prop61=window.location.href.split("?")[0];
s.eVar23=s.getNewRepeat();s.prop60=window.location;s.eVar74=Bootstrapper.data.resolve(55661)||"";var prefValue="";""==Bootstrapper.data.resolve(64111)?prefValue="us:en":(prefValue=Bootstrapper.data.resolve(64111),prefValue=prefValue.split("-")[1]+":"+prefValue.split("-")[0]);s.prop16=prefValue;s.eVar20=prefValue;var gttcCookieSet="";gttcCookieSet=s.Util.cookieRead("ttc");if(s.events&&gttcCookieSet==""&&(s.events.indexOf("event14")>-1||s.events.indexOf("event19")>-1||s.events.indexOf("event32")>-1))s.prop29=
"start";if(s.events&&(s.events.indexOf("event16")>-1||s.events.indexOf("event34")>-1))s.prop29="stop";s.prop29=s.getTimeToComplete(s.prop29,"ttc",0);if(!s.pageType&&!s.pageName)s.pageName=s.getPageName();websiteBot=true;if(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,
4)))document.addEventListener("mousemove",function detectMouseMove(){document.removeEventListener("mousemove",detectMouseMove,false);websiteBot=false});else websiteBot=false;setTimeout(function(){s.eVar180=websiteBot?"Bot detected":"Not a bot"},2E3);s.server=window.location.host.split(".")[0];var dataLayer=window.idp&&window.idp.dataLayer&&window.idp.dataLayer.digitalData||window.delta&&window.delta.dataLayer&&window.delta.dataLayer.digitalData||"",skymilesNumber="";s.linkTrackVars=s.linkTrackVars+
",eVar22";if(dataLayer!==null&&dataLayer!==undefined){skymilesNumber=dataLayer&&dataLayer.user&&dataLayer.user.profile&&dataLayer.user.profile.attributes&&dataLayer.user.profile.attributes.skymilesNumber||dataLayer&&dataLayer.user&&dataLayer.user.profile&&dataLayer.user.profile&&dataLayer.user.profile[0]&&dataLayer.user.profile[0].attributes&&dataLayer.user.profile[0].attributes.skymilesNumber;s.eVar22=skymilesNumber}else if(window.loginData!==null&&window.loginData!==undefined&&window.loginData!==
"")s.eVar22=window.loginData&&loginData.smNumber;var dataLayer=window.idp&&window.idp.checkout||window.idp&&window.idp.dataLayer&&window.idp.dataLayer.digitalData||window.delta&&window.delta.dataLayer&&window.delta.dataLayer.digitalData||"",skymilesTier="",skymilesTier_formatted="";s.linkTrackVars=s.linkTrackVars+",eVar21";if(dataLayer!==null&&dataLayer!==undefined){skymilesTier=dataLayer&&dataLayer.user&&dataLayer.user.profile&&dataLayer.user.profile.attributes&&dataLayer.user.profile.attributes.medallionStatus||
dataLayer&&dataLayer.user&&dataLayer.user.profile&&dataLayer.user.profile&&dataLayer.user.profile[0]&&dataLayer.user.profile[0].attributes&&dataLayer.user.profile[0].attributes.medallionStatus||dataLayer&&dataLayer.user&&dataLayer.user.profile&&dataLayer.user.profile.attributes&&dataLayer.user.profile.attributes.loyaltyTier||dataLayer&&dataLayer.user&&dataLayer.user.segment&&dataLayer.user.segment.medallionStatus||dataLayer&&dataLayer.milesResponse&&dataLayer.milesResponse.loyaltyTierLevel;if(skymilesTier==
"FF")skymilesTier_formatted="BaseSM";else if(skymilesTier=="GM")skymilesTier_formatted="Gold Medallion";else if(skymilesTier=="FO")skymilesTier_formatted="Silver Medallion";else if(skymilesTier=="PM")skymilesTier_formatted="Platinum Medallion";else if(skymilesTier=="DM")skymilesTier_formatted="Diamond Medallion";s.eVar21=skymilesTier_formatted}var loginMethod="";s.linkTrackVars=s.linkTrackVars+",eVar42";if(dataLayer!==null&&dataLayer!==undefined){loginMethod=dataLayer&&dataLayer.attributes&&dataLayer.attributes.loginMethod||
"";s.eVar42=loginMethod}var isLoggedIn="",loginSuccess=sessionStorage.getItem("loginSuccess");if(dataLayer!==null&&dataLayer!==undefined)if(loginSuccess!=="true"){isLoggedIn=dataLayer&&dataLayer.user&&dataLayer.user.loginData&&dataLayer.user.loginData.enrollmentDate||dataLayer&&dataLayer.user&&dataLayer.user.loginData&&dataLayer.user.loginData[0]&&dataLayer.user.loginData[0].enrollmentDate||dataLayer&&dataLayer.user&&dataLayer.user.profile&&dataLayer.user.profile.attributes&&dataLayer.user.profile.attributes.isLoggedIn||
"";if(isLoggedIn){s.events="event4";sessionStorage.setItem("loginSuccess","true")}}var warmState="",loggedIn="";s.linkTrackVars=s.linkTrackVars+",eVar147";if(dataLayer!==null&&dataLayer!==undefined){warmState=dataLayer&&dataLayer.user&&dataLayer.user.loginData&&dataLayer.user.loginData.warmState||"",loggedIn=dataLayer&&dataLayer.user&&dataLayer.user.profile&&dataLayer.user.profile.attributes&&dataLayer.user.profile.attributes.isLoggedIn;if(warmState)s.eVar147="Warm";else if(loggedIn)s.eVar147="Hot";
else if(loggedIn===false)s.eVar147="Cold"}if(typeof QuantumMetricAPI!="undefined"){s.linkTrackVars=s.linkTrackVars+",eVar71";var QM_ID="";QM_ID=QuantumMetricAPI.getSessionID();s.eVar71=QM_ID}s.Util.cookieWrite("tnt_pagename",s.pageName,0);if(!s.eVar1)s.eVar1=s.Util.getQueryParam("itc");if(!s.eVar117)s.eVar117=s.Util.getQueryParam("dlid");if(!s.eVar116)s.eVar116=s.Util.getQueryParam("ctx");if(!s.eVar68)s.eVar68=s.Util.getQueryParam("icid");var curURL=document.URL.toLowerCase();var tapestry_cookie=
s.Util.cookieRead("t30_cookie");s.eVar128=s.Util.cookieRead("t29_cookie");s.eVar49=s&&s.Util&&s.Util.getQueryParam&&s.Util.getQueryParam("clickid")||document.referrer&&document.referrer.split("clickid\x3d")&&document.referrer.split("clickid\x3d")[1]&&document.referrer.split("clickid\x3d")[1].split("\x26")&&document.referrer.split("clickid\x3d")[1].split("\x26")[0]||s.Util.cookieRead("k_user_id");s.eVar194=s.Util.cookieRead("t64_cookie");if(!s.campaign){var tCampaign="";if(tapestry_cookie)tCampaign=
tapestry_cookie;if(s.Util.getQueryParam("mkcpgn",curURL))tCampaign=s.Util.getQueryParam("mkcpgn",curURL);if(s.Util.getQueryParam("mkast",curURL))if(tCampaign)tCampaign=tCampaign+","+s.Util.getQueryParam("mkast",curURL);else tCampaign=s.Util.getQueryParam("mkast",curURL);if(s.Util.getQueryParam("mkplac",curURL))if(tCampaign)tCampaign=tCampaign+","+s.Util.getQueryParam("mkplac",curURL);else tCampaign=s.Util.getQueryParam("mkplac",curURL);tCampaign=tCampaign.toLowerCase();if(tCampaign.indexOf("sezzz")==
-1||tCampaign.indexOf("ps_")==-1){if(tapestry_cookie)s.campaign=tapestry_cookie;if(s.Util.getQueryParam("mkcpgn",curURL))s.campaign=s.Util.getQueryParam("mkcpgn",curURL);if(s.Util.getQueryParam("mkast",curURL))if(s.campaign)s.campaign=s.campaign+","+s.Util.getQueryParam("mkast",curURL);else s.campaign=s.Util.getQueryParam("mkast",curURL);if(s.Util.getQueryParam("mkplac",curURL))if(s.campaign)s.campaign=s.campaign+","+s.Util.getQueryParam("mkplac",curURL);else s.campaign=s.Util.getQueryParam("mkplac",
curURL);s.campaign=s.getValOnce(s.campaign,"c_cookie",0);campaign_cookie=s.Util.cookieRead("c_cookie")}}if(!s.campaign&&!campaign_cookie){s.channelManager("clickid","","c_m","0","s_dl","1");if(s._channel=="Referrers"){s._campaign="REF|"+s._referringDomain;s.campaign=s._campaign;s.eVar56=s._referringDomain}if(s._channel=="Natural Search"){s.campaign="NS|"+s._partner;s._keywords="NS|"+s._keywords}if(s._channel=="Paid Search"){s.campaign=s.Util.cookieRead("t30_cookie");s._keywords=s.Util.getQueryParam("s_kwcid");
s.eVar48=s.Util.getQueryParam("tracking_id");s.eVar49=s.Util.cookieRead("k_user_id")}if(s._channel=="Direct Load"){var sCampaign="";sCampaign=s._channel}if(!s.eVar2)s.eVar2=s.crossVisitParticipation(s._channel,"s_chl","90","5","\x3e","purchase",0);if(!s.eVar55&&s._keywords!="n/a")s.eVar55=s.crossVisitParticipation(s._keywords,"s_cpmscm","90","5","\x3e","purchase",0)}if(s.eo===undefined){var s_visIdCookie=s.Util.cookieRead("s_vi");var visRegExp=/[0-9A-F]+-[0-9A-F]+/g;var s_visId=s_visIdCookie.match(visRegExp);
if(s_visId){s.eVar26=s_visId;if(!(window.location.href.indexOf("selectBoardingPassNext.action")>-1||s.pageName.indexOf("View Boarding Pass")>-1));}else;s.eVar26=s.getAndPersistValue(s.eVar26,"s_v??_persist",730)}if(document.location.href.indexOf("complete-purchase")>-1||document.location.href.indexOf("flight-search")>-1||document.location.href.indexOf("seat-map")>-1)if(sessionStorage.getItem("xCheckSession")==null||sessionStorage.getItem("xCheckSession")=="n"){sessionStorage.setItem("xCheckSession",
"n");s.eVar130="n|n"}else if(sessionStorage.getItem("xCheckSession")=="y"&&sessionStorage.getItem("xCheckPage")=="y"){if(document.location.href.indexOf("flight-deals")<1)s.eVar130="y|y";s.eVar130="y|y";sessionStorage.setItem("xCheckSession","y");sessionStorage.setItem("xCheckPage","y")}else{if(sessionStorage.getItem("xCheckSession")=="y"&&sessionStorage.getItem("xCheckPage")!=="y"){s.eVar130="y|n";sessionStorage.setItem("xCheckSession","y");sessionStorage.setItem("xCheckPage","n")}}else if(document.location.href.indexOf("complete-purchase")<
1||document.location.href.indexOf("flight-search")<1||document.location.href.indexOf("seat-map")<1||document.location.href.indexOf("flight-deals")<1)if(sessionStorage.getItem("xCheckSession")==null||sessionStorage.getItem("xCheckSession")=="n")sessionStorage.setItem("xCheckSession","n");else if(sessionStorage.getItem("xCheckSession")=="y"&&sessionStorage.getItem("xCheckPage")=="y"){sessionStorage.setItem("xCheckSession","y");sessionStorage.setItem("xCheckPage","n")}else{if(sessionStorage.getItem("xCheckSession")==
"y"&&sessionStorage.getItem("xCheckPage")!=="y"){sessionStorage.setItem("xCheckSession","y");sessionStorage.setItem("xCheckPage","n")}}else{sessionStorage.setItem("xCheckSession","n");sessionStorage.setItem("xCheckPage","n")}if($("flight-deals").length>0&&$("flight-deals").attr("endpointURL").indexOf("xcheck")>0){s.eVar130="y";sessionStorage.setItem("xCheckSession","y");sessionStorage.setItem("xCheckPage","y")}else if(sessionStorage.getItem("xCheckSession")=="y"&&s&&s.eVar130!=="y|y"){sessionStorage.setItem("xCheckSession",
"y");sessionStorage.setItem("xCheckPage","n")}else if(sessionStorage.getItem("xCheckSession")==null&&s&&s.eVar130!=="y|y"&&$("flight-deals").attr("endpointURL").indexOf("xcheck")>0){sessionStorage.setItem("xCheckSession","y");sessionStorage.setItem("xCheckPage","y");s.eVar130="y"}else if(sessionStorage.getItem("xCheckSession")==null&&s&&s.eVar130!=="y|y"){sessionStorage.setItem("xCheckSession","n");sessionStorage.setItem("xCheckPage","n")}if(document.referrer.indexOf("login")>0){var ax1="",ax2="",
v09=targetDataElement&&targetDataElement.profile&&targetDataElement.profile.v09||"";if(v09!=="")if(v09.indexOf("|")>0){ax1=v09.split("|")[0].split(":")[0].replace("AXCO","Blue").replace("AXCG","Gold").replace("AXBG","Gold Business").replace("AXCP","Platinum").replace("AXBP","Platinum Business").replace("AXCV","Reserve").replace("AXBV","Reserve Business");ax2=","+v09.split("|")[1].split(":")[0].replace("AXCO","Blue").replace("AXCG","Gold").replace("AXBG","Gold Business").replace("AXCP","Platinum").replace("AXBP",
"Platinum Business").replace("AXCV","Reserve").replace("AXBV","Reserve Business")}else ax1=v09.split("|")[0].split(":")[0].replace("AXCO","Blue").replace("AXCG","Gold").replace("AXBG","Gold Business").replace("AXCP","Platinum").replace("AXBP","Platinum Business").replace("AXCV","Reserve").replace("AXBV","Reserve Business");s.eVar145=ax1+ax2}if(document.location.href.indexOf("complete-purchase/trip-summary")>0||document.location.href.indexOf("complete-purchase/express-checkout")>0){var warmState=idp&&
idp.checkout&&idp.checkout.currentWarmState||false;if(warmState==true)s.eVar147="warm state";else s.eVar147=""}if(s.linkType=="o"||s.linkType=="d"||s.linkType=="e"){if(s.pageName)s.prop27=s.pageName;else s.prop27=s.linkURL;if(s.linkTrackVars=="NONE")s.linkTrackVars="s.prop27";else s.linkTrackVars=s.linkTrackVars+",prop27"}if(typeof oo_tlsid==="undefined")var oo_tlsid="no tealeafID";s.eVar60=oo_tlsid;if(s.eVar60=="no tealeafID")s.eVar60=s.Util.cookieRead("TLTSID");s.AudienceManagement.setup({"partner":"delta",
"containerNSID":0,"uuidCookie":{"name":"aam_uuid","days":30}});var id_data=new Array(2);for(var i=0;i<2;i++)id_data[i]=new Array(3);var sky_miles_id=s.eVar22||"";var trkcode=document.location.search&&document.location.search.split("sfmc_sub\x3d")&&document.location.search.split("sfmc_sub\x3d")[1]&&document.location.search.split("sfmc_sub\x3d")[1].split("\x26")[0]||"";var salesforce_id="";if(trkcode!=="")salesforce_id=trkcode;var i=0,j=0;if(salesforce_id!=""){id_data[j][0]="sfmcid";id_data[j][1]=salesforce_id;
id_data[j][2]=Visitor&&Visitor.AuthState&&Visitor.AuthState.AUTHENTICATED;j++}if(sky_miles_id!=""){id_data[j][0]="SID";id_data[j][1]=sky_miles_id;id_data[j][2]=Visitor&&Visitor.AuthState&&Visitor.AuthState.AUTHENTICATED;j++}var json_ids={};for(var i=0;i<j;i++)json_ids[id_data[i][0]]={"id":id_data[i][1],"authState":id_data[i][2]};visitor.setCustomerIDs(json_ids);visitor.setCustomerIDs({"loyalty_id":s.eVar22||""})}s.doPlugins=s_doPlugins;function setCookie(cname,cvalue,exdays){var d=new Date;d.setTime(d.getTime()+
exdays);var expires="expires\x3d"+d.toUTCString();document.cookie=cname+"\x3d"+cvalue+"; "+expires}function omni_trackRefinement(refinement){s.linkTrackVars="eVar15";s.eVar15=refinement;s.tl(true,"o","flight search refinement");s.eVar15=""}function customInteraction(desc,loc){s.linkTrackVars="prop1,prop2";s.prop1=desc;s.prop2=loc;s.tl(this,"o",desc);s.prop1=s.prop2=""}function skyMilesEmailUpdate(subscribes,unsubscribes){s.linkTrackVars="events,eVar50,eVar51";s.linkTrackEvents="event58";s.events=
"event58";s.eVar50=subscribes;s.eVar51=unsubscribes;s.tl(this,"o","skymiles email update");s.eVar50=s.eVar51=""}s.trackingServer="metrics.delta.com";s.trackingServerSecure="smetrics.delta.com";s.wd=window;s.propTwentyFive=function(v,p,b){var s=this,n="s_propTwentyFive",p=p?p:n,v=v?v:n,r="",pm=false,b=b?b:true;if(s.Util.getQueryParam)pm=s.Util.getQueryParam(p);if(pm)r+=pm+",";if(s.wd[v]!=undefined)r+=s.wd[v];if(b)s.wd[v]="";return r};function replaceAll(str,src,dst){while(str.indexOf(src)!==-1)str=
str.replace(src,dst);return str}s.getVisitStart=new Function("c",""+"var s\x3dthis,v\x3d1,t\x3dnew Date;t.setTime(t.getTime()+1800000);if(s.Util.cookieRead(c"+")){v\x3d0}if(!s.Util.cookieWrite(c,1,t)){s.Util.cookieWrite(c,1,0)}if(!s.Util.cookieRead(c)){v\x3d0}return v;");s.getNewRepeat=new Function("d","cn",""+"var s\x3dthis,e\x3dnew Date(),cval,sval,ct\x3de.getTime();d\x3dd?d:30;cn\x3dcn?cn:"+"'s_nr';e.setTime(ct+d*24*60*60*1000);cval\x3ds.Util.cookieRead(cn);if(cval.length\x3d"+"\x3d0){s.Util.cookieWrite(cn,ct+'-New',e);return'New';}sval\x3ds.split(cval,'-');if(ct"+
"-sval[0]\x3c30*60*1000\x26\x26sval[1]\x3d\x3d'New'){s.Util.cookieWrite(cn,ct+'-New',e);return'N"+"ew';}else{s.Util.cookieWrite(cn,ct+'-Repeat',e);return'Repeat';}");s.getTimeToComplete=new Function("v","cn","e",""+"var s\x3dthis,d\x3dnew Date,x\x3dd,k;if(!s.ttcr){e\x3de?e:0;if(v\x3d\x3d'start'||v\x3d\x3d'"+"stop')s.ttcr\x3d1;x.setTime(x.getTime()+e*86400000);if(v\x3d\x3d'start'){s.c"+"_w(cn,d.getTime(),e?x:0);return '';}if(v\x3d\x3d'stop'){k\x3ds.Util.cookieRead(cn);if(!s"+".c_w(cn,'',d)||!k)return '';v\x3d(d.getTime()-k)/1000;var td\x3d86400,th\x3d"+
"3600,tm\x3d60,r\x3d5,u,un;if(v\x3etd){u\x3dtd;un\x3d'days';}else if(v\x3eth){u\x3dth;un\x3d"+"'hours';}else if(v\x3etm){r\x3d2;u\x3dtm;un\x3d'minutes';}else{r\x3d.2;u\x3d1;un\x3d'sec"+"onds';}v\x3dv*r/u;return (Math.round(v)/r)+' '+un;}}return '';");s.crossVisitParticipation=new Function("v","cn","ex","ct","dl","ev","dv",""+"var s\x3dthis,ce;if(typeof(dv)\x3d\x3d\x3d'undefined')dv\x3d0;if(s.events\x26\x26ev){var"+" ay\x3ds.split(ev,',');var ea\x3ds.split(s.events,',');for(var u\x3d0;u\x3cay.l"+"ength;u++){for(var x\x3d0;x\x3cea.length;x++){if(ay[u]\x3d\x3dea[x]){ce\x3d1;}}}}i"+
"f(!v||v\x3d\x3d''){if(ce){s.Util.cookieWrite(cn,'');return'';}else return'';}v\x3descape("+"v);var arry\x3dnew Array(),a\x3dnew Array(),c\x3ds.Util.cookieRead(cn),g\x3d0,h\x3dnew Array()"+";if(c\x26\x26c!\x3d''){arry\x3ds.split(c,'],[');for(q\x3d0;q\x3carry.length;q++){z\x3dar"+"ry[q];z\x3ds.repl(z,'[','');z\x3ds.repl(z,']','');z\x3ds.repl(z,\"'\",'');arry"+"[q]\x3ds.split(z,',')}}var e\x3dnew Date();e.setFullYear(e.getFullYear()+"+"5);if(dv\x3d\x3d0\x26\x26arry.length\x3e0\x26\x26arry[arry.length-1][0]\x3d\x3dv)arry[arry.len"+
"gth-1]\x3d[v,new Date().getTime()];else arry[arry.length]\x3d[v,new Date("+").getTime()];var start\x3darry.length-ct\x3c0?0:arry.length-ct;var td\x3dnew"+" Date();for(var x\x3dstart;x\x3carry.length;x++){var diff\x3dMath.round((td."+"getTime()-arry[x][1])/86400000);if(diff\x3cex){h[g]\x3dunescape(arry[x][0"+"]);a[g]\x3d[arry[x][0],arry[x][1]];g++;}}var data\x3ds.join(a,{delim:',',"+"front:'[',back:']',wrap:\"'\"});s.Util.cookieWrite(cn,data,e);var r\x3ds.join(h,{deli"+"m:dl});if(ce)s.Util.cookieWrite(cn,'');return r;");
s.join=new Function("v","p",""+"var s \x3d this;var f,b,d,w;if(p){f\x3dp.front?p.front:'';b\x3dp.back?p.back"+":'';d\x3dp.delim?p.delim:'';w\x3dp.wrap?p.wrap:'';}var str\x3d'';for(var x\x3d0"+";x\x3cv.length;x++){if(typeof(v[x])\x3d\x3d'object' )str+\x3ds.join( v[x],p);el"+"se str+\x3dw+v[x]+w;if(x\x3cv.length-1)str+\x3dd;}return f+str+b;");s.manageVars=new Function("c","l","f",""+"var s\x3dthis,vl,la,vla;l\x3dl?l:'';f\x3df?f:1 ;if(!s[c])return false;vl\x3d'pa"+"geName,purchaseID,channel,server,pageType,campaign,state,zip,events"+
",products,transactionID';for(var n\x3d1;n\x3c76;n++){vl+\x3d',prop'+n+',eVar"+"'+n+',hier'+n;}if(l\x26\x26(f\x3d\x3d1||f\x3d\x3d2)){if(f\x3d\x3d1){vl\x3dl;}if(f\x3d\x3d2){la\x3ds.spl"+"it(l,',');vla\x3ds.split(vl,',');vl\x3d'';for(x in la){for(y in vla){if(l"+"a[x]\x3d\x3dvla[y]){vla[y]\x3d'';}}}for(y in vla){vl+\x3dvla[y]?','+vla[y]:'';}"+"}s.pt(vl,',',c,0);return true;}else if(l\x3d\x3d''\x26\x26f\x3d\x3d1){s.pt(vl,',',c,0"+");return true;}else{return false;}");s.clearVars=new Function("t","var s\x3dthis;s[t]\x3d'';");
s.lowercaseVars=new Function("t",""+"var s\x3dthis;if(s[t]\x26\x26t!\x3d'events'){s[t]\x3ds[t].toString();if(s[t].index"+"Of('D\x3d')!\x3d0){s[t]\x3ds[t].toLowerCase();}}");s.repl=new Function("x","o","n",""+"var i\x3dx.indexOf(o),l\x3dn.length;while(x\x26\x26i\x3e\x3d0){x\x3dx.substring(0,i)+n+x."+"substring(i+o.length);i\x3dx.indexOf(o,i+l)}return x");s.getPageName=new Function("u",""+"var s\x3dthis,v\x3du?u:''+window.parent.location,x\x3dv.indexOf(':'),y\x3dv.indexOf('/',"+"x+4),z\x3dv.indexOf('?'),c\x3ds.pathConcatDelim,e\x3ds.pathExcludeDelim,g\x3ds."+
"queryVarsList,d\x3ds.siteID,n\x3dd?d:'',q\x3dz\x3c0?'':v.substring(z+1),p\x3dv.sub"+"string(y+1,q?z:v.length);z\x3dp.indexOf('#');p\x3dz\x3c0?p:s.fl(p,z);x\x3de?p.i"+"ndexOf(e):-1;p\x3dx\x3c0?p:s.fl(p,x);p+\x3d!p||p.charAt(p.length-1)\x3d\x3d'/'?s.d"+"efaultPage:'';y\x3dc?c:'/';while(p){x\x3dp.indexOf('/');x\x3dx\x3c0?p.length:x;"+"z\x3ds.fl(p,x);if(!s.pt(s.pathExcludeList,',','p_c',z))n+\x3dn?y+z:z;p\x3dp."+"substring(x+1)}y\x3dc?c:'?';while(g){x\x3dg.indexOf(',');x\x3dx\x3c0?g.length:x"+";z\x3ds.fl(g,x);z\x3ds.pt(q,'\x26','p_c',z);if(z){n+\x3dn?y+z:z;y\x3dc?c:'\x26'}g\x3dg.s"+
"ubstring(x+1)}return n");s.fl=function(x,l){return x?(""+x).substring(0,l):x};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:""}return""};s.p_c=new Function("v","c",""+"var x\x3dv.indexOf('\x3d');return c.toLowerCase()\x3d\x3dv.substring(0,x\x3c0?v.le"+"ngth:x).toLowerCase()?v:0");s.p_gpv=new Function("k","u","h",""+"var s\x3dthis,v\x3d'',q;j\x3dh\x3d\x3d1?'#':'?';i\x3du.indexOf(j);if(k\x26\x26i\x3e-1){q\x3du.sub"+
"string(i+1);v\x3ds.pt(q,'\x26','p_gvf',k)}return v");s.p_gvf=new Function("t","k",""+"if(t){var s\x3dthis,i\x3dt.indexOf('\x3d'),p\x3di\x3c0?t:t.substring(0,i),v\x3di\x3c0?'T"+"rue':t.substring(i+1);if(p.toLowerCase()\x3d\x3dk.toLowerCase())return s."+"epa(v)}return''");s.getValOnce=new Function("v","c","e","t",""+"var s\x3dthis,a\x3dnew Date,v\x3dv?v:'',c\x3dc?c:'s_gvo',e\x3de?e:0,i\x3dt\x3d\x3d'm'?6000"+"0:86400000;k\x3ds.Util.cookieRead(c);if(v){a.setTime(a.getTime()+e*i);s.Util.cookieWrite(c,v,e"+
"\x3d\x3d0?0:a);}return v\x3d\x3dk?'':v");s.getTimeParting=new Function("t","z","y","l",""+"var s\x3dthis,d,A,B,C,D,U,W,X,Y,Z;d\x3dnew Date();A\x3dd.getFullYear();if(A\x3d"+"\x3d'2011'){B\x3d'13';C\x3d'06'}if(A\x3d\x3d'2012'){B\x3d'11';C\x3d'04'}if(A\x3d\x3d'2013'){B\x3d"+"'10';C\x3d'03'}if(A\x3d\x3d'2014'){B\x3d'09';C\x3d'02'}if(A\x3d\x3d'2015'){B\x3d'08';C\x3d'01'"+"}if(A\x3d\x3d'2016'){B\x3d'13';C\x3d'06'}if(A\x3d\x3d'2017'){B\x3d'12';C\x3d'05'}if(!B||!C)"+"{B\x3d'08';C\x3d'01'}B\x3d'03/'+B+'/'+A;C\x3d'11/'+C+'/'+A;D\x3dnew Date('1/1/2000"+
"');if(D.getDay()!\x3d6||D.getMonth()!\x3d0){return'Data Not Available'}el"+"se{z\x3dz?z:'0';z\x3dparseFloat(z);B\x3dnew Date(B);C\x3dnew Date(C);W\x3dnew Date"+"();if(W\x3eB\x26\x26W\x3cC\x26\x26l!\x3d'0'){z\x3dz+1}W\x3dW.getTime()+(W.getTimezoneOffset()*"+"60000);W\x3dnew Date(W+(3600000*z));X\x3d['Sunday','Monday','Tuesday','We"+"dnesday','Thursday','Friday','Saturday'];B\x3dW.getHours();C\x3dW.getMinu"+"tes();if(C\x3c10){C\x3d'0'+C};D\x3dW.getDay();Z\x3dX[D];U\x3d'AM';A\x3d'weekday';X\x3d'0"+
"0';if(C\x3e30){X\x3d'30'}if(B\x3e\x3d12){U\x3d'PM';B\x3dB-12};if(B\x3d\x3d0){B\x3d12};if(D\x3d\x3d6|"+"|D\x3d\x3d0){A\x3d'weekend'}W\x3dB+':'+X+U;if(y\x26\x26y!\x3dY){return'Data Not Availabl"+"e'}else{if(t){if(t\x3d\x3d'h'){return W}if(t\x3d\x3d'm'){return B+':'+C+' '+U}i"+"f(t\x3d\x3d'd'){return Z}if(t\x3d\x3d'w'){return A}if(t\x3d\x3d'f'){return B+':'+C+' "+"'+U+' - '+Z}}else{return Z+', '+W}}}");var getTimeParting=function(a){a=document.documentMode?void 0:a||"Etc/GMT";a=(new Date).toLocaleDateString("en-US",
{timeZone:a,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"});a=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(a);return"year\x3d"+a[4]+" | month\x3d"+a[2]+" | date\x3d"+a[3]+" | day\x3d"+a[1]+" | time\x3d"+(a[6]+a[7])};s.vpr=new Function("vs","v","if(typeof(v)!\x3d'undefined'){var s\x3dthis; eval('s.'+vs+'\x3d\"'+v+'\"')}");s.split=new Function("l","d",""+"var i,x\x3d0,a\x3dnew Array;while(l){i\x3dl.indexOf(d);i\x3di\x3e-1?i:l.length;a[x"+
"++]\x3dl.substring(0,i);l\x3dl.substring(i+d.length);}return a");s.repl=new Function("x","o","n",""+"var i\x3dx.indexOf(o),l\x3dn.length;while(x\x26\x26i\x3e\x3d0){x\x3dx.substring(0,i)+n+x."+"substring(i+o.length);i\x3dx.indexOf(o,i+l)}return x");s.apl=new Function("L","v","d","u",""+"var s\x3dthis,m\x3d0;if(!L)L\x3d'';if(u){var i,n,a\x3ds.split(L,d);for(i\x3d0;i\x3ca."+"length;i++){n\x3da[i];m\x3dm||(u\x3d\x3d1?(n\x3d\x3dv):(n.toLowerCase()\x3d\x3dv.toLowerCas"+"e()));}}if(!m)L\x3dL?L+d+v:v;return L");
s.getAndPersistValue=new Function("v","c","e",""+"var s\x3dthis,a\x3dnew Date;e\x3de?e:0;a.setTime(a.getTime()+e*86400000);if("+"v)s.Util.cookieWrite(c,v,e?a:0);return s.Util.cookieRead(c);");s.getPreviousValue=new Function("v","c","el",""+"var s\x3dthis,t\x3dnew Date,i,j,r\x3d'';t.setTime(t.getTime()+1800000);if(el"+"){if(s.events){i\x3ds.split(el,',');j\x3ds.split(s.events,',');for(x in i"+"){for(y in j){if(i[x]\x3d\x3dj[y]){if(s.Util.cookieRead(c)) r\x3ds.Util.cookieRead(c);v?s.Util.cookieWrite(c,v,t)"+
":s.Util.cookieWrite(c,'no value',t);return r}}}}}else{if(s.Util.cookieRead(c)) r\x3ds.Util.cookieRead(c);v?"+"s.Util.cookieWrite(c,v,t):s.Util.cookieWrite(c,'no value',t);return r}");s.channelManager=new Function("a","b","c","d","e","f",""+"var s\x3dthis,A,B,g,l,m,M,p,q,P,h,k,u,S,i,O,T,j,r,t,D,E,F,G,H,N,U,v\x3d0,"+"X,Y,W,n\x3dnew Date;n.setTime(n.getTime()+1800000);if(e){v\x3d1;if(s.Util.cookieRead("+"e))v\x3d0;if(!s.Util.cookieWrite(e,1,n))s.Util.cookieWrite(e,1,0);if(!s.Util.cookieRead(e))v\x3d0;}g\x3ds.referrer"+
"?s.referrer:document.referrer;g\x3dg.toLowerCase();if(!g)h\x3d1;i\x3dg.index"+"Of('?')\x3e-1?g.indexOf('?'):g.length;j\x3dg.substring(0,i);k\x3ds.linkInter"+"nalFilters.toLowerCase();k\x3ds.split(k,',');l\x3dk.length;for(m\x3d0;m\x3cl;m+"+"+){B\x3dj.indexOf(k[m])\x3d\x3d-1?'':g;if(B)O\x3dB;}if(!O\x26\x26!h){p\x3dg;U\x3dg.indexOf("+"'//');q\x3dU\x3e-1?U+2:0;Y\x3dg.indexOf('/',q);r\x3dY\x3e-1?Y:i;t\x3dg.substring(q,r)"+";t\x3dt.toLowerCase();u\x3dt;P\x3d'Referrers';S\x3ds.seList+'\x3e'+s._extraSearchE"+
"ngines;if(d\x3d\x3d1){j\x3ds.repl(j,'oogle','%');j\x3ds.repl(j,'ahoo','^');g\x3ds."+"repl(g,'as_q','*');}A\x3ds.split(S,'\x3e');T\x3dA.length;for(i\x3d0;i\x3cA.length;"+"i++){D\x3dA[i];D\x3ds.split(D,'|');E\x3ds.split(D[0],',');for(G\x3d0;G\x3cE.length"+";G++){H\x3dj.indexOf(E[G]);if(H\x3e-1){if(D[2])N\x3du\x3dD[2];else N\x3dt;if(d\x3d\x3d1)"+"{N\x3ds.repl(N,'#',' - ');g\x3ds.repl(g,'*','as_q');N\x3ds.repl(N,'^','ahoo'"+");N\x3ds.repl(N,'%','oogle');}i\x3ds.split(D[1],',');for(k\x3d0;k\x3ci.length;k"+
"++){M\x3ds.Util.getQueryParam(i[k],g).toLowerCase();if(M)break;}}}}}if(!"+"O||f!\x3d'1'){O\x3ds.Util.getQueryParam(a,b);if(O){u\x3dO;if(M)P\x3d'Paid Search';el"+"se P\x3d'Paid Non-Search';}if(!O\x26\x26N){u\x3dN;P\x3d'Natural Search'}}if(h\x3d\x3d1\x26\x26"+"!O\x26\x26v\x3d\x3d1)u\x3dP\x3dt\x3dp\x3d'Direct Load';X\x3dM+u+t;c\x3dc?c:'c_m';if(c!\x3d'0'){X\x3ds.g"+"etValOnce(X,c,0);}g\x3ds._channelDomain;if(g\x26\x26X){k\x3ds.split(g,'\x3e');l\x3dk."+"length;for(m\x3d0;m\x3cl;m++){q\x3ds.split(k[m],'|');r\x3ds.split(q[1],',');S\x3dr"+
".length;for(T\x3d0;T\x3cS;T++){Y\x3dr[T];Y\x3dY.toLowerCase();i\x3dj.indexOf(Y);if"+"(i\x3e-1)P\x3dq[0];}}}g\x3ds._channelParameter;if(g\x26\x26X){k\x3ds.split(g,'\x3e');l\x3dk"+".length;for(m\x3d0;m\x3cl;m++){q\x3ds.split(k[m],'|');r\x3ds.split(q[1],',');S\x3d"+"r.length;for(T\x3d0;T\x3cS;T++){U\x3ds.Util.getQueryParam(r[T]);if(U)P\x3dq[0]}}}g\x3ds"+"._channelPattern;if(g\x26\x26X){k\x3ds.split(g,'\x3e');l\x3dk.length;for(m\x3d0;m\x3cl;m"+"++){q\x3ds.split(k[m],'|');r\x3ds.split(q[1],',');S\x3dr.length;for(T\x3d0;T\x3cS;"+
"T++){Y\x3dr[T];Y\x3dY.toLowerCase();i\x3dO.toLowerCase();H\x3di.indexOf(Y);if(H"+"\x3d\x3d0)P\x3dq[0];}}}if(X)M\x3dM?M:N?'Keyword Unavailable':'n/a';p\x3dX\x26\x26p?p:'';"+"t\x3dX\x26\x26t?t:'';N\x3dX\x26\x26N?N:'';O\x3dX\x26\x26O?O:'';u\x3dX\x26\x26u?u:'';M\x3dX\x26\x26M?M:'';P\x3dX\x26\x26P?"+"P:'';s._referrer\x3dp;s._referringDomain\x3dt;s._partner\x3dN;s._campaignID\x3d"+"O;s._campaign\x3du;s._keywords\x3dM;s._channel\x3dP;");s.seList="search.aol.com,search.aol.ca|query,q|AOL.com Search\x3eask.com"+
",ask.co.uk|ask,q|Ask Jeeves\x3egoogle.co,googlesyndication.com|q,as_q|"+"Google\x3egoogle.com.ar|q,as_q|Google - Argentina\x3egoogle.com.au|q,as_q"+"|Google - Australia\x3egoogle.be|q,as_q|Google - Belgium\x3egoogle.com.br"+"|q,as_q|Google - Brasil\x3egoogle.ca|q,as_q|Google - Canada\x3egoogle.cl|"+"q,as_q|Google - Chile\x3egoogle.cn|q,as_q|Google - China\x3egoogle.com.co"+"|q,as_q|Google - Colombia\x3egoogle.dk|q,as_q|Google - Denmark\x3egoogle."+"com.do|q,as_q|Google - Dominican Republic\x3egoogle.fi|q,as_q|Google -"+
" Finland\x3egoogle.fr|q,as_q|Google - France\x3egoogle.de|q,as_q|Google -"+" Germany\x3egoogle.gr|q,as_q|Google - Greece\x3egoogle.com.hk|q,as_q|Goog"+"le - Hong Kong\x3egoogle.co.in|q,as_q|Google - India\x3egoogle.co.id|q,as"+"_q|Google - Indonesia\x3egoogle.ie|q,as_q|Google - Ireland\x3egoogle.co.i"+"l|q,as_q|Google - Israel\x3egoogle.it|q,as_q|Google - Italy\x3egoogle.co."+"jp|q,as_q|Google - Japan\x3egoogle.com.my|q,as_q|Google - Malaysia\x3egoo"+"gle.com.mx|q,as_q|Google - Mexico\x3egoogle.nl|q,as_q|Google - Netherl"+
"ands\x3egoogle.co.nz|q,as_q|Google - New Zealand\x3egoogle.com.pk|q,as_q|"+"Google - Pakistan\x3egoogle.com.pe|q,as_q|Google - Peru\x3egoogle.com.ph|"+"q,as_q|Google - Philippines\x3egoogle.pl|q,as_q|Google - Poland\x3egoogle"+".pt|q,as_q|Google - Portugal\x3egoogle.com.pr|q,as_q|Google - Puerto R"+"ico\x3egoogle.ro|q,as_q|Google - Romania\x3egoogle.com.sg|q,as_q|Google -"+" Singapore\x3egoogle.co.za|q,as_q|Google - South Africa\x3egoogle.es|q,as"+"_q|Google - Spain\x3egoogle.se|q,as_q|Google - Sweden\x3egoogle.ch|q,as_q"+
"|Google - Switzerland\x3egoogle.co.th|q,as_q|Google - Thailand\x3egoogle."+"com.tr|q,as_q|Google - Turkey\x3egoogle.co.uk|q,as_q|Google - United K"+"ingdom\x3egoogle.co.ve|q,as_q|Google - Venezuela\x3ebing.com|q|Microsoft "+"Bing\x3enaver.com,search.naver.com|query|Naver\x3eyahoo.com,search.yahoo."+"com|p|Yahoo!\x3eca.yahoo.com,ca.search.yahoo.com|p|Yahoo! - Canada\x3eyah"+"oo.co.jp,search.yahoo.co.jp|p,va|Yahoo! - Japan\x3esg.yahoo.com,sg.sea"+"rch.yahoo.com|p|Yahoo! - Singapore\x3euk.yahoo.com,uk.search.yahoo.com"+
"|p|Yahoo! - UK and Ireland\x3esearch.cnn.com|query|CNN Web Search\x3esear"+"ch.earthlink.net|q|Earthlink Search\x3esearch.comcast.net|q|Comcast Se"+"arch\x3esearch.rr.com|qs|RoadRunner Search\x3eoptimum.net|q|Optimum Searc"+"h";function AppMeasurement_Module_ActivityMap(f){function g(a,d){var b,c,n;if(a&&d&&(b=e.c[d]||(e.c[d]=d.split(","))))for(n=0;n<b.length&&(c=b[n++]);)if(-1<a.indexOf(c))return null;p=1;return a}function q(a,d,b,c,e){var g,h;if(a.dataset&&(h=a.dataset[d]))g=h;else if(a.getAttribute)if(h=
a.getAttribute("data-"+b))g=h;else if(h=a.getAttribute(b))g=h;if(!g&&f.useForcedLinkTracking&&e&&(g="",d=a.onclick?""+a.onclick:"")){b=d.indexOf(c);var l,k;if(0<=b){for(b+=10;b<d.length&&0<="\x3d \t\r\n".indexOf(d.charAt(b));)b++;if(b<d.length){h=b;for(l=k=0;h<d.length&&(";"!=d.charAt(h)||l);)l?d.charAt(h)!=l||k?k="\\"==d.charAt(h)?!k:0:l=0:(l=d.charAt(h),'"'!=l&&"'"!=l&&(l=0)),h++;if(d=d.substring(b,h))a.e=new Function("s","var e;try{s.w."+c+"\x3d"+d+"}catch(e){}"),a.e(f)}}}return g||e&&f.w[c]}function r(a,
d,b){var c;return(c=e[d](a,b))&&(p?(p=0,c):g(k(c),e[d+"Exclusions"]))}function s(a,d,b){var c;if(a&&!(1===(c=a.nodeType)&&(c=a.nodeName)&&(c=c.toUpperCase())&&t[c])&&(1===a.nodeType&&(c=a.nodeValue)&&(d[d.length]=c),b.a||b.t||b.s||!a.getAttribute||((c=a.getAttribute("alt"))?b.a=c:(c=a.getAttribute("title"))?b.t=c:"IMG"==(""+a.nodeName).toUpperCase()&&(c=a.getAttribute("src")||a.src)&&(b.s=c)),(c=a.childNodes)&&c.length))for(a=0;a<c.length;a++)s(c[a],d,b)}function k(a){if(null==a||void 0==a)return a;
try{return a.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]{1,}","mg")," ").substring(0,254)}catch(d){}}var e=this;e.s=f;var m=window;m.s_c_in||(m.s_c_il=[],m.s_c_in=0);e._il=m.s_c_il;e._in=m.s_c_in;e._il[e._in]=e;m.s_c_in++;
e._c="s_m";e.c={};var p=0,t={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};e._g=function(){var a,d,b,c=f.contextData,e=f.linkObject;(a=f.pageName||f.pageURL)&&(d=r(e,"link",f.linkName))&&(b=r(e,"region"))&&(c["a.activitymap.page"]=a.substring(0,255),c["a.activitymap.link"]=128<d.length?d.substring(0,128):d,c["a.activitymap.region"]=127<b.length?b.substring(0,127):b,c["a.activitymap.pageIDType"]=f.pageName?1:0)};e.link=function(a,d){var b;if(d)b=g(k(d),e.linkExclusions);else if((b=a)&&!(b=q(a,"sObjectId","s-object-id",
"s_objectID",1))){var c,f;(f=g(k(a.innerText||a.textContent),e.linkExclusions))||(s(a,c=[],b={a:void 0,t:void 0,s:void 0}),(f=g(k(c.join(""))))||(f=g(k(b.a?b.a:b.t?b.t:b.s?b.s:void 0)))||!(c=(c=a.tagName)&&c.toUpperCase?c.toUpperCase():"")||("INPUT"==c||"SUBMIT"==c&&a.value?f=g(k(a.value)):"IMAGE"==c&&a.src&&(f=g(k(a.src)))));b=f}return b};e.region=function(a){for(var d,b=e.regionIDAttribute||"id";a&&(a=a.parentNode);){if(d=q(a,b,b,b))return d;if("BODY"==a.nodeName)return"BODY"}}}s.loadModule("AudienceManagement");
function AppMeasurement_Module_AudienceManagement(d){var a=this;a.s=d;var b=window;b.s_c_in||(b.s_c_il=[],b.s_c_in=0);a._il=b.s_c_il;a._in=b.s_c_in;a._il[a._in]=a;b.s_c_in++;a._c="s_m";a.setup=function(c){b.DIL&&c&&(c.disableDefaultRequest=!0,c.disableScriptAttachment=!0,c.disableCORS=!0,c.secureDataCollection=!1,a.instance=b.DIL.create(c),a.tools=b.DIL.tools)};a.isReady=function(){return a.instance?!0:!1};a.getEventCallConfigParams=function(){return a.instance&&a.instance.api&&a.instance.api.getEventCallConfigParams?
a.instance.api.getEventCallConfigParams():{}};a.passData=function(b){a.instance&&a.instance.api&&a.instance.api.passData&&a.instance.api.passData(b)}}"function"!==typeof window.DIL&&(window.DIL=function(c,f){var k=[],g,w;c!==Object(c)&&(c={});var u,l,D,N,A,y,E,F,O,P,G,B,z;u=c.partner;l=c.containerNSID;D=!!c.disableDestinationPublishingIframe;N=c.iframeAkamaiHTTPS;A=c.mappings;y=c.uuidCookie;E=!0===c.enableErrorReporting;F=c.visitorService;O=c.declaredId;P=!0===c.delayAllUntilWindowLoad;G=!0===c.disableIDSyncs;
B="undefined"===typeof c.secureDataCollection||!0===c.secureDataCollection;z="boolean"===typeof c.isCoopSafe?c.isCoopSafe:null;var Q,L,H,R,S;Q=!0===c.disableDefaultRequest;L=c.afterResultForDefaultRequest;H=c.dpIframeSrc;R=c.visitorConstructor;S=!0===c.disableCORS;E&&DIL.errorModule.activate();E=!0===window._dil_unit_tests;(g=f)&&k.push(g+"");if(!u||"string"!==typeof u)return g="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:g,filename:"dil.js"}),
Error(g);g="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";if(l||"number"===typeof l)l=parseInt(l,10),!isNaN(l)&&0<=l&&(g="");g&&(l=0,k.push(g),g="");w=DIL.getDil(u,l);if(w instanceof DIL&&w.api.getPartner()===u&&w.api.getContainerNSID()===l)return w;if(this instanceof DIL)DIL.registerDil(this,u,l);else return new DIL(c,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner \x3d "+u+" and containerNSID \x3d "+l);var t={IS_HTTPS:B||
"https:"===document.location.protocol,MILLIS_PER_DAY:864E5,DIL_COOKIE_NAME:"AAMC_"+encodeURIComponent(u)+"_"+l,FIRST_PARTY_SYNCS:"AMSYNCS",FIRST_PARTY_SYNCS_ON_PAGE:"AMSYNCSOP",REGION:"REGION",SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:function(){if(document.documentMode)return document.documentMode;for(var a=7;4<a;a--){var b=document.createElement("div");b.innerHTML="\x3c!--[if IE "+a+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e";if(b.getElementsByTagName("span").length)return a}return null}()};
t.IS_IE_LESS_THAN_10="number"===typeof t.IE_VERSION&&10>t.IE_VERSION;var M={stuffed:{}},m={},p={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},firstRequestHasFired:!1,abortRequests:!1,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,platformParams:{d_nsid:l+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,
d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(a){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=!0;var b=this,e,d,h,n;if("function"===typeof a&&"function"===typeof a.getInstance){if(F===Object(F)&&(e=F.namespace)&&"string"===typeof e)d=a.getInstance(e,{idSyncContainerID:l});
else{this.releaseType="no namespace";this.releaseRequests();return}if(d===Object(d)&&d instanceof a&&"function"===typeof d.isAllowed&&"function"===typeof d.getMarketingCloudVisitorID&&"function"===typeof d.getCustomerIDs&&"function"===typeof d.isOptedOut){this.VisitorAPI=a;if(!d.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=d;h=function(a){"VisitorAPI"!==b.releaseType&&(b.mid=a,b.releaseType="VisitorAPI",b.releaseRequests())};n=d.getMarketingCloudVisitorID(h);
if("string"===typeof n&&n.length){h(n);return}setTimeout(function(){"VisitorAPI"!==b.releaseType&&(b.releaseType="timeout",b.releaseRequests())},this.getLoadTimeout());return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(c){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;p.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var a=
r.isPopulatedString,b=this.getMarketingCloudVisitorID();a(this.mid)&&this.mid===b||(this.mid=b);return a(this.mid)?"d_mid\x3d"+this.mid+"\x26":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(a){if(a===Object(a)){var b="",e=[],d=[],h,n;for(h in a)a.hasOwnProperty(h)&&(d[0]=h,n=a[h],n===Object(n)&&(d[1]=n.id||"",d[2]=n.authState||0,e.push(d),d=[]));if(d=e.length)for(a=0;a<d;a++)b+="\x26d_cid_ic\x3d"+q.encodeAndBuildRequest(e[a],
"%01");return b}return""},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(a){this.isOptedOut=a;this.isOptedOutCallbackCalled=!0;p.registerRequest()},getLoadTimeout:function(){var a=this.instance;if(a){if("function"===typeof a.getLoadTimeout)return a.getLoadTimeout();if("undefined"!==typeof a.loadTimeout)return a.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},
declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(a,b){var e=r.isPopulatedString,d=encodeURIComponent;if(a===Object(a)&&e(b)){var h=a.dpid,n=a.dpuuid,c=null;if(e(h)&&e(n)){c=d(h)+"$"+d(n);if(!0===this.declaredIdCombos[c])return"setDeclaredId: combo exists for type '"+b+"'";this.declaredIdCombos[c]=!0;this.declaredId[b]={dpid:h,dpuuid:n};return"setDeclaredId: succeeded for type '"+b+"'"}}return"setDeclaredId: failed for type '"+b+"'"},getDeclaredIdQueryString:function(){var a=
this.declaredId.request,b=this.declaredId.init,e=encodeURIComponent,d="";null!==a?d="\x26d_dpid\x3d"+e(a.dpid)+"\x26d_dpuuid\x3d"+e(a.dpuuid):null!==b&&(d="\x26d_dpid\x3d"+e(b.dpid)+"\x26d_dpuuid\x3d"+e(b.dpuuid));return d}},registerRequest:function(a){var b=this.firingQueue;a===Object(a)&&b.push(a);this.firing||!b.length||P&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(this.adms.isOptedOutCallbackCalled=
!1,a=b.shift(),a.src=a.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid\x3d"),r.isPopulatedString(a.corsPostData)&&(a.corsPostData=a.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid\x3d")),C.fireRequest(a),this.firstRequestHasFired||"script"!==a.tag&&"cors"!==a.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(R||window.Visitor)},getCoopQueryString:function(){var a="";!0===z?a="\x26d_coop_safe\x3d1":
!1===z&&(a="\x26d_coop_unsafe\x3d1");return a}};B=function(){var a="http://fast.",b="?d_nsid\x3d"+l+"#"+encodeURIComponent(document.location.href);if("string"===typeof H&&H.length)return H+b;t.IS_HTTPS&&(a=!0===N?"https://fast.":"https://");return a+u+".demdex.net/dest5.html"+b};var v={MAX_SYNCS_LENGTH:649,id:"destination_publishing_iframe_"+u+"_"+l,url:B(),onPagePixels:[],iframeHost:null,getIframeHost:function(a){if("string"===typeof a){var b=a.split("/");if(3<=b.length)return b[0]+"//"+b[2];k.push("getIframeHost: url is malformed: "+
a);return a}},iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],ibsDeleted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,newIframeCreated:null,iframeIdChanged:!1,originalIframeHasLoadedAlready:null,regionChanged:!1,timesRegionChanged:0,attachIframe:function(){function a(){d=document.createElement("iframe");d.sandbox="allow-scripts allow-same-origin";d.title=
"Adobe ID Syncing iFrame";d.id=e.id;d.name=e.id+"_name";d.style.cssText="display: none; width: 0; height: 0;";d.src=e.url;e.newIframeCreated=!0;b();document.body.appendChild(d)}function b(){d.addEventListener("load",function(){d.className="aamIframeLoaded";e.iframeHasLoaded=!0;e.requestToProcess()})}if(!t.IS_IE_LESS_THAN_10){var e=this,d=document.getElementById(this.id);d?"IFRAME"!==d.nodeName?(this.id+="_2",this.iframeIdChanged=!0,a()):(this.newIframeCreated=!1,"aamIframeLoaded"!==d.className?(this.originalIframeHasLoadedAlready=
!1,b()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.iframe=d,this.requestToProcess())):a();this.iframe=d}},requestToProcess:function(a,b){function e(){d.jsonForComparison.push(a);d.jsonWaiting.push([a,b])}var d=this,h,n;h=p.adms.instance;a===Object(a)&&h===Object(h)&&h.idSyncContainerID===l&&(v.ibsDeleted.push(a.ibs),delete a.ibs);if(a&&!r.isEmptyObject(a))if(h=JSON.stringify(a.ibs||[]),n=JSON.stringify(a.dests||[]),this.jsonForComparison.length){var c=!1,f,g,k;f=0;for(g=this.jsonForComparison.length;f<
g;f++)if(k=this.jsonForComparison[f],h===JSON.stringify(k.ibs||[])&&n===JSON.stringify(k.dests||[])){c=!0;break}c?this.jsonDuplicates.push(a):e()}else e();this.receivedThirdPartyCookiesNotification&&this.jsonWaiting.length&&(h=this.jsonWaiting.shift(),!1===this.newIframeCreated&&delete h[0].ibs,this.process(h[0],h[1]),this.requestToProcess());this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.sendingMessages=!0,this.sendMessages())},checkIfRegionChanged:function(a){var b=q.getDilCookieField(t.REGION);
null!==b&&"undefined"!==typeof a.dcs_region&&parseInt(b,10)!==a.dcs_region&&(this.regionChanged=!0,this.timesRegionChanged++,q.setDilCookieField(t.FIRST_PARTY_SYNCS_ON_PAGE,""),q.setDilCookieField(t.FIRST_PARTY_SYNCS,""));"undefined"!==typeof a.dcs_region&&q.setDilCookieField(t.REGION,a.dcs_region)},processSyncOnPage:function(a){var b,e,d;if((b=a.ibs)&&b instanceof Array&&(e=b.length))for(a=0;a<e;a++)d=b[a],d.syncOnPage&&this.checkFirstPartyCookie(d,"","syncOnPage")},process:function(a,b){var e=encodeURIComponent,
d,h,n,c,f,g;b===Object(b)&&(g=q.encodeAndBuildRequest(["",b.dpid||"",b.dpuuid||""],","));if((d=a.dests)&&d instanceof Array&&(h=d.length))for(n=0;n<h;n++)c=d[n],f=[e("dests"),e(c.id||""),e(c.y||""),e(c.c||"")],this.addMessage(f.join("|"));if((d=a.ibs)&&d instanceof Array&&(h=d.length))for(n=0;n<h;n++)c=d[n],f=[e("ibs"),e(c.id||""),e(c.tag||""),q.encodeAndBuildRequest(c.url||[],","),e(c.ttl||""),"",g,c.fireURLSync?"true":"false"],c.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(f.join("|")):
c.fireURLSync&&this.checkFirstPartyCookie(c,f.join("|")));this.jsonProcessed.push(a)},checkFirstPartyCookie:function(a,b,e){var d=(e="syncOnPage"===e?!0:!1)?t.FIRST_PARTY_SYNCS_ON_PAGE:t.FIRST_PARTY_SYNCS,h=this.getOnPageSyncData(d),c=!1,f=!1,g=Math.ceil((new Date).getTime()/t.MILLIS_PER_DAY);h?(h=h.split("*"),f=this.pruneSyncData(h,a.id,g),c=f.dataPresent,f=f.dataValid,c&&f||this.fireSync(e,a,b,h,d,g)):(h=[],this.fireSync(e,a,b,h,d,g))},getOnPageSyncData:function(a){var b=p.adms.instance;return b&&
"function"===typeof b.idSyncGetOnPageSyncInfo?b.idSyncGetOnPageSyncInfo():q.getDilCookieField(a)},pruneSyncData:function(a,b,e){var d=!1,h=!1,c,f,g;if(a instanceof Array)for(f=0;f<a.length;f++)c=a[f],g=parseInt(c.split("-")[1],10),c.match("^"+b+"-")?(d=!0,e<g?h=!0:(a.splice(f,1),f--)):e>=g&&(a.splice(f,1),f--);return{dataPresent:d,dataValid:h}},manageSyncsSize:function(a){if(a.join("*").length>this.MAX_SYNCS_LENGTH)for(a.sort(function(a,e){return parseInt(a.split("-")[1],10)-parseInt(e.split("-")[1],
10)});a.join("*").length>this.MAX_SYNCS_LENGTH;)a.shift()},fireSync:function(a,b,e,d,h,c){function f(a,b,d,e){return function(){g.onPagePixels[a]=null;var h=g.getOnPageSyncData(d),c=[];if(h){var h=h.split("*"),n,f,k;n=0;for(f=h.length;n<f;n++)k=h[n],k.match("^"+b.id+"-")||c.push(k)}g.setSyncTrackingData(c,b,d,e)}}var g=this;if(a){if("img"===b.tag){a=b.url;e=t.IS_HTTPS?"https:":"http:";var k,p,q;d=0;for(k=a.length;d<k;d++){p=a[d];q=/^\/\//.test(p);var l=new Image;l.addEventListener("load",f(this.onPagePixels.length,
b,h,c));l.src=(q?e:"")+p;this.onPagePixels.push(l)}}}else this.addMessage(e),this.setSyncTrackingData(d,b,h,c)},addMessage:function(a){this.messages.push(a)},setSyncTrackingData:function(a,b,e,d){a.push(b.id+"-"+(d+Math.ceil(b.ttl/60/24)));this.manageSyncsSize(a);q.setDilCookieField(e,a.join("*"))},sendMessages:function(){var a="",b=encodeURIComponent;this.regionChanged&&(a=b("---destpub-clear-dextp---"),this.regionChanged=!1);this.messages.length&&(a=a+b("---destpub-combined---")+this.messages.join("%01"),
this.postMessage(a),this.messages=[]);this.sendingMessages=!1},postMessage:function(a){DIL.xd.postMessage(a,this.url,this.iframe.contentWindow);this.messagesPosted.push(a)},receiveMessage:function(a){var b=/^---destpub-to-parent---/;"string"===typeof a&&b.test(a)&&(b=a.replace(b,"").split("|"),"canSetThirdPartyCookies"===b[0]&&(this.canSetThirdPartyCookies="true"===b[1]?!0:!1,this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(a))}},J={traits:function(a){r.isValidPdata(a)&&
(m.sids instanceof Array||(m.sids=[]),q.extendArray(m.sids,a));return this},pixels:function(a){r.isValidPdata(a)&&(m.pdata instanceof Array||(m.pdata=[]),q.extendArray(m.pdata,a));return this},logs:function(a){r.isValidLogdata(a)&&(m.logdata!==Object(m.logdata)&&(m.logdata={}),q.extendObject(m.logdata,a));return this},customQueryParams:function(a){r.isEmptyObject(a)||q.extendObject(m,a,p.reservedKeys);return this},signals:function(a,b){var e,d=a;if(!r.isEmptyObject(d)){if(b&&"string"===typeof b)for(e in d=
{},a)a.hasOwnProperty(e)&&(d[b+e]=a[e]);q.extendObject(m,d,p.reservedKeys)}return this},declaredId:function(a){p.declaredId.setDeclaredId(a,"request");return this},result:function(a){"function"===typeof a&&(m.callback=a);return this},afterResult:function(a){"function"===typeof a&&(m.postCallbackFn=a);return this},useImageRequest:function(){m.useImageRequest=!0;return this},clearData:function(){m={};return this},submit:function(){C.submitRequest(m);m={};return this},getPartner:function(){return u},
getContainerNSID:function(){return l},getEventLog:function(){return k},getState:function(){var a={},b={};q.extendObject(a,p,{registerRequest:!0});q.extendObject(b,v,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0});return{initConfig:c,pendingRequest:m,otherRequestInfo:a,destinationPublishingInfo:b}},idSync:function(a){if(G)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!==typeof a.dpid||!a.dpid.length)return"Error: config or config.dpid is empty";if("string"!==
typeof a.url||!a.url.length)return"Error: config.url is empty";var b=a.url,e=a.minutesToLive,d=encodeURIComponent,h=v,c,b=b.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof e)e=20160;else if(e=parseInt(e,10),isNaN(e)||0>=e)return"Error: config.minutesToLive needs to be a positive number";c=q.encodeAndBuildRequest(["",a.dpid,a.dpuuid||""],",");a=["ibs",d(a.dpid),"img",d(b),e,"",c];h.addMessage(a.join("|"));p.firstRequestHasFired&&h.requestToProcess();return"Successfully queued"},
aamIdSync:function(a){if(G)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!==typeof a.dpuuid||!a.dpuuid.length)return"Error: config or config.dpuuid is empty";a.url="//dpm.demdex.net/ibs:dpid\x3d"+a.dpid+"\x26dpuuid\x3d"+a.dpuuid;return this.idSync(a)},passData:function(a){if(r.isEmptyObject(a))return"Error: json is empty or not an object";v.ibsDeleted.push(a.ibs);delete a.ibs;C.defaultCallback(a);return a},getPlatformParams:function(){return p.platformParams},getEventCallConfigParams:function(){var a=
p,b=a.modStatsParams,e=a.platformParams,d;if(!b){b={};for(d in e)e.hasOwnProperty(d)&&!a.nonModStatsParams[d]&&(b[d.replace(/^d_/,"")]=e[d]);!0===z?b.coop_safe=1:!1===z&&(b.coop_unsafe=1);a.modStatsParams=b}return b},setAsCoopSafe:function(){z=!0;return this},setAsCoopUnsafe:function(){z=!1;return this}},C={corsMetadata:function(){var a="none",b=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?a="XMLHttpRequest":(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?
a="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(b=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(b=!1));return{corsType:a,corsCookiesEnabled:b}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(a){p.registerRequest(C.createQueuedRequest(a));return!0},createQueuedRequest:function(a){var b=a.callback,e="img",d,h;if(!r.isEmptyObject(A)){var c;
for(d in A)A.hasOwnProperty(d)&&(h=A[d],null==h||""===h||!(d in a)||h in a||h in p.reservedKeys||(c=a[d],null!=c&&""!==c&&(a[h]=c)))}r.isValidPdata(a.sids)||(a.sids=[]);r.isValidPdata(a.pdata)||(a.pdata=[]);r.isValidLogdata(a.logdata)||(a.logdata={});a.logdataArray=q.convertObjectToKeyValuePairs(a.logdata,"\x3d",!0);a.logdataArray.push("_ts\x3d"+(new Date).getTime());"function"!==typeof b&&(b=this.defaultCallback);d=this.makeRequestSrcData(a);(h=this.getCORSInstance())&&!0!==a.useImageRequest&&(e=
"cors");return{tag:e,src:d.src,corsSrc:d.corsSrc,callbackFn:b,postCallbackFn:a.postCallbackFn,useImageRequest:!!a.useImageRequest,requestData:a,corsInstance:h,corsPostData:d.corsPostData}},defaultCallback:function(a,b){v.checkIfRegionChanged(a);v.processSyncOnPage(a);var e,d,h,c,f,g,k,l,m;if((e=a.stuff)&&e instanceof Array&&(d=e.length))for(h=0;h<d;h++)if((c=e[h])&&c===Object(c)){f=c.cn;g=c.cv;k=c.ttl;if("undefined"===typeof k||""===k)k=Math.floor(q.getMaxCookieExpiresInMinutes()/60/24);l=c.dmn||
"."+document.domain.replace(/^www\./,"");m=c.type;f&&(g||"number"===typeof g)&&("var"!==m&&(k=parseInt(k,10))&&!isNaN(k)&&q.setCookie(f,g,1440*k,"/",l,!1),M.stuffed[f]=g)}e=a.uuid;r.isPopulatedString(e)&&!r.isEmptyObject(y)&&(d=y.path,"string"===typeof d&&d.length||(d="/"),h=parseInt(y.days,10),isNaN(h)&&(h=100),q.setCookie(y.name||"aam_did",e,1440*h,d,y.domain||"."+document.domain.replace(/^www\./,""),!0===y.secure));D||p.abortRequests||v.requestToProcess(a,b)},makeRequestSrcData:function(a){a.sids=
r.removeEmptyArrayValues(a.sids||[]);a.pdata=r.removeEmptyArrayValues(a.pdata||[]);var b=p,e=b.platformParams,d=q.encodeAndBuildRequest(a.sids,","),c=q.encodeAndBuildRequest(a.pdata,","),f=(a.logdataArray||[]).join("\x26");delete a.logdataArray;var g=t.IS_HTTPS?"https://":"http://",k=b.declaredId.getDeclaredIdQueryString(),l=b.adms.instance?b.adms.getCustomerIDsQueryString(b.adms.getCustomerIDs()):"",m=[],x,v,I,w;for(x in a)if(!(x in b.reservedKeys)&&a.hasOwnProperty(x))if(v=a[x],x=encodeURIComponent(x),
v instanceof Array)for(I=0,w=v.length;I<w;I++)m.push(x+"\x3d"+encodeURIComponent(v[I]));else m.push(x+"\x3d"+encodeURIComponent(v));a=m.length?"\x26"+m.join("\x26"):"";b="d_nsid\x3d"+e.d_nsid+b.getCoopQueryString()+k+l+(d.length?"\x26d_sid\x3d"+d:"")+(c.length?"\x26d_px\x3d"+c:"")+(f.length?"\x26d_ld\x3d"+encodeURIComponent(f):"");e="\x26d_rtbd\x3d"+e.d_rtbd+"\x26d_jsonv\x3d"+e.d_jsonv+"\x26d_dst\x3d"+e.d_dst;g=g+u+".demdex.net/event";c=d=g+"?"+b+e+a;2048<d.length&&(d=d.substring(0,2048).substring(0,
d.lastIndexOf("\x26")));return{corsSrc:g+"?_ts\x3d"+(new Date).getTime(),src:d,originalSrc:c,corsPostData:b+e+a,isDeclaredIdCall:""!==k}},fireRequest:function(a){if("img"===a.tag)this.fireImage(a);else{var b=p.declaredId,b=b.declaredId.request||b.declaredId.init||{};this.fireCORS(a,{dpid:b.dpid||"",dpuuid:b.dpuuid||""})}},fireImage:function(a){var b=p,e,d;b.abortRequests||(b.firing=!0,e=new Image(0,0),b.sent.push(a),e.onload=function(){b.firing=!1;b.fired.push(a);b.num_of_img_responses++;b.registerRequest()},
d=function(d){g="imgAbortOrErrorHandler received the event of type "+d.type;k.push(g);b.abortRequests=!0;b.firing=!1;b.errored.push(a);b.num_of_img_errors++;b.registerRequest()},e.addEventListener("error",d),e.addEventListener("abort",d),e.src=a.src)},fireCORS:function(a,b){var e=this,d=p,c=this.corsMetadata.corsType,f=a.corsSrc,l=a.corsInstance,q=a.corsPostData,m=a.postCallbackFn,r="function"===typeof m;if(!d.abortRequests&&!S){d.firing=!0;try{l.open("post",f,!0),"XMLHttpRequest"===c&&(l.withCredentials=
!0,l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.onreadystatechange=function(){if(4===this.readyState&&200===this.status)a:{var c;try{if(c=JSON.parse(this.responseText),c!==Object(c)){e.handleCORSError(a,b,"Response is not JSON");break a}}catch(h){e.handleCORSError(a,b,"Error parsing response as JSON");break a}G&&(v.ibsDeleted.push(c.ibs),delete c.ibs);try{var f=a.callbackFn;d.firing=!1;d.fired.push(a);d.num_of_cors_responses++;f(c,b);r&&m(c,b)}catch(h){h.message="DIL handleCORSResponse caught error with message "+
h.message;g=h.message;k.push(g);h.filename=h.filename||"dil.js";h.partner=u;DIL.errorModule.handleError(h);try{f({error:h.name+"|"+h.message},b),r&&m({error:h.name+"|"+h.message},b)}catch(n){}}finally{d.registerRequest()}}}),l.onerror=function(){e.handleCORSError(a,b,"onerror")},l.ontimeout=function(){e.handleCORSError(a,b,"ontimeout")},l.send(q)}catch(t){this.handleCORSError(a,b,"try-catch")}d.sent.push(a);d.declaredId.declaredId.request=null}},handleCORSError:function(a,b,e){p.num_of_cors_errors++;
p.corsErrorSources.push(e)},handleRequestError:function(a,b){var e=p;k.push(a);e.abortRequests=!0;e.firing=!1;e.errored.push(b);e.registerRequest()}},r={isValidPdata:function(a){return a instanceof Array&&this.removeEmptyArrayValues(a).length?!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},isEmptyObject:function(a){if(a!==Object(a))return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeEmptyArrayValues:function(a){for(var b=0,e=a.length,d,c=[],b=0;b<e;b++)d=a[b],"undefined"!==
typeof d&&null!==d&&""!==d&&c.push(d);return c},isPopulatedString:function(a){return"string"===typeof a&&a.length}},q={convertObjectToKeyValuePairs:function(a,b,e){var d=[],c,f;b||(b="\x3d");for(c in a)a.hasOwnProperty(c)&&(f=a[c],"undefined"!==typeof f&&null!==f&&""!==f&&d.push(c+b+(e?encodeURIComponent(f):f)));return d},encodeAndBuildRequest:function(a,b){return a.map(function(a){return encodeURIComponent(a)}).join(b)},getCookie:function(a){a+="\x3d";var b=document.cookie.split(";"),e,d,c;e=0;for(d=
b.length;e<d;e++){for(c=b[e];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(a))return decodeURIComponent(c.substring(a.length,c.length))}return null},setCookie:function(a,b,e,d,c,f){var g=new Date;e&&(e*=6E4);document.cookie=a+"\x3d"+encodeURIComponent(b)+(e?";expires\x3d"+(new Date(g.getTime()+e)).toUTCString():"")+(d?";path\x3d"+d:"")+(c?";domain\x3d"+c:"")+(f?";secure":"")},extendArray:function(a,b){return a instanceof Array&&b instanceof Array?(Array.prototype.push.apply(a,b),!0):
!1},extendObject:function(a,b,e){var d;if(a===Object(a)&&b===Object(b)){for(d in b)!b.hasOwnProperty(d)||!r.isEmptyObject(e)&&d in e||(a[d]=b[d]);return!0}return!1},getMaxCookieExpiresInMinutes:function(){return t.SIX_MONTHS_IN_MINUTES},getCookieField:function(a,b){var e=this.getCookie(a),d=decodeURIComponent;if("string"===typeof e){var e=e.split("|"),c,f;c=0;for(f=e.length-1;c<f;c++)if(d(e[c])===b)return d(e[c+1])}return null},getDilCookieField:function(a){return this.getCookieField(t.DIL_COOKIE_NAME,
a)},setCookieField:function(a,b,c){var d=this.getCookie(a),f=!1,g=encodeURIComponent;b=g(b);c=g(c);if("string"===typeof d){var d=d.split("|"),k,g=0;for(k=d.length-1;g<k;g++)if(d[g]===b){d[g+1]=c;f=!0;break}f||(g=d.length,d[g]=b,d[g+1]=c)}else d=[b,c];this.setCookie(a,d.join("|"),this.getMaxCookieExpiresInMinutes(),"/",this.getDomain(),!1)},setDilCookieField:function(a,b){return this.setCookieField(t.DIL_COOKIE_NAME,a,b)},getDomain:function(a){!a&&window.location&&(a=window.location.hostname);if(a)if(/^[0-9.]+$/.test(a))a=
"";else{var b=a.split("."),c=b.length-1,d=c-1;1<c&&2>=b[c].length&&(2===b[c-1].length||0>",DOMAIN_2_CHAR_EXCEPTIONS,".indexOf(","+b[c]+","))&&d--;if(0<d)for(a="";c>=d;)a=b[c]+(a?".":"")+a,c--}return a},replaceMethodsWithFunction:function(a,b){var c;if(a===Object(a)&&"function"===typeof b)for(c in a)a.hasOwnProperty(c)&&"function"===typeof a[c]&&(a[c]=b)}};"error"===u&&0===l&&window.addEventListener("load",function(){DIL.windowLoaded=!0});var T=!1,K=function(){T||(T=!0,p.registerRequest(),U(),D||p.abortRequests||
v.attachIframe())},U=function(){D||setTimeout(function(){Q||p.firstRequestHasFired||("function"===typeof L?J.afterResult(L).submit():J.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)};w=document;"error"!==u&&(DIL.windowLoaded?K():"complete"!==w.readyState&&"loaded"!==w.readyState?window.addEventListener("load",function(){DIL.windowLoaded=!0;K()}):(DIL.windowLoaded=!0,K()));if("error"!==u)try{DIL.xd.receiveMessage(function(a){v.receiveMessage(a.data)},v.getIframeHost(v.url))}catch(a){}p.declaredId.setDeclaredId(O,
"init");p.processVisitorAPI();t.IS_IE_LESS_THAN_10&&q.replaceMethodsWithFunction(J,function(){return this});this.api=J;this.getStuffedVariable=function(a){var b=M.stuffed[a];b||"number"===typeof b||(b=q.getCookie(a))||"number"===typeof b||(b="");return b};this.validators=r;this.helpers=q;this.constants=t;this.log=k;E&&(this.pendingRequest=m,this.requestController=p,this.setDestinationPublishingUrl=B,this.destinationPublishing=v,this.requestProcs=C,this.variables=M,this.callWindowLoadFunctions=K)},
DIL.extendStaticPropertiesAndMethods=function(c){var f;if(c===Object(c))for(f in c)c.hasOwnProperty(f)&&(this[f]=c[f])},DIL.extendStaticPropertiesAndMethods({version:"7.0",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script")},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(c){this.windowLoaded="function"===typeof c?!!c():"boolean"===typeof c?c:!0},create:function(c){try{return new DIL(c)}catch(f){throw Error("Error in attempt to create DIL instance with DIL.create(): "+
f.message);}},registerDil:function(c,f,k){f=f+"$"+k;f in this.dils||(this.dils[f]=c)},getDil:function(c,f){var k;"string"!==typeof c&&(c="");f||(f=0);k=c+"$"+f;return k in this.dils?this.dils[k]:Error("The DIL instance with partner \x3d "+c+" and containerNSID \x3d "+f+" was not found")},dexGetQSVars:function(c,f,k){f=this.getDil(f,k);return f instanceof this?f.getStuffedVariable(c):""},xd:{postMessage:function(c,f,k){f&&k.postMessage(c,f.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))},receiveMessage:function(c,
f){var k;try{c&&(k=function(g){if("string"===typeof f&&g.origin!==f||"[object Function]"===Object.prototype.toString.call(f)&&!1===f(g.origin))return!1;c(g)}),window[c?"addEventListener":"removeEventListener"]("message",k,!1)}catch(g){}}}}),DIL.errorModule=function(){var c=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),f={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,
referenceerror:15018,typeerror:15019,urierror:15020},k=!1;return{activate:function(){k=!0},handleError:function(g){if(!k)return"DIL error module has not been activated";g!==Object(g)&&(g={});var w=g.name?(g.name+"").toLowerCase():"",u=[];g={name:w,filename:g.filename?g.filename+"":"",partner:g.partner?g.partner+"":"no_partner",site:g.site?g.site+"":document.location.href,message:g.message?g.message+"":""};u.push(w in f?f[w]:f.noerrortypedefined);c.api.pixels(u).logs(g).useImageRequest().submit();
return"DIL error report sent"},pixelMap:f}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(c,f,k){var g="";f=f||"Error caught in DIL module/submodule: ";c===Object(c)?g=f+(c.message||"err has no message"):(g=f+"err is not a valid object",c={});c.message=g;k instanceof DIL&&(c.partner=k.api.getPartner());DIL.errorModule.handleError(c);return this.errorMessage=g}}});AppMeasurement_Module_AudienceManagement["REMOVE"]=1;var x=new AppMeasurement_Module_AudienceManagement("REMOVE");function AppMeasurement(r){var a=
this;a.version="2.3.0";var k=window;k.s_c_in||(k.s_c_il=[],k.s_c_in=0);a._il=k.s_c_il;a._in=k.s_c_in;a._il[a._in]=a;k.s_c_in++;a._c="s_c";var p=k.AppMeasurement.Pb;p||(p=null);var n=k,m,s;try{for(m=n.parent,s=n.location;m&&m.location&&s&&""+m.location!=""+s&&n.location&&""+m.location!=""+n.location&&m.location.host==s.host;)n=m,m=n.parent}catch(u){}a.F=function(a){try{console.log(a)}catch(b){}};a.Ma=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||0>a.indexOf(b)?a:a.split(b).join(d)};
a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.wb=function(){var c=k.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.Ea&&!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):
2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.Ea=0<d?c.substring(d):c}return a.Ea};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"\x3d"),f=0>d?d:b.indexOf(";",d);c=0>d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.wb(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?(d=new Date,
d.setTime(d.getTime()+1E3*g)):1==d&&(d=new Date,g=d.getYear(),d.setYear(g+5+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=a.escape(c)+"\x3d"+a.escape(""!=b?b:"[[B]]")+"; path\x3d/;"+(d&&"SESSION"!=e?" expires\x3d"+d.toGMTString()+";":"")+(f?" domain\x3d"+f+";":""),a.cookieRead(c)==b):0};a.L=[];a.ia=function(c,b,d){if(a.Fa)return 0;a.maxDelay||(a.maxDelay=750);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,h=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);
if(g&&"prerender"==g){if(!a.ja)for(a.ja=1,d=0;d<h.length;d++)a.d.addEventListener(h[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&(a.ja=0,a.delayReady())});f=1;e=0}else d||a.p("_d")&&(f=1);f&&(a.L.push({m:c,a:b,t:e}),a.ja||setTimeout(a.delayReady,a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.p("_d")?b=1:a.xa();0<a.L.length;){d=a.L.shift();if(b&&!d.t&&d.t>c){a.L.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));
break}a.Fa=1;a[d.m].apply(a,d.a);a.Fa=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.ia("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,h="";e=f="";if(a.lightProfileID)d=a.P,(h=a.lightTrackVars)&&(h=","+h+","+a.na.join(",")+",");else{d=a.g;if(a.pe||a.linkType)h=a.linkTrackVars,f=a.linkTrackEvents,
a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(h=a[e].Nb,f=a[e].Mb));h&&(h=","+h+","+a.H.join(",")+",");f&&h&&(h+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!h||0<=h.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.r=function(c,b,d,f,e){var g="",h,l,k,q,m=0;"contextData"==c&&(c="c");if(b){for(h in b)if(!(Object.prototype[h]||e&&h.substring(0,e.length)!=e)&&b[h]&&(!d||0<=d.indexOf(","+(f?f+".":"")+h+","))){k=!1;if(m)for(l=0;l<m.length;l++)h.substring(0,
m[l].length)==m[l]&&(k=!0);if(!k&&(""==g&&(g+="\x26"+c+"."),l=b[h],e&&(h=h.substring(e.length)),0<h.length))if(k=h.indexOf("."),0<k)l=h.substring(0,k),k=(e?e:"")+l+".",m||(m=[]),m.push(k),g+=a.r(l,b,d,f,k);else if("boolean"==typeof l&&(l=l?"true":"false"),l){if("retrieveLightData"==f&&0>e.indexOf(".contextData."))switch(k=h.substring(0,4),q=h.substring(4),h){case "transactionID":h="xact";break;case "channel":h="ch";break;case "campaign":h="v0";break;default:a.Ma(q)&&("prop"==k?h="c"+q:"eVar"==k?h=
"v"+q:"list"==k?h="l"+q:"hier"==k&&(h="h"+q,l=l.substring(0,255)))}g+="\x26"+a.escape(h)+"\x3d"+a.escape(l)}}""!=g&&(g+="\x26."+c)}return g};a.usePostbacks=0;a.zb=function(){var c="",b,d,f,e,g,h,l,k,q="",m="",n=e="";if(a.lightProfileID)b=a.P,(q=a.lightTrackVars)&&(q=","+q+","+a.na.join(",")+",");else{b=a.g;if(a.pe||a.linkType)q=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(q=a[e].Nb,m=a[e].Mb));q&&(q=","+q+","+a.H.join(",")+",");m&&(m=","+
m+",",q&&(q+=",events,"));a.events2&&(n+=(""!=n?",":"")+a.events2)}if(a.visitor&&a.visitor.getCustomerIDs){e=p;if(g=a.visitor.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],"object"==typeof f&&(e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState)));e&&(c+=a.r("cid",e))}a.AudienceManagement&&a.AudienceManagement.isReady()&&(c+=a.r("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);h=e.substring(4);g||("events"==
e&&n?(g=n,n=""):"marketingCloudOrgID"==e&&a.visitor&&(g=a.visitor.marketingCloudOrgID));if(g&&(!q||0<=q.indexOf(","+e+","))){switch(e){case "customerPerspective":e="cp";break;case "marketingCloudOrgID":e="mcorgid";break;case "supplementalDataID":e="sdid";break;case "timestamp":e="ts";break;case "dynamicVariablePrefix":e="D";break;case "visitorID":e="vid";break;case "marketingCloudVisitorID":e="mid";break;case "analyticsVisitorID":e="aid";break;case "audienceManagerLocationHint":e="aamlh";break;case "audienceManagerBlob":e=
"aamb";break;case "authState":e="as";break;case "pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case "pageURLRest":e="-g";break;case "referrer":e="r";break;case "vmk":case "visitorMigrationKey":e="vmt";break;case "visitorMigrationServer":e="vmf";a.ssl&&a.visitorMigrationServerSecure&&(g="");break;case "visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case "charSet":e="ce";break;case "visitorNamespace":e="ns";break;case "cookieDomainPeriods":e=
"cdp";break;case "cookieLifetime":e="cl";break;case "variableProvider":e="vvp";break;case "currencyCode":e="cc";break;case "channel":e="ch";break;case "transactionID":e="xact";break;case "campaign":e="v0";break;case "latitude":e="lat";break;case "longitude":e="lon";break;case "resolution":e="s";break;case "colorDepth":e="c";break;case "javascriptVersion":e="j";break;case "javaEnabled":e="v";break;case "cookiesEnabled":e="k";break;case "browserWidth":e="bw";break;case "browserHeight":e="bh";break;
case "connectionType":e="ct";break;case "homepage":e="hp";break;case "events":n&&(g+=(""!=g?",":"")+n);if(m)for(h=g.split(","),g="",f=0;f<h.length;f++)l=h[f],k=l.indexOf("\x3d"),0<=k&&(l=l.substring(0,k)),k=l.indexOf(":"),0<=k&&(l=l.substring(0,k)),0<=m.indexOf(","+l+",")&&(g+=(g?",":"")+h[f]);break;case "events2":g="";break;case "contextData":c+=a.r("c",a[e],q,e);g="";break;case "lightProfileID":e="mtp";break;case "lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case "lightIncrementBy":e=
"mti";a.lightProfileID||(g="");break;case "retrieveLightProfiles":e="mtsr";break;case "deleteLightProfiles":e="mtsd";break;case "retrieveLightData":a.retrieveLightProfiles&&(c+=a.r("mts",a[e],q,e));g="";break;default:a.Ma(h)&&("prop"==f?e="c"+h:"eVar"==f?e="v"+h:"list"==f?e="l"+h:"hier"==f&&(e="h"+h,g=g.substring(0,255)))}g&&(c+="\x26"+e+"\x3d"+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}return c};a.D=function(a){var b=a.tagName;if("undefined"!=""+a.Sb||"undefined"!=""+a.Ib&&
"HTML"!=(""+a.Ib).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.Ia=function(a){var b=k.location,d=a.href?a.href:"",f,e,g;f=d.indexOf(":");e=d.indexOf("?");g=d.indexOf("/");d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:b.protocol?b.protocol:"",f=b.pathname.lastIndexOf("/"),d=(e?e+"//":"")+(a.host?a.host:b.host?b.host:"")+
("/"!=d.substring(0,1)?b.pathname.substring(0,0>f?0:f)+"/":"")+d);return d};a.M=function(c){var b=a.D(c),d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):"IMAGE"==b&&c.src&&(e=c.src):e=a.Ia(c),e)?{id:e.substring(0,100),type:g}:
0};a.Qb=function(c){for(var b=a.D(c),d=a.M(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=a.D(c),d=a.M(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&(c=0);return c};a.Hb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,h;a.oa=1;d||(a.oa=0,d=a.clickObject);if(d){c=a.D(d);for(b=a.M(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.D(d),b=a.M(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var l=
d.onclick?""+d.onclick:"";if(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))d=0}}else a.oa=1;!e&&d&&(e=a.Ia(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var m=0,q=0,n;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(l=e.toLowerCase(),g=l.indexOf("?"),h=l.indexOf("#"),0<=g?0<=h&&h<g&&(g=h):g=h,0<=g&&(l=l.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),h=0;h<g.length;h++)(n=g[h])&&l.substring(l.length-(n.length+1))=="."+n&&(f="d");
if(a.trackExternalLinks&&!f&&(l=e.toLowerCase(),a.La(l)&&(a.linkInternalFilters||(a.linkInternalFilters=k.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),m=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(h=0;h<g.length;h++)n=g[h],0<=l.indexOf(n)&&(q=1);q?m&&(f="e"):m||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,
e=0),k.s_objectID&&(b.id=k.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="\x26pid\x3d"+a.escape(f.substring(0,255))+(e?"\x26pidt\x3d"+e:"")+"\x26oid\x3d"+a.escape(b.id.substring(0,100))+(b.type?"\x26oidt\x3d"+b.type:"")+"\x26ot\x3d"+c+(d?"\x26oi\x3d"+d:"")))};a.Ab=function(){var c=a.oa,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.ActivityMap){var b=
{},d=0,e=a.cookieRead("s_sq"),g=e?e.split("\x26"):0,h,l,k,e=0;if(g)for(h=0;h<g.length;h++)l=g[h].split("\x3d"),f=a.unescape(l[0]).split(","),l=a.unescape(l[1]),b[l]=f;f=a.account.split(",");h={};for(k in a.contextData)k&&!Object.prototype[k]&&"a.activitymap."==k.substring(0,14)&&(h[k]=a.contextData[k],a.contextData[k]="");a.e=a.r("c",h)+(a.e?a.e:"");if(c||a.e){c&&!a.e&&(e=1);for(l in b)if(!Object.prototype[l])for(k=0;k<f.length;k++)for(e&&(g=b[l].join(","),g==a.account&&(a.e+=("\x26"!=l.charAt(0)?
"\x26":"")+l,b[l]=[],d=1)),h=0;h<b[l].length;h++)g=b[l][h],g==f[k]&&(e&&(a.e+="\x26u\x3d"+a.escape(g)+("\x26"!=l.charAt(0)?"\x26":"")+l+"\x26u\x3d0"),b[l].splice(h,1),d=1);c||(d=1);if(d){e="";h=2;!c&&a.e&&(e=a.escape(f.join(","))+"\x3d"+a.escape(a.e),h=1);for(l in b)!Object.prototype[l]&&0<h&&0<b[l].length&&(e+=(e?"\x26":"")+a.escape(b[l].join(","))+"\x3d"+a.escape(l),h--);a.cookieWrite("s_sq",e)}}}return c};a.Bb=function(){if(!a.Lb){var c=new Date,b=n.location,d,f,e=f=d="",g="",h="",l="1.2",k=a.cookieWrite("s_cc",
"true",0)?"Y":"N",m="",p="";if(c.setUTCDate&&(l="1.3",(0).toPrecision&&(l="1.5",c=[],c.forEach))){l="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(l="1.7",c.reduce&&(l="1.8",l.trim&&(l="1.8.1",Date.parse&&(l="1.8.2",Object.create&&(l="1.8.5")))))}catch(r){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;h=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;
try{a.b.addBehavior("#default#homePage"),m=a.b.Rb(b)?"Y":"N"}catch(s){}try{a.b.addBehavior("#default#clientCaps"),p=a.b.connectionType}catch(t){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=l;a.javaEnabled=e;a.cookiesEnabled=k;a.browserWidth=g;a.browserHeight=h;a.connectionType=p;a.homepage=m;a.Lb=1}};a.Q={};a.loadModule=function(c,b){var d=a.Q[c];if(!d){d=k["AppMeasurement_Module_"+c]?new k["AppMeasurement_Module_"+c](a):{};a.Q[c]=a[c]=d;d.eb=function(){return d.ib};d.jb=function(b){if(d.ib=
b)a[c+"_onLoad"]=b,a.ia(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.eb,set:d.jb}):d._olc=1}catch(f){d._olc=1}}b&&(a[c+"_onLoad"]=b,a.ia(c+"_onLoad",[a,d],1)||b(a,d))};a.p=function(c){var b,d;for(b in a.Q)if(!Object.prototype[b]&&(d=a.Q[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.Db=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:
a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(b){b*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>b)return 0}return 1};a.R=function(c,b){var d,f,e,g,h,l;for(d=0;2>d;d++)for(f=0<d?a.Aa:a.g,e=0;e<f.length;e++)if(g=f[e],(h=c[g])||c["!"+g]){if(!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(l in a[g])h[l]||(h[l]=a[g][l]);a[g]=h}};a.Va=function(c,b){var d,f,e,g;for(d=0;2>d;d++)for(f=0<d?a.Aa:a.g,e=0;e<f.length;e++)g=f[e],c[g]=a[g],b||c[g]||(c["!"+g]=1)};a.vb=function(a){var b,
d,f,e,g,h=0,l,k="",m="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(l=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?h=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(h=",p,ei,"),h&&l)))){if((a=l.split("\x26"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("\x3d"),0<d&&0<=h.indexOf(","+
e.substring(0,d)+",")?k+=(k?"\x26":"")+e:m+=(m?"\x26":"")+e;k&&m?l=k+"\x26"+m:m=""}d=253-(l.length-m.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+l}return a};a.ab=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.ea=!1;a.J=!1;a.lb=function(){a.J=
!0;a.j()};a.ca=!1;a.V=!1;a.hb=function(c){a.marketingCloudVisitorID=c;a.V=!0;a.j()};a.fa=!1;a.W=!1;a.mb=function(c){a.visitorOptedOut=c;a.W=!0;a.j()};a.Z=!1;a.S=!1;a.Xa=function(c){a.analyticsVisitorID=c;a.S=!0;a.j()};a.ba=!1;a.U=!1;a.Za=function(c){a.audienceManagerLocationHint=c;a.U=!0;a.j()};a.aa=!1;a.T=!1;a.Ya=function(c){a.audienceManagerBlob=c;a.T=!0;a.j()};a.$a=function(c){a.maxDelay||(a.maxDelay=250);return a.p("_d")?(c&&setTimeout(function(){c()},a.maxDelay),!1):!0};a.da=!1;a.I=!1;a.xa=function(){a.I=
!0;a.j()};a.isReadyToTrack=function(){var c=!0,b=a.visitor,d,f,e;a.ea||a.J||(a.ab(a.lb)?a.J=!0:a.ea=!0);if(a.ea&&!a.J)return!1;b&&b.isAllowed()&&(a.ca||a.marketingCloudVisitorID||!b.getMarketingCloudVisitorID||(a.ca=!0,a.marketingCloudVisitorID=b.getMarketingCloudVisitorID([a,a.hb]),a.marketingCloudVisitorID&&(a.V=!0)),a.fa||a.visitorOptedOut||!b.isOptedOut||(a.fa=!0,a.visitorOptedOut=b.isOptedOut([a,a.mb]),a.visitorOptedOut!=p&&(a.W=!0)),a.Z||a.analyticsVisitorID||!b.getAnalyticsVisitorID||(a.Z=
!0,a.analyticsVisitorID=b.getAnalyticsVisitorID([a,a.Xa]),a.analyticsVisitorID&&(a.S=!0)),a.ba||a.audienceManagerLocationHint||!b.getAudienceManagerLocationHint||(a.ba=!0,a.audienceManagerLocationHint=b.getAudienceManagerLocationHint([a,a.Za]),a.audienceManagerLocationHint&&(a.U=!0)),a.aa||a.audienceManagerBlob||!b.getAudienceManagerBlob||(a.aa=!0,a.audienceManagerBlob=b.getAudienceManagerBlob([a,a.Ya]),a.audienceManagerBlob&&(a.T=!0)),c=a.ca&&!a.V&&!a.marketingCloudVisitorID,b=a.Z&&!a.S&&!a.analyticsVisitorID,
d=a.ba&&!a.U&&!a.audienceManagerLocationHint,f=a.aa&&!a.T&&!a.audienceManagerBlob,e=a.fa&&!a.W,c=c||b||d||f||e?!1:!0);a.da||a.I||(a.$a(a.xa)?a.I=!0:a.da=!0);a.da&&!a.I&&(c=!1);return c};a.o=p;a.u=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.qb=c;f.pb=b;f.nb=d;a.o==p&&(a.o=[]);a.o.push(f);0==a.u&&(a.u=setInterval(a.j,100))};a.j=function(){var c;if(a.isReadyToTrack()&&(a.kb(),a.o!=p))for(;0<a.o.length;)c=a.o.shift(),c.pb.apply(c.qb,c.nb)};a.kb=function(){a.u&&(clearInterval(a.u),a.u=0)};
a.fb=function(c){var b,d,f=p,e=p;if(!a.isReadyToTrack()){b=[];if(c!=p)for(d in f={},c)f[d]=c[d];e={};a.Va(e,!0);b.push(f);b.push(e);a.callbackWhenReadyToTrack(a,a.track,b);return!0}return!1};a.xb=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.t=
a.track=function(c,b){var d,f=new Date,e="s"+Math.floor(f.getTime()/108E5)%10+Math.floor(1E13*Math.random()),g=f.getYear(),g="t\x3d"+a.escape(f.getDate()+"/"+f.getMonth()+"/"+(1900>g?g+1900:g)+" "+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()+" "+f.getDay()+" "+f.getTimezoneOffset());a.visitor&&a.visitor.getAuthState&&(a.authState=a.visitor.getAuthState());a.p("_s");a.fb(c)||(b&&a.R(b),c&&(d={},a.Va(d,0),a.R(c)),a.Db()&&!a.visitorOptedOut&&(a.analyticsVisitorID||a.marketingCloudVisitorID||(a.fid=
a.xb()),a.Hb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(f.getTime()/1E3)),f=k.location,a.pageURL||(a.pageURL=f.href?f.href:f),a.referrer||a.Wa||(f=a.Util.getQueryParam("adobe_mc_ref",null,null,!0),a.referrer=f||void 0===f?void 0===f?"":f:n.document.referrer),a.Wa=1,a.referrer=a.vb(a.referrer),a.p("_g")),a.Ab()&&!a.abort&&(a.visitor&&!a.supplementalDataID&&a.visitor.getSupplementalDataID&&(a.supplementalDataID=a.visitor.getSupplementalDataID("AppMeasurement:"+
a._in,a.expectSupplementalData?!1:!0)),a.Bb(),g+=a.zb(),a.Gb(e,g),a.p("_t"),a.referrer=""))),c&&a.R(d,1));a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=k.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0};a.za=[];a.registerPreTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.za.push([c,b]):a.debugTracking&&a.F("DEBUG: Non function type passed to registerPreTrackCallback")};
a.cb=function(c){a.wa(a.za,c)};a.ya=[];a.registerPostTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.ya.push([c,b]):a.debugTracking&&a.F("DEBUG: Non function type passed to registerPostTrackCallback")};a.bb=function(c){a.wa(a.ya,c)};a.wa=function(c,b){if("object"==typeof c)for(var d=0;d<c.length;d++){var f=c[d][0],e=c[d][1];e.unshift(b);if("function"==typeof f)try{f.apply(null,e)}catch(g){a.debugTracking&&a.F(g.message)}}};a.tl=a.trackLink=
function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.l=c,a.A=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)if(b=a.g[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==b||"state"==
b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.Gb=function(c,b){var d,f=a.trackingServer;d="";var e=a.dc,g="sc.",h=a.visitorNamespace;f?a.trackingServerSecure&&a.ssl&&(f=a.trackingServerSecure):(h||(h=a.account,f=h.indexOf(","),0<=f&&(h=h.substring(0,f)),h=h.replace(/[^A-Za-z0-9]/g,"")),d||(d="2o7.net"),e=e?(""+e).toLowerCase():"d1","2o7.net"==d&&("d1"==e?e="112":"d2"==e&&(e="122"),g=""),f=h+"."+e+"."+g+d);d=a.ssl?"https://":"http://";e=a.AudienceManagement&&a.AudienceManagement.isReady()||
0!=a.usePostbacks;d+=f+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(e?"10":"1")+"/JS-"+a.version+(a.Kb?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")+"/"+c+"?AQB\x3d1\x26ndh\x3d1\x26pf\x3d1\x26"+(e?"callback\x3ds_c_il["+a._in+"].doPostbacks\x26et\x3d1\x26":"")+b+"\x26AQE\x3d1";a.cb(d);a.tb(d);a.ka()};a.Ua=/{(%?)(.*?)(%?)}/;a.Ob=RegExp(a.Ua.source,"g");a.ub=function(c){if("object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];if("string"==typeof d.c&&"aa."==d.id.substr(0,
3))for(var f=d.c.match(a.Ob),e=0;e<f.length;++e){var g=f[e],h=g.match(a.Ua),k="";"%"==h[1]&&"timezone_offset"==h[2]?k=(new Date).getTimezoneOffset():"%"==h[1]&&"timestampz"==h[2]&&(k=a.yb());d.c=d.c.replace(g,a.escape(k))}}};a.yb=function(){var c=new Date,b=new Date(6E4*Math.abs(c.getTimezoneOffset()));return a.k(4,c.getFullYear())+"-"+a.k(2,c.getMonth()+1)+"-"+a.k(2,c.getDate())+"T"+a.k(2,c.getHours())+":"+a.k(2,c.getMinutes())+":"+a.k(2,c.getSeconds())+(0<c.getTimezoneOffset()?"-":"+")+a.k(2,b.getUTCHours())+
":"+a.k(2,b.getUTCMinutes())};a.k=function(a,b){return(Array(a+1).join(0)+b).slice(-a)};a.ta={};a.doPostbacks=function(c){if("object"==typeof c)if(a.ub(c),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(c);else if("object"==typeof c&&"object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];"object"==typeof d&&"string"==typeof d.c&&
"string"==typeof d.id&&"aa."==d.id.substr(0,3)&&(a.ta[d.id]=new Image,a.ta[d.id].alt="",a.ta[d.id].src=d.c)}};a.tb=function(c){a.i||a.Cb();a.i.push(c);a.ma=a.C();a.Sa()};a.Cb=function(){a.i=a.Eb();a.i||(a.i=[])};a.Eb=function(){var c,b;if(a.ra()){try{(b=k.localStorage.getItem(a.pa()))&&(c=k.JSON.parse(b))}catch(d){}return c}};a.ra=function(){var c=!0;a.trackOffline&&a.offlineFilename&&k.localStorage&&k.JSON||(c=!1);return c};a.Ja=function(){var c=0;a.i&&(c=a.i.length);a.q&&c++;return c};a.ka=function(){if(a.q&&
(a.B&&a.B.complete&&a.B.G&&a.B.va(),a.q))return;a.Ka=p;if(a.qa)a.ma>a.O&&a.Qa(a.i),a.ua(500);else{var c=a.ob();if(0<c)a.ua(c);else if(c=a.Ga())a.q=1,a.Fb(c),a.Jb(c)}};a.ua=function(c){a.Ka||(c||(c=0),a.Ka=setTimeout(a.ka,c))};a.ob=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.C()-a.Pa;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-c};a.Ga=function(){if(0<a.i.length)return a.i.shift()};a.Fb=function(c){if(a.debugTracking){var b="AppMeasurement Debug: "+c;c=c.split("\x26");
var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.F(b)}};a.gb=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.Y=!1;var t;try{t=JSON.parse('{"x":"y"}')}catch(w){t=null}t&&"y"==t.x?(a.Y=!0,a.X=function(a){return JSON.parse(a)}):k.$&&k.$.parseJSON?(a.X=function(a){return k.$.parseJSON(a)},a.Y=!0):a.X=function(){return null};a.Jb=function(c){var b,d,f;a.gb()&&2047<c.length&&("undefined"!=typeof XMLHttpRequest&&(b=new XMLHttpRequest,"withCredentials"in b?d=1:b=0),b||"undefined"==
typeof XDomainRequest||(b=new XDomainRequest,d=2),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.Y?b.Ba=!0:b=0));!b&&a.Ta&&(c=c.substring(0,2047));!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=3):b=0);b||(b=new Image,b.alt="",b.abort||"undefined"===
typeof k.InstallTrigger||(b.abort=function(){b.src=p}));b.Da=function(){try{b.G&&(clearTimeout(b.G),b.G=0)}catch(a){}};b.onload=b.va=function(){a.bb(c);b.Da();a.sb();a.ga();a.q=0;a.ka();if(b.Ba){b.Ba=!1;try{a.doPostbacks(a.X(b.responseText))}catch(d){}}};b.onabort=b.onerror=b.Ha=function(){b.Da();(a.trackOffline||a.qa)&&a.q&&a.i.unshift(a.rb);a.q=0;a.ma>a.O&&a.Qa(a.i);a.ga();a.ua(500)};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?b.va():b.Ha())};a.Pa=a.C();if(1==d||2==d){var e=
c.indexOf("?");f=c.substring(0,e);e=c.substring(e+1);e=e.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,"");1==d?(b.open("POST",f,!0),b.send(e)):2==d&&(b.open("POST",f),b.send(e))}else if(b.src=c,3==d){if(a.Na)try{f.removeChild(a.Na)}catch(g){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Na=a.B}b.G=setTimeout(function(){b.G&&(b.complete?b.va():(a.trackOffline&&b.abort&&b.abort(),b.Ha()))},5E3);a.rb=c;a.B=k["s_i_"+a.replace(a.account,",","_")]=b;if(a.useForcedLinkTracking&&a.K||a.A)a.forcedLinkTrackingTimeout||
(a.forcedLinkTrackingTimeout=250),a.ha=setTimeout(a.ga,a.forcedLinkTrackingTimeout)};a.sb=function(){if(a.ra()&&!(a.Oa>a.O))try{k.localStorage.removeItem(a.pa()),a.Oa=a.C()}catch(c){}};a.Qa=function(c){if(a.ra()){a.Sa();try{k.localStorage.setItem(a.pa(),k.JSON.stringify(c)),a.O=a.C()}catch(b){}}};a.Sa=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.i.length>a.offlineLimit;)a.Ga()}};a.forceOffline=function(){a.qa=!0};a.forceOnline=function(){a.qa=!1};a.pa=
function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.C=function(){return(new Date).getTime()};a.La=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.Kb=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.R(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],
f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d,f){var e,g="";b||(b=a.pageURL?a.pageURL:k.location);d=d?d:"\x26";
if(!c||!b)return g;b=""+b;e=b.indexOf("?");if(0>e)return g;b=d+b.substring(e+1)+d;if(!f||!(0<=b.indexOf(d+c+d)||0<=b.indexOf(d+c+"\x3d"+d))){e=b.indexOf("#");0<=e&&(b=b.substr(0,e)+d);e=b.indexOf(d+c+"\x3d");if(0>e)return g;b=b.substring(e+d.length+c.length+1);e=b.indexOf(d);0<=e&&(b=b.substring(0,e));0<b.length&&(g=a.unescape(b));return g}}};a.H="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");
a.g=a.H.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.na="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.P=a.na.slice(0);a.Aa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement".split(" ");
for(m=0;250>=m;m++)76>m&&(a.g.push("prop"+m),a.P.push("prop"+m)),a.g.push("eVar"+m),a.P.push("eVar"+m),6>m&&a.g.push("hier"+m),4>m&&a.g.push("list"+m);m="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID".split(" ");a.g=a.g.concat(m);a.H=a.H.concat(m);a.ssl=0<=k.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.offlineThrottleDelay=
0;a.offlineFilename="AppMeasurement.offline";a.Pa=0;a.ma=0;a.O=0;a.Oa=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=k;a.d=k.document;try{if(a.Ta=!1,navigator){var v=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName||0<=v.indexOf("MSIE ")||0<=v.indexOf("Trident/")&&0<=v.indexOf("Windows NT 6"))a.Ta=!0}}catch(x){}a.ga=function(){a.ha&&(k.clearTimeout(a.ha),a.ha=p);a.l&&a.K&&a.l.dispatchEvent(a.K);a.A&&("function"==typeof a.A?a.A():
a.l&&a.l.href&&(a.d.location=a.l.href));a.l=a.K=a.A=0};a.Ra=function(){a.b=a.d.body;a.b?(a.v=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.Ca)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.v,!1);else{a.b.removeEventListener("click",a.v,!0);a.Ca=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.N&&a.N==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||
a.clickObject.parentNode))a.clickObject=0;else{var h=a.N=a.clickObject;a.la&&(clearTimeout(a.la),a.la=0);a.la=setTimeout(function(){a.N==h&&(a.N=0)},1E4);f=a.Ja();a.track();if(f<a.Ja()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.La(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||k.name&&d==k.name))){try{b=a.d.createEvent("MouseEvents")}catch(l){b=
new k.MouseEvent}if(b){try{b.initMouseEvent("click",c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(m){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.l=c.target,a.K=b)}}}}}catch(n){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.v):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&
a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&k.MouseEvent)&&(a.Ca=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.v,!0)),a.b.addEventListener("click",a.v,!1))):setTimeout(a.Ra,30)};a.Ra();r?a.setAccount(r):a.F("Error, missing Report Suite ID in AppMeasurement initialization");a.loadModule("ActivityMap")}function s_gi(r){var a,k=window.s_c_il,p,n,m=r.split(","),s,u,t=0;if(k)for(p=0;!t&&p<k.length;){a=k[p];if("s_c"==a._c&&(a.account||a.oun))if(a.account&&a.account==r)t=1;
else for(n=a.account?a.account:a.oun,n=a.allAccounts?a.allAccounts:n.split(","),s=0;s<m.length;s++)for(u=0;u<n.length;u++)m[s]==n[u]&&(t=1);p++}t||(a=new AppMeasurement(r));return a}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);function s_pgicq(){var r=window,a=r.s_giq,k,p,n;if(a)for(k=0;k<a.length;k++)p=a[k],n=s_gi(p.oun),n.setAccount(p.un),n.setTagContainer(p.tagContainerName);r.s_giq=0}s_pgicq()}]);Bootstrapper.AF.push(["call","SiteCatalyst","block","s"]);Bootstrapper.AF.push(["push",
"SiteCatalyst","ns","s"]);Bootstrapper.AF.push(["set","SiteCatalyst","clearData",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",sObj,"clearData",function(){this.pre=[]}])}}]);Bootstrapper.AF.push(["call","SiteCatalyst","clearData"]);Bootstrapper.AF.push(["set","SiteCatalyst","clearVars",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",sObj,"clearVars",function(){this.pre=this.pre||[];for(var i=
0;i<this.pre.length;i++){var adobeVar=this.pre[i][0];if(/^(channel|events|eventList|products|productList|purchaseID|transactionID|state|zip|campaign)$/.test(adobeVar)||/^(prop|eVar|hier|list)$/.test(adobeVar.substring(0,4))){this.pre.splice(this.pre.indexOf(i,1));i--}}}])}}]);Bootstrapper.AF.push(["call","SiteCatalyst","clearVars"])},4094807,[3929079,4097410],509723,[594160,767653]);
TMS.bindDOMParsed(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;document.addEventListener("MFA:emailVerification:Loaded",()=>{console.info("***MFA:emailVerification:Loaded")});document.addEventListener("MFA:oneTimePasscodeEmail:Loaded",()=>{console.info("***MFA:oneTimePasscodeEmail:Loaded")});document.addEventListener("MFA:oneTimePasscodeSms:Loaded",()=>{console.info("***MFA:oneTimePasscodeSms:Loaded")});document.addEventListener("MFA:oneTimePasscodeExpirationEmail:Loaded",
()=>{console.info("***MFA:oneTimePasscodeExpirationEmail:Loaded")});document.addEventListener("MFA:oneTimePasscodeExpirationSms:Loaded",()=>{console.info("***MFA:oneTimePasscodeExpirationSms:Loaded")});document.addEventListener("MFA:accountRecovery:Loaded",()=>{console.info("***MFA:accountRecovery:Loaded")});document.addEventListener("MFA:editPhoneNumber:Loaded",()=>{console.info("***MFA:editPhoneNumber:Loaded")});document.addEventListener("MFA:quickResponseCode:Loaded",()=>{console.info("***MFA:quickResponseCode:Loaded")});
document.addEventListener("MFA:verificationEmail:Loaded",()=>{console.info("***MFA:verificationEmail:Loaded")});document.addEventListener("MFA:verificationSms:Loaded",()=>{console.info("***MFA:verificationSms:Loaded")});document.addEventListener("MFA:verificationFlyDelta:Loaded",()=>{console.info("***MFA:verificationFlyDelta:Loaded")});document.addEventListener("MFA:resetPassword:deltaAppNotification:Loaded",()=>{console.info("*******MFA:resetPassword:deltaAppNotification:Loaded********")});document.addEventListener("MFA:resetPasswordFlow:Loaded",
()=>{console.info("***MFA:resetPasswordFlow:Loaded")});document.addEventListener("MFA:resetPassword:selectVerificationMethod:Loaded",()=>{console.info("***MFA:resetPassword:selectVerificationMethod:Loaded")});document.addEventListener("MFA:resetPassword:recoveryPasscodeEmail:Loaded",()=>{console.info("***MFA:resetPassword:recoveryPasscodeEmail:Loaded")});document.addEventListener("MFA:resetPassword:recoveryPasscodeSms:Loaded",()=>{console.info("***MFA:resetPassword:recoveryPasscodeSms:Loaded")});
document.addEventListener("MFA:resetPassword:recoveryPasscodeTotp:Loaded",()=>{console.info("***MFA:resetPassword:recoveryPasscodeTotp:Loaded")});document.addEventListener("MFA:resetPassword:deltaAppNotification:Loaded",()=>{console.info("***MFA:resetPassword:deltaAppNotification:Loaded")});document.addEventListener("MFA:resetPassword:recoveryExpiration:Loaded",()=>{console.info("***MFA:resetPassword:recoveryExpiration:Loaded")});document.addEventListener("MFA:resetPassword:verificationEmail:Loaded",
()=>{console.info("***MFA:resetPassword:verificationEmail:Loaded")});document.addEventListener("MFA:resetPassword:verificationSms:Loaded",()=>{console.info("***MFA:resetPassword:verificationSms:Loaded")});document.addEventListener("MFA:resetPassword:verificationFlyDelta:Loaded",()=>{console.info("***MFA:resetPassword:verificationFlyDelta:Loaded")});document.addEventListener("MFA:resetPassword:resetMyPassword:Loaded",()=>{console.info("***MFA:resetPassword:resetMyPassword:Loaded")});document.addEventListener(" MFA:resetPassword:resetMyPassword:Loaded",
()=>{console.info("*** MFA:resetPassword:resetMyPassword:Loaded")});document.addEventListener("MFA:resetPassword:successfulPasswordReset:Loaded",()=>{console.info("***MFA:resetPassword:successfulPasswordReset:Loaded")});document.addEventListener("MFA:resetPasswordFlow:errorTriggered",()=>{console.info("***MFA:resetPasswordFlow:errorTriggered")});document.addEventListener("MFA:setupAfterLogin:errorTriggered",()=>{console.info("***MFA:setupAfterLogin:errorTriggered")});document.addEventListener("MFA:passwordSecurity:errorTriggered",
()=>{console.info("***MFA:passwordSecurity:errorTriggered")});document.addEventListener("MFA:standardEnrollment:errorTriggered",()=>{console.info("***MFA:standardEnrollment:errorTriggered")});$(document).on("MFA:emailVerification:Loaded",function(){console.log("***MFA:emailVerification:Loaded****");s.clearVars();s.events="";s.pageName="MFA: Verify Your Email Address";s.t()});$(document).ready(function(){try{let timesRun=0;let listenerSet=false;let interval=setInterval(function(){timesRun+=1;if(timesRun===
20||listenerSet==true){clearInterval(interval);console.log("******MFA:emailVerification:Loaded Listener set interval cleared********")}if($(".email-verification__action-edit").length>0&&$(".email-verification__action-navigate").length>0&&$(".email-verification__action-exit").length>0&!listenerSet){listenerSet=true;console.log("******MFA:emailVerification:Loaded Listener Set********");$(document).on("click",".email-verification__action-edit",function(){try{s.clearVars();s.events="";s.linkTrackVars=
"prop1";s.prop1="MFA: Verify Your Email Address:edit email address:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click",".email-verification__action-exit",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Verify Your Email Address:set up later:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click",".email-verification__action-navigate",
function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Verify Your Email Address:send email verification:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}})}else console.log("******MFA:emailVerification:Loaded Listener Not Set********")},500)}catch(err){console.log("failed to capture analytics:"+err)}});let emailScreenListenerSet=false;$(document).on("MFA:oneTimePasscodeEmail:Loaded",function(){try{s.clearVars();s.events="";
s.pageName="MFA: Enter Email Verification Code";s.t();setTimeout(function(){if($(".one-time-passcode .idp-btn.idp-primary").length>0&&$(".link.link-primary").length>0&&!emailScreenListenerSet){$(document).on("mousedown",".one-time-passcode .idp-btn.idp-primary",function(){try{if($(".feature-header__icon").html().indexOf("email-sent-icon")>-1){s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Verify Your Email Address:verify:cta click";s.tl(this,"o",s.prop1)}}catch(err){console.log("Error in MFA Skymiles Analytics ",
err)}});$(document).on("click",".link.link-primary",function(){try{if($(".feature-header__icon").html().indexOf("email-sent-icon")>-1){s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Verify Your Email Address:resend code:link click";s.tl(this,"o",s.prop1)}}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});emailScreenListenerSet=true}else console.log("******MFA:oneTimePasscodeEmail:Loaded Listener Not Set********")},500)}catch(err){console.log("failed to capture analytics:"+
err)}});let smsScreenListenerSet=false;$(document).on("MFA:oneTimePasscodeSms:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA: Enter Text Verification Code";s.t();setTimeout(function(){if($("#verifyButton").length>0&&$(".link.link-primary").length>0&&$(".one-time-passcode__action-button__back .idp-btn.idp-secondary").length>0&&!smsScreenListenerSet){$(document).one("click","#verifyButton",function(){try{if($(".feature-header__icon").html().indexOf("phone-sms-sent")>-1){s.clearVars();
s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Enter Text Verification Code:verify:cta click";s.tl(this,"o",s.prop1)}}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("mousedown",".link.link-primary",function(){try{if($(".feature-header__icon").html().indexOf("phone-sms-sent")>-1){s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Enter Text Verification Code:resend code:link click";s.tl(this,"o",s.prop1)}}catch(err){console.log("Error in MFA Skymiles Analytics ",
err)}});$(document).on("mousedown",".one-time-passcode__action-button__back .idp-btn.idp-secondary",function(){try{if($(".feature-header__icon").html().indexOf("phone-sms-sent")>-1){s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Enter Text Verification Code:back:cta click";s.tl(this,"o",s.prop1)}}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});smsScreenListenerSet=true}else console.log("******MFA:oneTimePasscodeSms:Loaded Listener Not Set********")},500)}catch(err){console.log("failed to capture analytics:"+
err)}});$(document).on("MFA:oneTimePasscodeExpirationEmail:Loaded",function(){console.log("MFA:oneTimePasscodeExpirationEmail:Loaded")});$(document).on("MFA:oneTimePasscodeExpirationSms:Loaded",function(){console.log("MFA:oneTimePasscodeExpirationSms:Loaded")});let accountRecoveryListenerSet=false;$(document).on("MFA:accountRecovery:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA: Set Up Account Recovery";s.t();setTimeout(function(){if($(".account-recovery__action-edit").length>0&&
$(".account-recovery__action-navigate--option-one").length>0&&$(".account-recovery__action-navigate--option-two").length>0&&$(".account-recovery__action-exit").length>0&&!accountRecoveryListenerSet){$(document).on("click",".account-recovery__action-edit",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Set Up: Edit Phone Number";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click",".account-recovery__action-navigate--option-one",
function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Set Up: Select Method FD Notification";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click",".account-recovery__action-navigate--option-two",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Set Up: Select Method Text";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click",".account-recovery__action-exit",
function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Set Up: Set Up Later";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});accountRecoveryListenerSet=true}else console.log("******MFA:accountRecovery:Loaded Listener Not Set********")},500)}catch(err){console.log("failed to capture analytics:"+err)}});let editPhoneNumberListenerSet=false;$(document).on("MFA:editPhoneNumber:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA: Edit Phone Number";
s.t();setTimeout(function(){if($(".edit-phone-number__send-verification .idp-btn.idp-primary").length>0&&!editPhoneNumberListenerSet){$(document).on("mousedown",".edit-phone-number__send-verification .idp-btn.idp-primary",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Edit Phone Number:send verification:cta click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});editPhoneNumberListenerSet=true}else console.log("******MFA:quickResponseCode:Loaded Listener Not Set********");
if($(".edit-phone-number__action-buttons__send-verification").length>0&&!editPhoneNumberListenerSet){$(document).on("mousedown",".edit-phone-number__action-buttons__send-verification",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Edit Phone Number:send verification:cta click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});editPhoneNumberListenerSet=true}else console.log("******MFA:quickResponseCode:Loaded Listener Not Set********")},
500)}catch(err){console.log("failed to capture analytics:"+err)}});let flyReadyAppListenerSet=false;$(document).on("MFA:quickResponseCode:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA: Fly Delta App Recovery Method QR Code";s.t();setTimeout(function(){if($(".quick-response-code__action-button .idp-btn.idp-secondary").length>0&&!flyReadyAppListenerSet){$(document).on("mousedown",".quick-response-code__action-button .idp-btn.idp-secondary",function(){try{s.clearVars();s.events="";
s.linkTrackVars="prop1";s.prop1="MFA: Fly Delta App Recovery:back:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("mousedown",'.feature-header__description a[href*\x3d"https://m.delta.com/pairApp"]',function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Fly Delta App Recovery:here:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("mousedown",
'.quick-response-code__qrcode.ng-star-inserted a[href*\x3d"https://m.delta.com/pairApp"]',function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Fly Delta App Recovery:qr code:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).one("mousedown",'a[href*\x3d"https://apps.apple.com/us/app/fly-delta/"]',function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Fly Delta App Recovery:app store:link click";
s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).one("mousedown",'a[href*\x3d"https://play.google.com/store/apps/details?id\x3dcom.delta.mobile.android\x26hl\x3den_US"]',function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA: Fly Delta App Recovery:google play store:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});flyReadyAppListenerSet=true}else console.log("******MFA:quickResponseCode:Loaded Listener Not Set********")},
500)}catch(err){console.log("failed to capture analytics:"+err)}});$(document).on("MFA:verificationEmail:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA: Email Address Verified";s.events="event361";s.t()}catch(err){console.log("failed to capture analytics:"+err)}});$(document).on("MFA:verificationSms:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA: Phone Number Verified";s.events="event306";s.t()}catch(err){console.log("failed to capture analytics:"+err)}});$(document).on("MFA:verificationFlyDelta:Loaded",
function(){try{s.clearVars();s.events="";s.pageName="MFA: Fly Delta App Verified";s.events="event367";s.t()}catch(err){console.log("failed to capture analytics:"+err)}});let resetPasswordSelectVerificationListenerSet=false;$(document).on("MFA:resetPassword:selectVerificationMethod:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA Recovery: Select Verification Method";s.t();setTimeout(function(){if($(".select-verification-method__action-navigate--option-one").length>0&&$(".select-verification-method__action-navigate--option-two").length>
0&&$(".select-verification-method__action-navigate--option-three").length>0&&!resetPasswordSelectVerificationListenerSet){$(document).on("click",".select-verification-method__action-navigate--option-one",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: Select Method FD Notification:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Analytics ",err)}});$(document).on("click",".select-verification-method__action-navigate--option-two",function(){try{s.clearVars();
s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: Select Method Text:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click",".select-verification-method__action-navigate--option-three",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: Select Method Email:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});resetPasswordSelectVerificationListenerSet=
true}else console.log("******MFA:accountRecovery:Loaded Listener Not Set********")},500)}catch(err){console.log("failed to capture analytics:"+err)}});let deltaAppNotificationLoaded=false;let flyReadyAppRecoveryListenerSet=false;$(document).on("MFA:resetPassword:deltaAppNotification:Loaded",function(){try{if(!deltaAppNotificationLoaded){s.clearVars();s.events="";s.pageName="MFA Recovery: FD Notification Sent";s.t();deltaAppNotificationLoaded=true;setTimeout(function(){if($(".push-notification__expiry-container idp-link a").length>
0&&$(".account-recovery-page__content idp-mfa-push-notification .push-notification__verifyCode-container idp-link a").length>0&&$("idp-mfa-push-notification .push-notification__action-button idp-button button").length>0&&!flyReadyAppRecoveryListenerSet){$(document).on("mousedown",".push-notification__expiry-container idp-link a",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: FD Notification Sent:resend:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",
err)}});$(document).on("click",".account-recovery-page__content idp-mfa-push-notification .push-notification__verifyCode-container idp-link a",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: FD Notification Sent:verify using code:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click","idp-mfa-push-notification .push-notification__action-button idp-button button",function(){try{s.clearVars();
s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: FD Notification Sent:back:cta click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});flyReadyAppRecoveryListenerSet=true}else console.log("******MFA:quickResponseCode:Loaded Listener Not Set********")},500)}}catch(err){console.log("failed to capture analytics:"+err)}});$(document).on("MFA:resetPassword:verificationFlyDelta:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA Recovery: FD Notification Verified";
s.events="event307";s.t()}catch(err){console.log("failed to capture analytics:"+err)}});let smsRecoveryListenerSet=false;$(document).on("MFA:resetPassword:recoveryPasscodeSms:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA Recovery: Text Message Sent";s.t();setTimeout(function(){if($(".one-time-passcode__otp-actions__expiry-container.d-flex.justify-content-between.ng-star-inserted idp-link a").length>0&&$("#verifyButton").length>0&&$(".one-time-passcode__action-button__back").length>
0&&!smsRecoveryListenerSet){$(document).on("click",".one-time-passcode__otp-actions__expiry-container.d-flex.justify-content-between.ng-star-inserted idp-link a",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: Text Message Sent:resend code:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("mousedown",'[aria-label\x3d"VERIFY"]',function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1=
"MFA Recovery: Text Message Sent:verify:cta click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click",".one-time-passcode__action-button__back",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: Text Message Sent:back:cta click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});smsRecoveryListenerSet=true}else console.log("******MFA:quickResponseCode:Loaded Listener Not Set********")},
500)}catch(err){console.log("failed to capture analytics:"+err)}});$(document).on("MFA:resetPassword:verificationSms:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA Recovery: Phone Number Verified";s.events="event308";s.t()}catch(err){console.log("failed to capture analytics:"+err)}});let emailRecoveryListenerSet=false;$(document).on("MFA:resetPassword:recoveryPasscodeEmail:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA Recovery: Email Sent";s.t();setTimeout(function(){if($(".one-time-passcode__otp-actions__expiry-container.d-flex.justify-content-between.ng-star-inserted idp-link a").length>
0&&$("#verifyButton").length>0&&$(".one-time-passcode__action-button__back").length>0&&!emailRecoveryListenerSet){$(document).on("click",".one-time-passcode__otp-actions__expiry-container.d-flex.justify-content-between.ng-star-inserted idp-link a",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: Email Sent:resend code:link click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click","idp-button#verifyButton",
function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: Email Sent:verify:cta click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});$(document).on("click",".one-time-passcode__action-button__back",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="MFA Recovery: Email Sent:back:cta click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});emailRecoveryListenerSet=true}else console.log("******MFA:quickResponseCode:Loaded Listener Not Set********")},
500)}catch(err){console.log("failed to capture analytics:"+err)}});$(document).on("MFA:resetPassword:verificationEmail:Loaded",function(){try{s.clearVars();s.events="";s.pageName="MFA Recovery: Email Address Verified";s.events="event309";s.t()}catch(err){console.log("failed to capture analytics:"+err)}});let resetPasswordListenerSet=false;document.addEventListener(" MFA:resetPassword:resetMyPassword:Loaded",()=>{try{s.clearVars();s.events="";s.pageName="Reset My Password";s.t();setTimeout(function(){if($(".set-password__submit-btn button").length>
0&&!resetPasswordListenerSet){$(document).on("click",".set-password__submit-btn button",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="Reset My Password:continue:cta click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});resetPasswordListenerSet=true}else console.log("******MFA:quickResponseCode:Loaded Listener Not Set********")},500)}catch(err){console.log("failed to capture analytics:"+err)}});let resetPasswordListenerSetb=false;
$(document).on("MFA:resetPassword:resetMyPassword:Loaded",function(){try{s.clearVars();s.events="";s.pageName="Reset My Password";s.t();setTimeout(function(){if($(".set-password__submit-btn button").length>0&&!resetPasswordListenerSetb){$(document).on("mousedown",".set-password__submit-btn button",function(){try{s.clearVars();s.events="";s.linkTrackVars="prop1";s.prop1="Reset My Password:continue:cta click";s.tl(this,"o",s.prop1)}catch(err){console.log("Error in MFA Skymiles Analytics ",err)}});resetPasswordListenerSetb=
true}else console.log("******MFA:quickResponseCode:Loaded Listener Not Set********")},500)}catch(err){console.log("failed to capture analytics:"+err)}});$(document).on("MFA:resetPassword:successfulPasswordReset:Loaded",function(){try{s.clearVars();s.events="";s.pageName="Login: Log In To Delta";s.events="event366";s.t()}catch(err){console.log("failed to capture analytics:"+err)}});$(document).on("MFA:resetPasswordFlow:errorTriggered",function(){setTimeout(function(){try{s.clearVars();s.events="";
var errMsg=$(".error-notification__content")[0].innerText||"";s.linkTrackVars="prop19";s.prop19=errMsg;s.tl(this,"o",s.prop19)}catch(err){console.log("failed to capture MFA error analytics:"+err)}},500)});$(document).on("MFA:setupAfterLogin:errorTriggered",function(){try{s.clearVars();s.events="";var errMsg=$(".error-notification__content")[0].innerText||"";s.linkTrackVars="prop19";s.prop19=errMsg;s.tl(this,"o",s.prop19)}catch(err){console.log("failed to capture MFA error analytics:"+err)}});$(document).on("MFA:passwordSecurity:errorTriggered",
function(){try{s.clearVars();s.events="";var errMsg=$(".error-notification__content")[0].innerText||"";s.linkTrackVars="prop19";s.prop19=errMsg;s.tl(this,"o",s.prop19)}catch(err){console.log("failed to capture MFA error analytics:"+err)}});$(document).on("MFA:standardEnrollment:errorTriggered",function(){try{s.clearVars();s.events="";var errMsg=$(".error-notification__content")[0].innerText||"";s.linkTrackVars="prop19";s.prop19=errMsg;s.tl(this,"o",s.prop19)}catch(err){console.log("failed to capture MFA error analytics:"+
err)}})},4091898,761738);
TMS.bindDOMParsed(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;var ensVar0=function(){return idp&&idp.dataLayer&&idp.dataLayer.digitalData&&idp.dataLayer.digitalData.user&&idp.dataLayer.digitalData.user.profile&&idp.dataLayer.digitalData.user.profile.profileInfo&&idp.dataLayer.digitalData.user.profile.profileInfo.email||""};var options={};var has_valid_value=function(a){return String(typeof a)!=="undefined"&&a!==null&&a!==""};var get_cookie=function(a){var c=
document.cookie.split(";");for(var i=0;i<c.length;i++){var b=c[i].trim().split("\x3d");if(a===b[0]){b.shift();return decodeURIComponent(b.join("\x3d"))}}};options.pixel_id="410621589144261";options.event_data={};options.event_data.event_name="SkyMileEnrollment";options.event_data.event_id=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})}();options.event_data.user_data={};if(has_valid_value(ensVar0.call(this)))options.event_data.user_data.em=
ensVar0.call(this);options.event_data.custom_data={};if(!options.event_data.user_data.external_id){var pulse_uuid=get_cookie("uuid");if(pulse_uuid)options.event_data.user_data.external_id=pulse_uuid}!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version="2.0";n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq.agent="tmensighten";Bootstrapper.fbq_ids=Bootstrapper.fbq_ids||[];if(!~Bootstrapper.fbq_ids.indexOf(options.pixel_id)){fbq("init",options.pixel_id,options.event_data.user_data);Bootstrapper.fbq_ids.push(options.pixel_id)}fbq("trackSingleCustom",options.pixel_id,options.event_data.event_name,options.event_data.custom_data,{"eventID":options.event_data.event_id});var sst_options=JSON.parse(JSON.stringify(options));var sha256=function a(b){if(/[0-9a-f]{64}/i.test(b))return b;
else{function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\u0080";b[h]%64-56;)b+="\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,
11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i}};var _fbp=get_cookie("_fbp");var _fbc=get_cookie("_fbc");sst_options.timestamp=(new Date).getTime();if(Array.isArray(sst_options.event_data.custom_data.content_type))sst_options.event_data.custom_data.content_type=
sst_options.event_data.custom_data.content_type.join(",");for(var i in sst_options.event_data.user_data)if(sst_options.event_data.user_data.hasOwnProperty(i))sst_options.event_data.user_data[i]=[sha256(sst_options.event_data.user_data[i])];if(_fbp)sst_options.event_data.user_data.fbp=_fbp;if(_fbc)sst_options.event_data.user_data.fbc=_fbc;Bootstrapper.SST=Bootstrapper.SST||[];Bootstrapper.SST.push({name:"facebook_conversions_api_integration",data:sst_options})},4058957,769993);
TMS.bindDOMParsed(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;$(document).on("join-skymiles-step-event",function(e){var formSection=e.originalEvent.detail;var stepText;var EVENT_ID=Bootstrapper.crypto.encrypt(s.marketingCloudVisitorID);if(formSection=="login-info-submit")Bootstrapper.imageRequest("https://www.facebook.com/tr?id\x3d410621589144261\x26ev\x3dskyMilesEnrollment\x26eid\x3d"+EVENT_ID+"\x26noscript\x3d1")})},3684921,699743);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;$(document).ready(function(){$("#password").addClass("tlMaskInfo")});!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.pako=t()}}(function(){return function t(e,a,n){function r(s,h){if(!a[s]){if(!e[s]){var l="function"==typeof require&&require;
if(!h&&l)return l(s,!0);if(i)return i(s,!0);var o=new Error("Cannot find module '"+s+"'");throw o.code="MODULE_NOT_FOUND",o;}var _=a[s]={exports:{}};e[s][0].call(_.exports,function(t){var a=e[s][1][t];return r(a?a:t)},_,_.exports,t,e,a,n)}return a[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,a){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e=Array.prototype.slice.call(arguments,
1);e.length;){var a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var n in a)a.hasOwnProperty(n)&&(t[n]=a[n])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,a,n,r){if(e.subarray&&t.subarray)return void t.set(e.subarray(a,a+n),r);for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){var e,a,n,r,i,s;for(n=0,e=0,a=t.length;e<a;e++)n+=t[e].length;for(s=new Uint8Array(n),r=
0,e=0,a=t.length;e<a;e++)i=t[e],s.set(i,r),r+=i.length;return s}},i={arraySet:function(t,e,a,n,r){for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,r)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,i))},a.setTyped(n)},{}],2:[function(t,e,a){function n(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var a=
"",n=0;n<e;n++)a+=String.fromCharCode(t[n]);return a}var r=t("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var h=new r.Buf8(256),l=0;l<256;l++)h[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;h[254]=h[254]=1,a.string2buf=function(t){var e,a,n,i,s,h=t.length,l=0;for(i=0;i<h;i++)a=t.charCodeAt(i),55296===(64512&a)&&i+1<h&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),i++)),
l+=a<128?1:a<2048?2:a<65536?3:4;for(e=new r.Buf8(l),s=0,i=0;s<l;i++)a=t.charCodeAt(i),55296===(64512&a)&&i+1<h&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),i++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},a.buf2binstring=function(t){return n(t,t.length)},a.binstring2buf=function(t){for(var e=new r.Buf8(t.length),
a=0,n=e.length;a<n;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,r,i,s,l=e||t.length,o=new Array(2*l);for(r=0,a=0;a<l;)if(i=t[a++],i<128)o[r++]=i;else if(s=h[i],s>4)o[r++]=65533,a+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&a<l;)i=i<<6|63&t[a++],s--;s>1?o[r++]=65533:i<65536?o[r++]=i:(i-=65536,o[r++]=55296|i>>10&1023,o[r++]=56320|1023&i)}return n(o,r)},a.utf8border=function(t,e){var a;for(e=e||t.length,e>t.length&&(e=t.length),a=e-1;a>=0&&128===(192&t[a]);)a--;return a<0?e:0===
a?e:a+h[t[a]]>e?a:e}},{"./common":1}],3:[function(t,e,a){function n(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){s=a>2E3?2E3:a,a-=s;do r=r+e[n++]|0,i=i+r|0;while(--s);r%=65521,i%=65521}return r|i<<16|0}e.exports=n},{}],4:[function(t,e,a){function n(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}function r(t,e,a,n){var r=i,s=n+a;t^=-1;for(var h=n;h<s;h++)t=t>>>8^r[255&(t^e[h])];return t^-1}var i=n();e.exports=r},{}],5:[function(t,e,
a){function n(t,e){return t.msg=O[e],e}function r(t){return(t<<1)-(t>4?9:0)}function i(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(j.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function h(t,e){U._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}
function l(t,e){t.pending_buf[t.pending++]=e}function o(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function _(t,e,a,n){var r=t.avail_in;return r>n&&(r=n),0===r?0:(t.avail_in-=r,j.arraySet(e,t.input,t.next_in,r,a),1===t.state.wrap?t.adler=D(t.adler,e,r,a):2===t.state.wrap&&(t.adler=I(t.adler,e,r,a)),t.next_in+=r,t.total_in+=r,r)}function d(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-dt?t.strstart-(t.w_size-dt):
0,o=t.window,_=t.w_mask,d=t.prev,u=t.strstart+_t,f=o[i+s-1],c=o[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do if(a=e,o[a+s]===c&&o[a+s-1]===f&&o[a]===o[i]&&o[++a]===o[i+1]){i+=2,a++;do;while(o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&i<u);if(n=_t-(u-i),i=u-_t,n>s){if(t.match_start=e,s=n,n>=h)break;f=o[i+s-1],c=o[i+s]}}while((e=d[e&_])>l&&0!==--r);return s<=t.lookahead?s:t.lookahead}
function u(t){var e,a,n,r,i,s=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-dt)){j.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,a=t.hash_size,e=a;do n=t.head[--e],t.head[e]=n>=s?n-s:0;while(--a);a=s,e=a;do n=t.prev[--e],t.prev[e]=n>=s?n-s:0;while(--a);r+=s}if(0===t.strm.avail_in)break;if(a=_(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=a,t.lookahead+t.insert>=ot)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<
t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+ot-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<ot)););}while(t.lookahead<dt&&0!==t.strm.avail_in)}function f(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(u(t),0===t.lookahead&&e===q)return vt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||
t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,h(t,!1),0===t.strm.avail_out))return vt;if(t.strstart-t.block_start>=t.w_size-dt&&(h(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===N?(h(t,!0),0===t.strm.avail_out?kt:zt):t.strstart>t.block_start&&(h(t,!1),0===t.strm.avail_out)?vt:vt}function c(t,e){for(var a,n;;){if(t.lookahead<dt){if(u(t),t.lookahead<dt&&e===q)return vt;if(0===t.lookahead)break}if(a=0,t.lookahead>=ot&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,
a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-dt&&(t.match_length=d(t,a)),t.match_length>=ot)if(n=U._tr_tally(t,t.strstart-t.match_start,t.match_length-ot),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ot){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=
t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=U._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(h(t,!1),0===t.strm.avail_out))return vt}return t.insert=t.strstart<ot-1?t.strstart:ot-1,e===N?(h(t,!0),0===t.strm.avail_out?kt:zt):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?vt:yt}function p(t,e){for(var a,n,r;;){if(t.lookahead<dt){if(u(t),t.lookahead<dt&&e===q)return vt;if(0===t.lookahead)break}if(a=
0,t.lookahead>=ot&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ot-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-dt&&(t.match_length=d(t,a),t.match_length<=5&&(t.strategy===J||t.match_length===ot&&t.strstart-t.match_start>4096)&&(t.match_length=ot-1)),t.prev_length>=ot&&t.match_length<=t.prev_length){r=t.strstart+
t.lookahead-ot,n=U._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ot),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ot-1,t.strstart++,n&&(h(t,!1),0===t.strm.avail_out))return vt}else if(t.match_available){if(n=U._tr_tally(t,0,t.window[t.strstart-1]),n&&h(t,!1),t.strstart++,
t.lookahead--,0===t.strm.avail_out)return vt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=U._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ot-1?t.strstart:ot-1,e===N?(h(t,!0),0===t.strm.avail_out?kt:zt):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?vt:yt}function g(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=_t){if(u(t),t.lookahead<=_t&&e===q)return vt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ot&&t.strstart>0&&
(r=t.strstart-1,n=s[r],n===s[++r]&&n===s[++r]&&n===s[++r])){i=t.strstart+_t;do;while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=_t-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ot?(a=U._tr_tally(t,1,t.match_length-ot),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=U._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(h(t,!1),0===t.strm.avail_out))return vt}return t.insert=
0,e===N?(h(t,!0),0===t.strm.avail_out?kt:zt):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?vt:yt}function m(t,e){for(var a;;){if(0===t.lookahead&&(u(t),0===t.lookahead)){if(e===q)return vt;break}if(t.match_length=0,a=U._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(h(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===N?(h(t,!0),0===t.strm.avail_out?kt:zt):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?vt:yt}function b(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=
a,this.max_chain=n,this.func=r}function w(t){t.window_size=2*t.w_size,i(t.head),t.max_lazy_match=E[t.level].max_lazy,t.good_match=E[t.level].good_length,t.nice_match=E[t.level].nice_length,t.max_chain_length=E[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ot-1,t.match_available=0,t.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=
0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=
new j.Buf16(2*ht),this.dyn_dtree=new j.Buf16(2*(2*it+1)),this.bl_tree=new j.Buf16(2*(2*st+1)),i(this.dyn_ltree),i(this.dyn_dtree),i(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new j.Buf16(lt+1),this.heap=new j.Buf16(2*rt+1),i(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new j.Buf16(2*rt+1),i(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=
0}function y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Y,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ft:bt,t.adler=2===e.wrap?0:1,e.last_flush=q,U._tr_init(e),H):n(t,K)}function k(t){var e=y(t);return e===H&&w(t.state),e}function z(t,e){return t&&t.state?2!==t.state.wrap?K:(t.state.gzhead=e,H):K}function x(t,e,a,r,i,s){if(!t)return K;var h=1;if(e===G&&(e=6),r<0?(h=0,r=-r):r>15&&(h=2,r-=16),i<1||i>$||a!==Z||r<8||r>15||e<0||e>9||s<0||s>W)return n(t,
K);8===r&&(r=9);var l=new v;return t.state=l,l.strm=t,l.wrap=h,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ot-1)/ot),l.window=new j.Buf8(2*l.w_size),l.head=new j.Buf16(l.hash_size),l.prev=new j.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new j.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,
l.method=a,k(t)}function B(t,e){return x(t,e,Z,tt,et,X)}function A(t,e){var a,h,_,d;if(!t||!t.state||e>R||e<0)return t?n(t,K):K;if(h=t.state,!t.output||!t.input&&0!==t.avail_in||h.status===wt&&e!==N)return n(t,0===t.avail_out?P:K);if(h.strm=t,a=h.last_flush,h.last_flush=e,h.status===ft)if(2===h.wrap)t.adler=0,l(h,31),l(h,139),l(h,8),h.gzhead?(l(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),l(h,255&h.gzhead.time),l(h,h.gzhead.time>>8&255),
l(h,h.gzhead.time>>16&255),l(h,h.gzhead.time>>24&255),l(h,9===h.level?2:h.strategy>=Q||h.level<2?4:0),l(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(l(h,255&h.gzhead.extra.length),l(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(t.adler=I(t.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=ct):(l(h,0),l(h,0),l(h,0),l(h,0),l(h,0),l(h,9===h.level?2:h.strategy>=Q||h.level<2?4:0),l(h,xt),h.status=bt);else{var u=Z+(h.w_bits-8<<4)<<8,f=-1;f=h.strategy>=Q||h.level<2?0:h.level<6?1:6===
h.level?2:3,u|=f<<6,0!==h.strstart&&(u|=ut),u+=31-u%31,h.status=bt,o(h,u),0!==h.strstart&&(o(h,t.adler>>>16),o(h,65535&t.adler)),t.adler=1}if(h.status===ct)if(h.gzhead.extra){for(_=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>_&&(t.adler=I(t.adler,h.pending_buf,h.pending-_,_)),s(t),_=h.pending,h.pending!==h.pending_buf_size));)l(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>_&&(t.adler=I(t.adler,h.pending_buf,
h.pending-_,_)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=pt)}else h.status=pt;if(h.status===pt)if(h.gzhead.name){_=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>_&&(t.adler=I(t.adler,h.pending_buf,h.pending-_,_)),s(t),_=h.pending,h.pending===h.pending_buf_size)){d=1;break}d=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,l(h,d)}while(0!==d);h.gzhead.hcrc&&h.pending>_&&(t.adler=I(t.adler,h.pending_buf,h.pending-_,_)),0===d&&(h.gzindex=
0,h.status=gt)}else h.status=gt;if(h.status===gt)if(h.gzhead.comment){_=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>_&&(t.adler=I(t.adler,h.pending_buf,h.pending-_,_)),s(t),_=h.pending,h.pending===h.pending_buf_size)){d=1;break}d=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,l(h,d)}while(0!==d);h.gzhead.hcrc&&h.pending>_&&(t.adler=I(t.adler,h.pending_buf,h.pending-_,_)),0===d&&(h.status=mt)}else h.status=mt;if(h.status===mt&&(h.gzhead.hcrc?
(h.pending+2>h.pending_buf_size&&s(t),h.pending+2<=h.pending_buf_size&&(l(h,255&t.adler),l(h,t.adler>>8&255),t.adler=0,h.status=bt)):h.status=bt),0!==h.pending){if(s(t),0===t.avail_out)return h.last_flush=-1,H}else if(0===t.avail_in&&r(e)<=r(a)&&e!==N)return n(t,P);if(h.status===wt&&0!==t.avail_in)return n(t,P);if(0!==t.avail_in||0!==h.lookahead||e!==q&&h.status!==wt){var c=h.strategy===Q?m(h,e):h.strategy===V?g(h,e):E[h.level].func(h,e);if(c!==kt&&c!==zt||(h.status=wt),c===vt||c===kt)return 0===
t.avail_out&&(h.last_flush=-1),H;if(c===yt&&(e===T?U._tr_align(h):e!==R&&(U._tr_stored_block(h,0,0,!1),e===L&&(i(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),s(t),0===t.avail_out))return h.last_flush=-1,H}return e!==N?H:h.wrap<=0?F:(2===h.wrap?(l(h,255&t.adler),l(h,t.adler>>8&255),l(h,t.adler>>16&255),l(h,t.adler>>24&255),l(h,255&t.total_in),l(h,t.total_in>>8&255),l(h,t.total_in>>16&255),l(h,t.total_in>>24&255)):(o(h,t.adler>>>16),o(h,65535&t.adler)),s(t),h.wrap>0&&(h.wrap=
-h.wrap),0!==h.pending?H:F)}function C(t){var e;return t&&t.state?(e=t.state.status,e!==ft&&e!==ct&&e!==pt&&e!==gt&&e!==mt&&e!==bt&&e!==wt?n(t,K):(t.state=null,e===bt?n(t,M):H)):K}function S(t,e){var a,n,r,s,h,l,o,_,d=e.length;if(!t||!t.state)return K;if(a=t.state,s=a.wrap,2===s||1===s&&a.status!==ft||a.lookahead)return K;for(1===s&&(t.adler=D(t.adler,e,d,0)),a.wrap=0,d>=a.w_size&&(0===s&&(i(a.head),a.strstart=0,a.block_start=0,a.insert=0),_=new j.Buf8(a.w_size),j.arraySet(_,e,d-a.w_size,a.w_size,
0),e=_,d=a.w_size),h=t.avail_in,l=t.next_in,o=t.input,t.avail_in=d,t.next_in=0,t.input=e,u(a);a.lookahead>=ot;){n=a.strstart,r=a.lookahead-(ot-1);do a.ins_h=(a.ins_h<<a.hash_shift^a.window[n+ot-1])&a.hash_mask,a.prev[n&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=n,n++;while(--r);a.strstart=n,a.lookahead=ot-1,u(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=ot-1,a.match_available=0,t.next_in=l,t.input=o,t.avail_in=h,a.wrap=s,
H}var E,j=t("../utils/common"),U=t("./trees"),D=t("./adler32"),I=t("./crc32"),O=t("./messages"),q=0,T=1,L=3,N=4,R=5,H=0,F=1,K=-2,M=-3,P=-5,G=-1,J=1,Q=2,V=3,W=4,X=0,Y=2,Z=8,$=9,tt=15,et=8,at=29,nt=256,rt=nt+1+at,it=30,st=19,ht=2*rt+1,lt=15,ot=3,_t=258,dt=_t+ot+1,ut=32,ft=42,ct=69,pt=73,gt=91,mt=103,bt=113,wt=666,vt=1,yt=2,kt=3,zt=4,xt=3;E=[new b(0,0,0,0,f),new b(4,4,8,4,c),new b(4,5,16,8,c),new b(4,6,32,32,c),new b(4,4,16,16,p),new b(8,16,32,32,p),new b(8,16,128,128,p),new b(8,32,128,256,p),new b(32,
128,258,1024,p),new b(32,258,258,4096,p)],a.deflateInit=B,a.deflateInit2=x,a.deflateReset=k,a.deflateResetKeep=y,a.deflateSetHeader=z,a.deflate=A,a.deflateEnd=C,a.deflateSetDictionary=S,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,a){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},
{}],7:[function(t,e,a){function n(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function i(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?lt[t]:lt[256+(t>>>7)]}function h(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,a){t.bi_valid>W-a?(t.bi_buf|=e<<t.bi_valid&65535,h(t,t.bi_buf),t.bi_buf=e>>W-t.bi_valid,
t.bi_valid+=a-W):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function o(t,e,a){l(t,a[2*e],a[2*e+1])}function _(t,e){var a=0;do a|=1&t,t>>>=1,a<<=1;while(--e>0);return a>>>1}function d(t){16===t.bi_valid?(h(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function u(t,e){var a,n,r,i,s,h,l=e.dyn_tree,o=e.max_code,_=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,
p=0;for(i=0;i<=V;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<Q;a++)n=t.heap[a],i=l[2*l[2*n+1]+1]+1,i>c&&(i=c,p++),l[2*n+1]=i,n>o||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(_[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)r=t.heap[--a],r>o||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}function f(t,
e,a){var n,r,i=new Array(V+1),s=0;for(n=1;n<=V;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=_(i[h]++,h))}}function c(){var t,e,a,n,i,s=new Array(V+1);for(a=0,n=0;n<K-1;n++)for(_t[n]=a,t=0;t<1<<et[n];t++)ot[a++]=n;for(ot[a-1]=n,i=0,n=0;n<16;n++)for(dt[n]=i,t=0;t<1<<at[n];t++)lt[i++]=n;for(i>>=7;n<G;n++)for(dt[n]=i<<7,t=0;t<1<<at[n]-7;t++)lt[256+i++]=n;for(e=0;e<=V;e++)s[e]=0;for(t=0;t<=143;)st[2*t+1]=8,t++,s[8]++;for(;t<=255;)st[2*t+1]=9,t++,s[9]++;for(;t<=279;)st[2*t+1]=
7,t++,s[7]++;for(;t<=287;)st[2*t+1]=8,t++,s[8]++;for(f(st,P+1,s),t=0;t<G;t++)ht[2*t+1]=5,ht[2*t]=_(t,5);ut=new r(st,et,M+1,P,V),ft=new r(ht,at,0,G,V),ct=new r(new Array(0),nt,0,J,X)}function p(t){var e;for(e=0;e<P;e++)t.dyn_ltree[2*e]=0;for(e=0;e<G;e++)t.dyn_dtree[2*e]=0;for(e=0;e<J;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Y]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?h(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function m(t,
e,a,n){g(t),n&&(h(t,a),h(t,~a)),D.arraySet(t.pending_buf,t.window,e,a,t.pending),t.pending+=a}function b(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]}function w(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&b(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!b(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n}function v(t,e,a){var n,r,i,h,_=0;if(0!==t.last_lit){do n=t.pending_buf[t.d_buf+2*_]<<8|t.pending_buf[t.d_buf+2*_+1],r=t.pending_buf[t.l_buf+_],
_++,0===n?o(t,r,e):(i=ot[r],o(t,i+M+1,e),h=et[i],0!==h&&(r-=_t[i],l(t,r,h)),n--,i=s(n),o(t,i,a),h=at[i],0!==h&&(n-=dt[i],l(t,n,h)));while(_<t.last_lit)}o(t,Y,e)}function y(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=Q,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)r=t.heap[++t.heap_len]=o<2?++o:0,i[2*r]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=
o,a=t.heap_len>>1;a>=1;a--)w(t,i,a);r=l;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],w(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,w(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],u(t,e),f(i,o,t.bl_count)}function k(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,o=4;for(0===s&&(l=138,o=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<o?t.bl_tree[2*
r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[2*Z]++):h<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,h=0,i=r,0===s?(l=138,o=3):r===s?(l=6,o=3):(l=7,o=4))}function z(t,e,a){var n,r,i=-1,s=e[1],h=0,_=7,d=4;for(0===s&&(_=138,d=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<_&&r===s)){if(h<d){do o(t,r,t.bl_tree);while(0!==--h)}else 0!==r?(r!==i&&(o(t,r,t.bl_tree),h--),o(t,Z,t.bl_tree),l(t,h-3,2)):h<=10?(o(t,$,t.bl_tree),l(t,h-3,3)):(o(t,tt,t.bl_tree),l(t,h-11,7));h=0,i=r,0===s?(_=138,d=3):r===s?(_=6,d=3):(_=
7,d=4)}}function x(t){var e;for(k(t,t.dyn_ltree,t.l_desc.max_code),k(t,t.dyn_dtree,t.d_desc.max_code),y(t,t.bl_desc),e=J-1;e>=3&&0===t.bl_tree[2*rt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function B(t,e,a,n){var r;for(l(t,e-257,5),l(t,a-1,5),l(t,n-4,4),r=0;r<n;r++)l(t,t.bl_tree[2*rt[r]+1],3);z(t,t.dyn_ltree,e-1),z(t,t.dyn_dtree,a-1)}function A(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return O;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return q;
for(e=32;e<M;e++)if(0!==t.dyn_ltree[2*e])return q;return O}function C(t){pt||(c(),pt=!0),t.l_desc=new i(t.dyn_ltree,ut),t.d_desc=new i(t.dyn_dtree,ft),t.bl_desc=new i(t.bl_tree,ct),t.bi_buf=0,t.bi_valid=0,p(t)}function S(t,e,a,n){l(t,(L<<1)+(n?1:0),3),m(t,e,a,!0)}function E(t){l(t,N<<1,3),o(t,Y,st),d(t)}function j(t,e,a,n){var r,i,s=0;t.level>0?(t.strm.data_type===T&&(t.strm.data_type=A(t)),y(t,t.l_desc),y(t,t.d_desc),s=x(t),r=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=r&&(r=i)):r=i=a+5,a+4<=r&&
e!==-1?S(t,e,a,n):t.strategy===I||i===r?(l(t,(N<<1)+(n?1:0),3),v(t,st,ht)):(l(t,(R<<1)+(n?1:0),3),B(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),v(t,t.dyn_ltree,t.dyn_dtree)),p(t),n&&g(t)}function U(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(ot[a]+M+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var D=t("../utils/common"),
I=4,O=0,q=1,T=2,L=0,N=1,R=2,H=3,F=258,K=29,M=256,P=M+1+K,G=30,J=19,Q=2*P+1,V=15,W=16,X=7,Y=256,Z=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],at=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],it=512,st=new Array(2*(P+2));n(st);var ht=new Array(2*G);n(ht);var lt=new Array(it);n(lt);var ot=new Array(F-H+1);n(ot);var _t=new Array(K);n(_t);var dt=new Array(G);
n(dt);var ut,ft,ct,pt=!1;a._tr_init=C,a._tr_stored_block=S,a._tr_flush_block=j,a._tr_tally=U,a._tr_align=E},{"../utils/common":1}],8:[function(t,e,a){function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}],"/lib/deflate.js":[function(t,e,a){function n(t){if(!(this instanceof n))return new n(t);this.options=l.assign({level:b,method:v,chunkSize:16384,
windowBits:15,memLevel:8,strategy:w,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var a=h.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==p)throw new Error(_[a]);if(e.header&&h.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?o.string2buf(e.dictionary):
"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=h.deflateSetDictionary(this.strm,r),a!==p)throw new Error(_[a]);this._dict_set=!0}}function r(t,e){var a=new n(e);if(a.push(t,!0),a.err)throw a.msg||_[a.err];return a.result}function i(t,e){return e=e||{},e.raw=!0,r(t,e)}function s(t,e){return e=e||{},e.gzip=!0,r(t,e)}var h=t("./zlib/deflate"),l=t("./utils/common"),o=t("./utils/strings"),_=t("./zlib/messages"),d=t("./zlib/zstream"),u=Object.prototype.toString,
f=0,c=4,p=0,g=1,m=2,b=-1,w=0,v=8;n.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:e===!0?c:f,"string"==typeof t?r.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new l.Buf8(i),r.next_out=0,r.avail_out=i),a=h.deflate(r,n),a!==g&&a!==p)return this.onEnd(a),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||n!==c&&n!==m)||("string"===
this.options.to?this.onData(o.buf2binstring(l.shrinkBuf(r.output,r.next_out))):this.onData(l.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&a!==g);return n===c?(a=h.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===p):n!==m||(this.onEnd(p),r.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=
t,this.msg=this.strm.msg},a.Deflate=n,a.deflate=r,a.deflateRaw=i,a.gzip=s},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")});if(window.TLT)throw"Attempting to recreate TLT. Library may be included more than once on the page.";window.TLT=function(){function logScreenview(type,name,referrerName,root){var dcid=null,screenviewMsg=null,queue=TLT.getService("queue"),replay=TLT.getModule("replay"),cookieModule=TLT.getModule("TLCookie"),
webEvent=null,urlInfo=TLT.utils.getOriginAndPath();if(!name||typeof name!=="string")return;if(!referrerName||typeof referrerName!=="string")referrerName="";screenviewMsg={type:2,screenview:{type:type,name:name,url:urlInfo.path,host:urlInfo.origin,referrer:referrerName}};if(type==="LOAD")webEvent={type:"screenview_load",name:name};else if(type==="UNLOAD")webEvent={type:"screenview_unload",name:name};if(webEvent&&replay)dcid=replay.onevent(webEvent);if(dcid)screenviewMsg.dcid=dcid;if(type==="LOAD"||
type==="UNLOAD")queue.post("",screenviewMsg,"DEFAULT");if(webEvent&&cookieModule)cookieModule.onevent(webEvent)}function addGeolocationMsg(position){var geolocationMsg,queue=TLT.getService("queue");if(!position||!position.coords)return;geolocationMsg={type:13,geolocation:{"lat":position.coords.latitude,"long":position.coords.longitude,"accuracy":Math.ceil(position.coords.accuracy)}};queue.post("",geolocationMsg,"DEFAULT")}function addGeolocationErrorMsg(){var geolocationMsg,queue=TLT.getService("queue");
geolocationMsg={type:13,geolocation:{"errorCode":201,"error":"Permission denied."}};queue.post("",geolocationMsg,"DEFAULT")}var tltStartTime=(new Date).getTime(),tltPageId,modules={},services={},initialized=false,state=null,isFrameBlacklisted=function(){var blacklistedFrames,checkedFrames=[];function prepareBlacklistedFrames(scope){var browserService=core.getService("browser"),blacklist=core.getCoreConfig().framesBlacklist,foundFrames,i;blacklistedFrames=blacklistedFrames||[];scope=scope||null;if(typeof blacklist!==
"undefined"&&blacklist.length>0){for(i=0;i<blacklist.length;i+=1){foundFrames=browserService.queryAll(blacklist[i],scope);if(foundFrames&&foundFrames.length>0)blacklistedFrames=blacklistedFrames.concat(foundFrames)}checkedFrames=checkedFrames.concat(browserService.queryAll("iframe",scope))}}function isFrameBlacklisted(iframe){if(core.utils.indexOf(checkedFrames,iframe)<0)prepareBlacklistedFrames(iframe.ownerDocument);return core.utils.indexOf(blacklistedFrames,iframe)>-1}isFrameBlacklisted.clearCache=
function(){blacklistedFrames=null};return isFrameBlacklisted}(),lastClickedElement=null,servicePassthroughs={"config":["getConfig","updateConfig","getCoreConfig","updateCoreConfig","getModuleConfig","updateModuleConfig","getServiceConfig","updateServiceConfig"],"queue":["post","setAutoFlush","flushAll"],"browserBase":["getXPathFromNode","processDOMEvent"]},loadUnloadHandler=function(){var status={};return{normalizeModuleEvents:function(moduleName,moduleEvents,localTop,documentScope){var modStatus=
status[moduleName],load=false,unload=false,browserService=core.getService("browser");localTop=localTop||core._getLocalTop();documentScope=documentScope||localTop.document;if(modStatus)return;status[moduleName]={loadFired:false,pageHideFired:false};core.utils.forEach(moduleEvents,function(eventConfig){switch(eventConfig.name){case "load":load=true;moduleEvents.push(core.utils.mixin(core.utils.mixin({},eventConfig),{name:"pageshow"}));break;case "unload":unload=true;moduleEvents.push(core.utils.mixin(core.utils.mixin({},
eventConfig),{name:"pagehide"}));moduleEvents.push(core.utils.mixin(core.utils.mixin({},eventConfig),{name:"beforeunload"}));break;case "change":if(core.utils.isLegacyIE&&core.getFlavor()==="w3c")moduleEvents.push(core.utils.mixin(core.utils.mixin({},eventConfig),{name:"propertychange"}));break}});if(!load&&!unload){delete status[moduleName];return}status[moduleName].silentLoad=!load;status[moduleName].silentUnload=!unload;if(!load)moduleEvents.push({name:"load",target:localTop});if(!unload)moduleEvents.push({name:"unload",
target:localTop})},canPublish:function(moduleName,event){var mod;if(status.hasOwnProperty(moduleName)===false)return true;mod=status[moduleName];switch(event.type){case "load":mod.pageHideFired=false;mod.loadFired=true;return!mod.silentLoad;case "pageshow":mod.pageHideFired=false;event.type="load";return!mod.loadFired&&!mod.silentLoad;case "pagehide":event.type="unload";mod.loadFired=false;mod.pageHideFired=true;return!mod.silentUnload;case "unload":case "beforeunload":event.type="unload";mod.loadFired=
false;return!mod.pageHideFired&&!mod.silentUnload}return true},isUnload:function(event){return typeof event==="object"?event.type==="unload"||event.type==="beforeunload"||event.type==="pagehide":false}}}(),events={},bridgeCallbacks={},_init=function(){},_callback=null,okToCallInit=true,resetInactivityTimer=function(){},fullDOMFlushed=false,detectScreenviewChange=function(){var location=window.location,prevPathname=location.pathname,prevHash=location.hash,prevScreenview="";return function(){var currPathname=
location.pathname,currHash=location.hash,currScreenview=prevScreenview;if(currPathname!==prevPathname)currScreenview=currPathname+currHash;else if(currHash!==prevHash)currScreenview=currHash;if(currScreenview!==prevScreenview){if(prevScreenview)logScreenview("UNLOAD",prevScreenview);logScreenview("LOAD",currScreenview);prevScreenview=currScreenview;prevPathname=currPathname;prevHash=currHash}}}(),isElementBlocked=function(element,scope){var i,j,len,isBlocked=false,browserService=core.getService("browser"),
blockedList=core.getCoreConfig().blockedElements,blockedElem,blockedElems,blockedElemsLen;if(!blockedList||!blockedList.length){isElementBlocked=function(){return false};return isBlocked}if(!element||!element.nodeType)return isBlocked;scope=scope||core.utils.getDocument(element);for(i=0,len=blockedList.length;i<len&&!isBlocked;i+=1){blockedElems=browserService.queryAll(blockedList[i],scope);for(j=0,blockedElemsLen=blockedElems.length;j<blockedElemsLen&&!isBlocked;j+=1){blockedElem=blockedElems[j];
isBlocked=blockedElem.contains?blockedElem.contains(element):blockedElem===element}}return isBlocked},core={getStartTime:function(){return tltStartTime},getPageId:function(){return tltPageId||"#"},getLibraryVersion:function(){return"5.4.0.1805"},init:function(config,callback){var timeoutCallback;_callback=callback;if(!okToCallInit)throw"init must only be called once!";tltPageId="P."+this.utils.getRandomString(28);okToCallInit=false;timeoutCallback=function(event){event=event||window.event||{};if(document.addEventListener||
event.type==="load"||document.readyState==="complete"){if(document.removeEventListener){document.removeEventListener("DOMContentLoaded",timeoutCallback,false);window.removeEventListener("load",timeoutCallback,false)}else{document.detachEvent("onreadystatechange",timeoutCallback);window.detachEvent("onload",timeoutCallback)}_init(config,callback)}};if(document.readyState==="complete")setTimeout(timeoutCallback);else if(document.addEventListener){document.addEventListener("DOMContentLoaded",timeoutCallback,
false);window.addEventListener("load",timeoutCallback,false)}else{document.attachEvent("onreadystatechange",timeoutCallback);window.attachEvent("onload",timeoutCallback)}},isInitialized:function(){return initialized},getState:function(){return state},destroy:function(skipEvents){var token="",eventName="",target=null,serviceName=null,service=null,browser=null,delegateTarget=false;if(okToCallInit)return false;this.stopAll();if(!skipEvents){browser=this.getService("browser");for(token in events)if(events.hasOwnProperty(token)&&
browser!==null){eventName=token.split("|")[0];target=events[token].target;delegateTarget=events[token].delegateTarget||undefined;browser.unsubscribe(eventName,target,this._publishEvent,delegateTarget)}}for(serviceName in services)if(services.hasOwnProperty(serviceName)){service=services[serviceName].instance;if(service&&typeof service.destroy==="function")service.destroy();services[serviceName].instance=null}isFrameBlacklisted.clearCache();events={};initialized=false;okToCallInit=true;state="destroyed";
if(typeof _callback==="function")try{_callback("destroyed")}catch(e){}},_updateModules:function(scope){var config=this.getCoreConfig(),browser=this.getService("browser"),moduleConfig=null,moduleName=null,result=true;if(config&&browser&&config.modules)try{for(moduleName in config.modules)if(config.modules.hasOwnProperty(moduleName)){moduleConfig=config.modules[moduleName];if(modules.hasOwnProperty(moduleName)){if(moduleConfig.enabled===false){this.stop(moduleName);continue}this.start(moduleName);if(moduleConfig.events)this._registerModuleEvents(moduleName,
moduleConfig.events,scope)}}this._registerModuleEvents.clearCache()}catch(e){core.destroy();result=false}else result=false;return result},rebind:function(scope){core._updateModules(scope)},getSessionData:function(){if(!core.isInitialized())return;var rv=null,sessionData=null,scName,scValue,config=core.getCoreConfig();if(!config||!config.sessionDataEnabled)return null;sessionData=config.sessionData||{};scName=sessionData.sessionQueryName;if(scName)scValue=core.utils.getQueryStringValue(scName,sessionData.sessionQueryDelim);
else{scName=sessionData.sessionCookieName||"TLTSID";scValue=core.utils.getCookieValue(scName)}if(scName&&scValue){rv=rv||{};rv.tltSCN=scName;rv.tltSCV=scValue;rv.tltSCVNeedsHashing=!!sessionData.sessionValueNeedsHashing}return rv},logGeolocation:function(position){var replayConfig=core.getModuleConfig("replay")||{},geolocationConfigOptions=core.utils.getValue(replayConfig,"geolocation.options",{timeout:3E4,enableHighAccuracy:true,maximumAge:0}),geolocationEnabled=core.utils.getValue(replayConfig,
"geolocation.enabled",false),navigator=window.navigator;if(!position){if(!geolocationEnabled||!navigator||!navigator.geolocation||!navigator.geolocation.getCurrentPosition)return;navigator.geolocation.getCurrentPosition(addGeolocationMsg,addGeolocationErrorMsg,geolocationConfigOptions)}else addGeolocationMsg(position)},logCustomEvent:function(name,customMsgObj){if(!core.isInitialized())return;var customMsg=null,queue=this.getService("queue");if(!name||typeof name!=="string")name="CUSTOM";customMsgObj=
customMsgObj||{};customMsg={type:5,customEvent:{name:name,data:customMsgObj}};queue.post("",customMsg,"DEFAULT")},logExceptionEvent:function(msg,url,line){if(!core.isInitialized())return;var exceptionMsg=null,queue=this.getService("queue");if(!msg||typeof msg!=="string")return;url=url||"";line=line||"";exceptionMsg={type:6,exception:{description:msg,url:url,line:line}};queue.post("",exceptionMsg)},logFormCompletion:function(submitted,valid){if(!core.isInitialized())return;var queue=this.getService("queue"),
formCompletionMsg={type:15,formCompletion:{submitted:!!submitted,valid:typeof valid==="boolean"?valid:null}};queue.post("",formCompletionMsg)},logScreenviewLoad:function(name,referrerName,root){if(!core.isInitialized())return;logScreenview("LOAD",name,referrerName,root)},logScreenviewUnload:function(name){if(!core.isInitialized())return;logScreenview("UNLOAD",name)},logDOMCapture:function(root,config){var dcid=null,domCaptureData,domCaptureService,domCaptureServiceConfig,msg,queue;if(!this.isInitialized())return dcid;
if(core.utils.isLegacyIE)return dcid;domCaptureService=this.getService("domCapture");if(domCaptureService){root=root||window.document;domCaptureServiceConfig=this.getServiceConfig("domCapture");config=this.utils.mixin({},domCaptureServiceConfig.options,config);domCaptureData=domCaptureService.captureDOM(root,config);if(domCaptureData){dcid=config.dcid||"dcid-"+this.utils.getSerialNumber()+"."+(new Date).getTime();domCaptureData.dcid=dcid;domCaptureData.eventOn=!!config.eventOn;msg={"type":12,"domCapture":domCaptureData};
queue=this.getService("queue");queue.post("",msg,"DEFAULT");if(config.qffd!==false&&!fullDOMFlushed&&msg.domCapture.fullDOM){queue.flush();fullDOMFlushed=true}}else dcid=null}return dcid},performDOMCapture:function(moduleName,root,config){return this.logDOMCapture(root,config)},performFormCompletion:function(moduleName,submitted,valid){return this.logFormCompletion(submitted,valid)},_bridgeCallback:function(cbType){var callBackType=bridgeCallbacks[cbType];if(callBackType&&callBackType.enabled)return callBackType;
return null},logScreenCapture:function(){if(!core.isInitialized())return;var bridgeCallback=core._bridgeCallback("screenCapture");if(bridgeCallback!==null)bridgeCallback.cbFunction()},enableTealeafFramework:function(){if(!core.isInitialized())return;var bridgeCallback=core._bridgeCallback("enableTealeafFramework");if(bridgeCallback!==null)bridgeCallback.cbFunction()},disableTealeafFramework:function(){if(!core.isInitialized())return;var bridgeCallback=core._bridgeCallback("disableTealeafFramework");
if(bridgeCallback!==null)bridgeCallback.cbFunction()},startNewTLFSession:function(){if(!core.isInitialized())return;var bridgeCallback=core._bridgeCallback("startNewTLFSession");if(bridgeCallback!==null)bridgeCallback.cbFunction()},currentSessionId:function(){if(!core.isInitialized())return;var sessionId,bridgeCallback=core._bridgeCallback("currentSessionId");if(bridgeCallback!==null)sessionId=bridgeCallback.cbFunction();return sessionId},defaultValueForConfigurableItem:function(configItem){if(!core.isInitialized())return;
var value,bridgeCallback=core._bridgeCallback("defaultValueForConfigurableItem");if(bridgeCallback!==null)value=bridgeCallback.cbFunction(configItem);return value},valueForConfigurableItem:function(configItem){if(!core.isInitialized())return;var value,bridgeCallback=core._bridgeCallback("valueForConfigurableItem");if(bridgeCallback!==null)value=bridgeCallback.cbFunction(configItem);return value},setConfigurableItem:function(configItem,value){if(!core.isInitialized())return;var result=false,bridgeCallback=
core._bridgeCallback("setConfigurableItem");if(bridgeCallback!==null)result=bridgeCallback.cbFunction(configItem,value);return result},addAdditionalHttpHeader:function(key,value){if(!core.isInitialized())return;var result=false,bridgeCallback=core._bridgeCallback("addAdditionalHttpHeader");if(bridgeCallback!==null)result=bridgeCallback.cbFunction(key,value);return result},logCustomEventBridge:function(eventName,jsonData,logLevel){if(!core.isInitialized())return;var result=false,bridgeCallback=core._bridgeCallback("logCustomEventBridge");
if(bridgeCallback!==null)result=bridgeCallback.cbFunction(eventName,jsonData,logLevel);return result},registerBridgeCallbacks:function(callbacks){var i,j,len,cb=null,cbEntry,cbList,cbListLen,utils=this.utils;if(!callbacks)return false;if(callbacks.length===0){bridgeCallbacks={};return false}try{for(i=0,len=callbacks.length;i<len;i+=1){cb=callbacks[i];if(typeof cb==="object"&&cb.cbType&&cb.cbFunction){cbEntry={enabled:cb.enabled,cbFunction:cb.cbFunction,cbOrder:cb.order||0};if(utils.isUndefOrNull(bridgeCallbacks[cb.cbType]))bridgeCallbacks[cb.cbType]=
cbEntry;else{if(!utils.isArray(bridgeCallbacks[cb.cbType]))bridgeCallbacks[cb.cbType]=[bridgeCallbacks[cb.cbType]];cbList=bridgeCallbacks[cb.cbType];for(j=0,cbListLen=cbList.length;j<cbListLen;j+=1)if(cbList[j].cbOrder>cbEntry.cbOrder)break;cbList.splice(j,0,cbEntry)}}}}catch(e){return false}return true},redirectQueue:function(queue){var i,j,len,cb,cbList,cbListLen,retval,utils=this.utils,sS;if(!queue||!queue.length)return queue;cb=bridgeCallbacks.messageRedirect;if(!cb)return queue;if(!utils.isArray(cb))cbList=
[cb];else cbList=cb;sS=core.getService("serializer");for(j=0,cbListLen=cbList.length;j<cbListLen;j+=1){cb=cbList[j];if(cb&&cb.enabled)for(i=0,len=queue.length;i<len;i+=1){retval=cb.cbFunction(sS.serialize(queue[i]),queue[i]);if(retval&&typeof retval==="object")queue[i]=retval;else{queue.splice(i,1);i-=1;len=queue.length}}}return queue},_hasSameOrigin:function(iframe){try{return iframe.document.location.host===document.location.host&&iframe.document.location.protocol===document.location.protocol}catch(e){}return false},
provideRequestHeaders:function(){var headers=null,addHeadersCB=bridgeCallbacks.addRequestHeaders;if(addHeadersCB&&addHeadersCB.enabled)headers=addHeadersCB.cbFunction();return headers},_registerModuleEvents:function(){var idCache,frameLoadPending=0,normalizeToObject=function(prop,localTop,documentScope){if(prop==="window")return localTop;if(prop==="document")return documentScope;return prop};function _registerModuleEventsOnScope(moduleName,moduleEvents,scope){var browserBase=core.getService("browserBase"),
browser=core.getService("browser"),documentScope=core.utils.getDocument(scope),localTop=core._getLocalTop(),isFrame=core.utils.isIFrameDescendant(scope),frameId,e,i;scope=scope||documentScope;loadUnloadHandler.normalizeModuleEvents(moduleName,moduleEvents,localTop,documentScope);if(isFrame){frameId=browserBase.ElementData.prototype.examineID(scope).id;if(typeof frameId==="string"){frameId=frameId.slice(0,frameId.length-1);for(e in events)if(events.hasOwnProperty(e))for(i=0;i<events[e].length;i+=1)if(moduleName===
events[e][i])if(e.indexOf(frameId)!==-1){delete events[e];break}}}core.utils.forEach(moduleEvents,function(eventConfig){var target=normalizeToObject(eventConfig.target,localTop,documentScope)||documentScope,delegateTarget=normalizeToObject(eventConfig.delegateTarget,localTop,documentScope),token="";if(eventConfig.recurseFrames!==true&&isFrame)return;if(typeof target==="string")if(eventConfig.delegateTarget&&core.getFlavor()==="jQuery"){token=core._buildToken4delegateTarget(eventConfig.name,target,
eventConfig.delegateTarget);if(!events.hasOwnProperty(token)){events[token]=[moduleName];events[token].target=target;events[token].delegateTarget=delegateTarget;browser.subscribe(eventConfig.name,target,core._publishEvent,delegateTarget,token)}else events[token].push(moduleName)}else core.utils.forEach(browser.queryAll(target,scope),function(element){var idData=idCache.get(element);if(!idData){idData=browserBase.ElementData.prototype.examineID(element);idCache.set(element,idData)}token=eventConfig.name+
"|"+idData.id+idData.idType;if(core.utils.indexOf(events[token],moduleName)!==-1)return;events[token]=events[token]||[];events[token].push(moduleName);events[token].target=element;browser.subscribe(eventConfig.name,element,core._publishEvent)});else{token=core._buildToken4bubbleTarget(eventConfig.name,target,typeof eventConfig.target==="undefined");if(!events.hasOwnProperty(token)){events[token]=[moduleName];browser.subscribe(eventConfig.name,target,core._publishEvent)}else if(core.utils.indexOf(events[token],
moduleName)===-1)events[token].push(moduleName)}if(token!=="")if(typeof target!=="string")events[token].target=target})}function _isFrameLoaded(hIFrame){var iFrameWindow=core.utils.getIFrameWindow(hIFrame);return iFrameWindow!==null&&core._hasSameOrigin(iFrameWindow)&&iFrameWindow.document!==null&&iFrameWindow.document.readyState==="complete"}function registerModuleEvents(moduleName,moduleEvents,scope){scope=scope||core._getLocalTop().document;idCache=idCache||new core.utils.WeakMap;_registerModuleEventsOnScope(moduleName,
moduleEvents,scope);if(moduleName!=="performance"){var hIFrame=null,hIFrameWindow=null,browserService=core.getService("browser"),dcService=core.getService("domCapture"),cIFrames=browserService.queryAll("iframe, frame",scope),i,iLength;for(i=0,iLength=cIFrames.length;i<iLength;i+=1){hIFrame=cIFrames[i];if(isFrameBlacklisted(hIFrame))continue;if(_isFrameLoaded(hIFrame)){hIFrameWindow=core.utils.getIFrameWindow(hIFrame);core._registerModuleEvents(moduleName,moduleEvents,hIFrameWindow.document);dcService.observeWindow(hIFrameWindow);
continue}frameLoadPending+=1;(function(moduleName,moduleEvents,hIFrame){var hIFrameWindow=null,_iframeContext={moduleName:moduleName,moduleEvents:moduleEvents,hIFrame:hIFrame,_registerModuleEventsDelayed:function(){var hIFrameWindow=null;if(!isFrameBlacklisted(hIFrame)){hIFrameWindow=core.utils.getIFrameWindow(hIFrame);if(core._hasSameOrigin(hIFrameWindow)){core._registerModuleEvents(moduleName,moduleEvents,hIFrameWindow.document);dcService.observeWindow(hIFrameWindow)}}frameLoadPending-=1;if(!frameLoadPending)core._publishEvent({type:"loadWithFrames",
custom:true})}};core.utils.addEventListener(hIFrame,"load",function(){_iframeContext._registerModuleEventsDelayed()});if(core.utils.isLegacyIE&&_isFrameLoaded(hIFrame)){hIFrameWindow=core.utils.getIFrameWindow(hIFrame);core.utils.addEventListener(hIFrameWindow.document,"readystatechange",function(){_iframeContext._registerModuleEventsDelayed()})}})(moduleName,moduleEvents,hIFrame)}}}registerModuleEvents.clearCache=function(){if(idCache){idCache.clear();idCache=null}};return registerModuleEvents}(),
_buildToken4currentTarget:function(event){var target=event.nativeEvent?event.nativeEvent.currentTarget:null,idData=target?this.getService("browserBase").ElementData.prototype.examineID(target):{id:event.target?event.target.id:null,idType:event.target?event.target.idType:-1};return event.type+"|"+idData.id+idData.idType},_buildToken4delegateTarget:function(eventType,target,delegateTarget){return eventType+"|"+target+"|"+delegateTarget},_buildToken4bubbleTarget:function(eventType,target,checkIframe,
delegateTarget){var localTop=core._getLocalTop(),localWindow,browserService=core.getService("browser"),_getIframeElement=function(documentScope){var retVal=null;if(core._hasSameOrigin(localWindow.parent))core.utils.forEach(browserService.queryAll("iframe, frame",localWindow.parent.document),function(iframe){var iFrameWindow=null;if(!isFrameBlacklisted(iframe)){iFrameWindow=core.utils.getIFrameWindow(iframe);if(core._hasSameOrigin(iFrameWindow)&&iFrameWindow.document===documentScope)retVal=iframe}});
return retVal},documentScope=core.utils.getDocument(target),browserBase=this.getService("browserBase"),iframeElement=null,tmpTarget,retVal=eventType,idData;if(documentScope)localWindow=documentScope.defaultView||documentScope.parentWindow;if(target===window||target===window.window)retVal+="|null-2|window";else if(checkIframe&&localWindow&&core._hasSameOrigin(localWindow.parent)&&typeof documentScope!=="undefined"&&localTop.document!==documentScope){iframeElement=_getIframeElement(documentScope);if(iframeElement){tmpTarget=
browserBase.ElementData.prototype.examineID(iframeElement);retVal+="|"+tmpTarget.xPath+"-2"}}else if(delegateTarget&&delegateTarget!==document&&core.getFlavor()==="jQuery")retVal+="|null-2|"+core.utils.getTagName(target)+"|"+core.utils.getTagName(delegateTarget);else retVal+="|null-2|document";return retVal},_reinitConfig:function(){core._updateModules()},_publishEvent:function(event){var moduleName=null,module=null,token=event.delegateTarget&&event.data?event.data:core._buildToken4currentTarget(event),
modules=null,i,len,target,modEvent=null,canIgnore=false,canPublish=false,coreConfig=core.getCoreConfig(),browserService=core.getService("browser"),delegateTarget=event.delegateTarget||null,screenviewAutoDetect;if(event.type.match(/^(click|change|blur|mouse|touch)/))resetInactivityTimer();screenviewAutoDetect=core.utils.getValue(coreConfig,"screenviewAutoDetect",true);if(screenviewAutoDetect)detectScreenviewChange();if((event.type==="load"||event.type==="pageshow")&&!event.nativeEvent.customLoad)return;
if(core.utils.isIE){if(event.type==="click")lastClickedElement=event.target.element;if(event.type==="beforeunload"){canIgnore=false;core.utils.forEach(coreConfig.ieExcludedLinks,function(selector){var i,len,el=browserService.queryAll(selector);for(i=0,len=el?el.length:0;i<len;i+=1)if(typeof el[i]!==undefined&&el[i]===lastClickedElement){canIgnore=true;return}});if(canIgnore)return}}if(loadUnloadHandler.isUnload(event))state="unloading";if(event.type==="change"&&core.utils.isLegacyIE&&core.getFlavor()===
"w3c"&&(event.target.element.type==="checkbox"||event.target.element.type==="radio"))return;if(event.type==="propertychange")if(event.nativeEvent.propertyName==="checked"&&(event.target.element.type==="checkbox"||event.target.element.type==="radio"&&event.target.element.checked)){event.type="change";event.target.type="INPUT"}else return;if(event.target&&isElementBlocked(event.target.element))return;if(!events.hasOwnProperty(token)){if(event.hasOwnProperty("nativeEvent"))target=event.nativeEvent.currentTarget||
event.nativeEvent.target;token=core._buildToken4bubbleTarget(event.type,target,true,delegateTarget)}if(events.hasOwnProperty(token)){modules=events[token];for(i=0,len=modules.length;i<len;i+=1){moduleName=modules[i];module=core.getModule(moduleName);modEvent=core.utils.mixin({},event);if(module&&core.isStarted(moduleName)&&typeof module.onevent==="function"){canPublish=loadUnloadHandler.canPublish(moduleName,modEvent);if(canPublish)module.onevent(modEvent)}}}if(modEvent&&modEvent.type==="unload"&&
canPublish)core.destroy()},_getLocalTop:function(){return window.window},addModule:function(moduleName,creator){modules[moduleName]={creator:creator,instance:null,context:null,messages:[]};if(this.isInitialized())this.start(moduleName)},getModule:function(moduleName){if(modules[moduleName]&&modules[moduleName].instance)return modules[moduleName].instance;return null},removeModule:function(moduleName){this.stop(moduleName);delete modules[moduleName]},isStarted:function(moduleName){return modules.hasOwnProperty(moduleName)&&
modules[moduleName].instance!==null},start:function(moduleName){var moduleData=modules[moduleName],instance=null;if(moduleData&&moduleData.instance===null){moduleData.context=new TLT.ModuleContext(moduleName,this);instance=moduleData.instance=moduleData.creator(moduleData.context);if(typeof instance.init==="function")instance.init()}},startAll:function(){var moduleName=null;for(moduleName in modules)if(modules.hasOwnProperty(moduleName))this.start(moduleName)},stop:function(moduleName){var moduleData=
modules[moduleName],instance=null;if(moduleData&&moduleData.instance!==null){instance=moduleData.instance;if(typeof instance.destroy==="function")instance.destroy();moduleData.instance=moduleData.context=null}},stopAll:function(){var moduleName=null;for(moduleName in modules)if(modules.hasOwnProperty(moduleName))this.stop(moduleName)},addService:function(serviceName,creator){services[serviceName]={creator:creator,instance:null}},getService:function(serviceName){if(services.hasOwnProperty(serviceName)){if(!services[serviceName].instance){try{services[serviceName].instance=
services[serviceName].creator(this);if(typeof services[serviceName].instance.init==="function")services[serviceName].instance.init()}catch(e){return null}if(typeof services[serviceName].instance.getServiceName!=="function")services[serviceName].instance.getServiceName=function(){return serviceName}}return services[serviceName].instance}return null},removeService:function(serviceName){delete services[serviceName]},broadcast:function(message){var i=0,len=0,prop=null,module=null;if(message&&typeof message===
"object")for(prop in modules)if(modules.hasOwnProperty(prop)){module=modules[prop];if(core.utils.indexOf(module.messages,message.type)>-1)if(typeof module.instance.onmessage==="function")module.instance.onmessage(message)}},listen:function(moduleName,messageType){var module=null;if(this.isStarted(moduleName)){module=modules[moduleName];if(core.utils.indexOf(module.messages,messageType)===-1)module.messages.push(messageType)}},fail:function(message,failcode,skipEvents){message="UIC FAILED. "+message;
try{core.destroy(!!skipEvents)}finally{core.utils.clog(message);throw new core.UICError(message,failcode);}},UICError:function(){function UICError(message,errorCode){this.message=message;this.code=errorCode}UICError.prototype=new Error;UICError.prototype.name="UICError";UICError.prototype.constructor=UICError;return UICError}(),getFlavor:function(){return"w3c"}};resetInactivityTimer=function(){var coreConfig=core.getCoreConfig(),inactivityTimerId=null,inactivityTimeout=core.utils.getValue(coreConfig,
"inactivityTimeout",6E5);if(!inactivityTimeout){resetInactivityTimer=function(){};return}function inactivityTimeoutHandler(){core.utils.clog("UIC self-terminated due to inactivity timeout.");core.destroy()}resetInactivityTimer=function(){if(inactivityTimerId){clearTimeout(inactivityTimerId);inactivityTimerId=null}inactivityTimerId=setTimeout(inactivityTimeoutHandler,inactivityTimeout)};resetInactivityTimer()};_init=function(config,callback){var configService,event,webEvent,baseBrowser,browserService,
cookieModuleConfig,queueServiceConfig,ajaxService,queues,sessionCookieName,sessionCookieValue,endpointURL,killswitchURL,i;if(initialized){core.utils.clog("TLT.init() called more than once. Ignoring.");return}if(TLT&&TLT.replay)return;configService=core.getService("config");configService.updateConfig(config);cookieModuleConfig=configService.getModuleConfig("TLCookie")||{};sessionCookieName=cookieModuleConfig.sessionizationCookieName||"TLTSID";sessionCookieValue=core.utils.getCookieValue(sessionCookieName);
if(sessionCookieValue==="DND"){if(state!=="destroyed")core.destroy();return}if(!core._updateModules()){if(state!=="destroyed")core.destroy();return}if(configService.subscribe)configService.subscribe("configupdated",core._reinitConfig);initialized=true;state="loaded";event={type:"load",target:window.window,srcElement:window.window,currentTarget:window.window,bubbles:true,cancelBubble:false,cancelable:true,timeStamp:+new Date,customLoad:true};baseBrowser=core.getService("browserBase");webEvent=new baseBrowser.WebEvent(event);
core._publishEvent(webEvent);ajaxService=core.getService("ajax");queueServiceConfig=core.getServiceConfig("queue");queues=queueServiceConfig.queues||[];for(i=0;i<queues.length;i+=1){if(!sessionCookieValue&&cookieModuleConfig.tlAppKey){endpointURL=queues[i].endpoint;killswitchURL=queues[i].killswitchURL||(endpointURL.match("collectorPost")?endpointURL.replace("collectorPost","switch/"+cookieModuleConfig.tlAppKey):null);if(killswitchURL)ajaxService.sendRequest({type:"GET",url:killswitchURL,async:true,
timeout:5E3,oncomplete:function(result){if(result.responseText==="0"){core.setAutoFlush(false);core.utils.setCookie(sessionCookieName,"DND");core.destroy()}}})}if(queues[i].checkEndpoint)ajaxService.sendRequest({oncomplete:function(result){},timeout:queues[i].endpointCheckTimeout||3E3,url:queues[i].endpoint,headers:{"X-PageId":tltPageId,"X-Tealeaf-SaaS-AppKey":cookieModuleConfig.tlAppKey,"X-Tealeaf-EndpointCheck":true},async:true,error:function(result){if(result.success)return;core.setAutoFlush(false);
core.destroy()}})}if(typeof _callback==="function")try{_callback("initialized")}catch(e){}};(function(){var name=null,i,len;for(name in servicePassthroughs)if(servicePassthroughs.hasOwnProperty(name))for(i=0,len=servicePassthroughs[name].length;i<len;i+=1)(function(serviceName,methodName){core[methodName]=function(){var service=this.getService(serviceName);if(service)return service[methodName].apply(service,arguments)}})(name,servicePassthroughs[name][i])})();return core}();(function(){var ua=window.navigator.userAgent.toLowerCase(),
_isIE=ua.indexOf("msie")!==-1||ua.indexOf("trident")!==-1,_isLegacyIE=function(){var isNavTimingSupported=!!window.performance;return _isIE&&(!isNavTimingSupported||document.documentMode<9)}(),_isAndroid=ua.indexOf("android")!==-1,_isiOS=/(ipad|iphone|ipod)/.test(ua),_isOperaMini=ua.indexOf("opera mini")!==-1,tltUniqueIndex=1,tlTypes={"a:":"link","button:button":"button","button:submit":"button","input:button":"button","input:checkbox":"checkBox","input:color":"colorPicker","input:date":"datePicker",
"input:datetime":"datetimePicker","input:datetime-local":"datetime-local","input:email":"emailInput","input:file":"fileInput","input:image":"button","input:month":"month","input:number":"numberPicker","input:password":"textBox","input:radio":"radioButton","input:range":"slider","input:reset":"button","input:search":"searchBox","input:submit":"button","input:tel":"tel","input:text":"textBox","input:time":"timePicker","input:url":"urlBox","input:week":"week","select:":"selectList","select:select-one":"selectList",
"textarea:":"textBox","textarea:textarea":"textBox"},utils={isIE:_isIE,isLegacyIE:_isLegacyIE,isAndroid:_isAndroid,isLandscapeZeroDegrees:false,isiOS:_isiOS,isOperaMini:_isOperaMini,isUndefOrNull:function(obj){return typeof obj==="undefined"||obj===null},isArray:function(obj){return!!(obj&&Object.prototype.toString.call(obj)==="[object Array]")},getSerialNumber:function(){var id;id=tltUniqueIndex;tltUniqueIndex+=1;return id},getRandomString:function(length,dataSet){var i,dataSetLength,defaultDataSet=
"ABCDEFGHJKLMNPQRSTUVWXYZ23456789",randomString="";if(!length)return randomString;if(typeof dataSet!=="string")dataSet=defaultDataSet;for(i=0,dataSetLength=dataSet.length;i<length;i+=1)randomString+=dataSet.charAt(Math.floor(Math.random()*dataSetLength));return randomString},getValue:function(parentObj,propertyAsStr,defaultValue){var i,len,properties;defaultValue=typeof defaultValue==="undefined"?null:defaultValue;if(!parentObj||typeof parentObj!=="object"||typeof propertyAsStr!=="string")return defaultValue;
properties=propertyAsStr.split(".");for(i=0,len=properties.length;i<len;i+=1){if(this.isUndefOrNull(parentObj)||typeof parentObj[properties[i]]==="undefined")return defaultValue;parentObj=parentObj[properties[i]]}return parentObj},indexOf:function(array,item){var i,len;if(array&&array.indexOf)return array.indexOf(item);if(array&&array instanceof Array)for(i=0,len=array.length;i<len;i+=1)if(array[i]===item)return i;return-1},forEach:function(array,callback,context){var i,len;if(!array||!array.length||
!callback||!callback.call)return;for(i=0,len=array.length;i<len;i+=1)callback.call(context,array[i],i,array)},some:function(array,callback){var i,len,val=false;for(i=0,len=array.length;i<len;i+=1){val=callback(array[i],i,array);if(val)return val}return val},convertToArray:function(items){var i=0,len=items.length,result=[];while(i<len){result.push(items[i]);i+=1}return result},mixin:function(dst){var prop,src,srcId,len;for(srcId=1,len=arguments.length;srcId<len;srcId+=1){src=arguments[srcId];for(prop in src)if(Object.prototype.hasOwnProperty.call(src,
prop))dst[prop]=src[prop]}return dst},extend:function(deep,target,src){var prop="";for(prop in src)if(Object.prototype.hasOwnProperty.call(src,prop))if(deep&&Object.prototype.toString.call(src[prop])==="[object Object]"){if(typeof target[prop]==="undefined")target[prop]={};utils.extend(deep,target[prop],src[prop])}else target[prop]=src[prop];return target},clone:function(obj){var copy,attr;if(null===obj||"object"!==typeof obj)return obj;if(obj instanceof Object){copy=Object.prototype.toString.call(obj)===
"[object Array]"?[]:{};for(attr in obj)if(Object.prototype.hasOwnProperty.call(obj,attr))copy[attr]=utils.clone(obj[attr]);return copy}},parseVersion:function(version){var i,len,retval=[];if(!version||!version.length)return retval;retval=version.split(".");for(i=0,len=retval.length;i<len;i+=1)retval[i]=/^[0-9]+$/.test(retval[i])?parseInt(retval[i],10):retval[i];return retval},isEqual:function(a,b){var i,len;if(a===b)return true;if(typeof a!==typeof b)return false;if(a instanceof Object)if(Object.prototype.toString.call(a)===
"[object Array]"){if(a.length!==b.length)return false;for(i=0,len=a.length;i<len;i+=1)if(!this.isEqual(a[i],b[i]))return false;return true}return false},createObject:function(){var fn=null,F=null;if(typeof Object.create==="function")fn=Object.create;else{F=function(){};fn=function(o){if(typeof o!=="object"&&typeof o!=="function")throw new TypeError("Object prototype need to be an object!");F.prototype=o;return new F}}return fn}(),access:function(path,rootObj){var obj=rootObj||window,arr,i,len;if(typeof path!==
"string"||typeof obj!=="object"&&obj!==null)return;arr=path.split(".");for(i=0,len=arr.length;i<len;i+=1){if(i===0&&arr[i]==="window")continue;if(!Object.prototype.hasOwnProperty.call(obj,arr[i]))return;obj=obj[arr[i]];if(i<len-1&&!(obj instanceof Object))return}return obj},isNumeric:function(character){var retVal=false;if(utils.isUndefOrNull(character)||character==="")return retVal;retVal=!isNaN(character*2);return retVal},isUpperCase:function(character){return character===character.toUpperCase()&&
character!==character.toLowerCase()},isLowerCase:function(character){return character===character.toLowerCase()&&character!==character.toUpperCase()},getDocument:function(node){if(node&&node.nodeType!==9)return!utils.isUndefOrNull(node.ownerDocument)?node.ownerDocument:node.document;return node},getWindow:function(node){try{if(node.self!==node){var ownerDocument=utils.getDocument(node);return!utils.isUndefOrNull(ownerDocument.defaultView)?ownerDocument.defaultView:ownerDocument.parentWindow}}catch(e){node=
null}return node},getOriginAndPath:function(location){var retObj={},temp;location=location||window.location;if(location.origin)retObj.origin=location.origin;else retObj.origin=(location.protocol||"")+"//"+(location.host||"");retObj.path=(location.pathname||"").split(";",1)[0];if(retObj.origin.indexOf("file://")>-1){temp=retObj.path.match(/(.*)(\/.*app.*)/);if(temp!==null)retObj.path=temp[2]}return retObj},getIFrameWindow:function(iFrameElement){var contentWindow=null;if(!iFrameElement)return contentWindow;
try{contentWindow=iFrameElement.contentWindow||(iFrameElement.contentDocument?iFrameElement.contentDocument.parentWindow:null)}catch(e){}return contentWindow},getTagName:function(node){var tagName="";if(utils.isUndefOrNull(node))return tagName;if(node===document||node.nodeType===9)tagName="document";else if(node===window||node===window.window)tagName="window";else if(typeof node==="string")tagName=node.toLowerCase();else if(node.tagName)tagName=node.tagName.toLowerCase();else if(node.nodeName)tagName=
node.nodeName.toLowerCase();else tagName="";return tagName},getTlType:function(node){var elementType,key,tlType="";if(utils.isUndefOrNull(node)||!node.type)return tlType;elementType=node.type.toLowerCase();key=elementType+":";if(node.subType)key+=node.subType.toLowerCase();tlType=tlTypes[key]||elementType;return tlType},isIFrameDescendant:function(node){var nodeWindow=utils.getWindow(node);return nodeWindow?nodeWindow!=TLT._getLocalTop():false},getOrientationMode:function(orientation){var mode="INVALID";
if(typeof orientation!=="number")return mode;switch(orientation){case 0:case 180:case 360:mode="PORTRAIT";break;case 90:case -90:case 270:mode="LANDSCAPE";break;default:mode="UNKNOWN";break}return mode},clog:function(window){return function(){}}(window),trim:function(str){if(!str||!str.toString)return str;return str.toString().replace(/^\s+|\s+$/g,"")},ltrim:function(str){if(!str||!str.toString)return str;return str.toString().replace(/^\s+/,"")},rtrim:function(str){if(!str||!str.toString)return str;
return str.toString().replace(/\s+$/,"")},setCookie:function(cookieName,cookieValue,maxAge,path,domain){var i,len,domainArray,expiry,maxAgeStr="",pathStr;if(!cookieName)return;cookieName=encodeURIComponent(cookieName);cookieValue=encodeURIComponent(cookieValue);domainArray=(domain||location.hostname).split(".");pathStr=";path\x3d"+(path||"/");if(typeof maxAge==="number")if(this.isIE){expiry=new Date;expiry.setTime(expiry.getTime()+maxAge*1E3);maxAgeStr=";expires\x3d"+expiry.toUTCString()}else maxAgeStr=
";max-age\x3d"+maxAge;for(len=domainArray.length,i=len===1?1:2;i<=len;i+=1){document.cookie=cookieName+"\x3d"+cookieValue+";domain\x3d"+domainArray.slice(-i).join(".")+pathStr+maxAgeStr;if(this.getCookieValue(cookieName)===cookieValue)break;if(len===1)document.cookie=cookieName+"\x3d"+cookieValue+pathStr+maxAgeStr}},getCookieValue:function(cookieName,cookieString){var i,len,cookie,cookies,cookieValue=null,cookieNameLen;try{cookieString=cookieString||document.cookie;if(!cookieName||!cookieName.toString)return null;
cookieName+="\x3d";cookieNameLen=cookieName.length;cookies=cookieString.split(";");for(i=0,len=cookies.length;i<len;i+=1){cookie=cookies[i];cookie=utils.ltrim(cookie);if(cookie.indexOf(cookieName)===0){cookieValue=cookie.substring(cookieNameLen,cookie.length);break}}}catch(e){cookieValue=null}return cookieValue},getQueryStringValue:function(paramName,queryDelim,queryString){var i,j,queryStringLen,paramValue=null,valueStartIndex;try{queryString=queryString||window.location.search;queryStringLen=queryString.length;
if(!paramName||!paramName.toString||!queryStringLen)return null;queryDelim=queryDelim||"\x26";queryString=queryDelim+queryString.substring(1);paramName=queryDelim+paramName+"\x3d";i=queryString.indexOf(paramName);if(i!==-1){valueStartIndex=i+paramName.length;j=queryString.indexOf(queryDelim,valueStartIndex);if(j===-1)j=queryStringLen;paramValue=decodeURIComponent(queryString.substring(valueStartIndex,j))}}catch(e){}return paramValue},addEventListener:function(){if(window.addEventListener)return function(element,
eventName,listener){element.addEventListener(eventName,listener,false)};return function(element,eventName,listener){element.attachEvent("on"+eventName,listener)}}(),matchTarget:function(rules,target){var i,j,domElement,matchIndex=-1,qr,qrLen,qrTarget,len,rule,scope=document;if(!rules||!target)return matchIndex;if(!this.browserService||!this.browserBaseService){this.browserService=TLT.getService("browser");this.browserBaseService=TLT.getService("browserBase")}if(target.idType===-2){domElement=this.browserBaseService.getNodeFromID(target.id,
target.idType);scope=this.getDocument(domElement)}for(i=0,len=rules.length;i<len&&matchIndex===-1;i+=1){rule=rules[i];if(typeof rule==="string"){qr=this.browserService.queryAll(rule,scope);for(j=0,qrLen=qr?qr.length:0;j<qrLen;j+=1)if(qr[j]){qrTarget=this.browserBaseService.ElementData.prototype.examineID(qr[j]);if(qrTarget.idType===target.idType&&qrTarget.id===target.id){matchIndex=i;break}}}else if(rule&&rule.id&&rule.idType&&target&&target.idType&&target.idType.toString()===rule.idType.toString())switch(typeof rule.id){case "string":if(rule.id===
target.id)matchIndex=i;break;case "object":if(!rule.cRegex)rule.cRegex=new RegExp(rule.id.regex,rule.id.flags);rule.cRegex.lastIndex=0;if(rule.cRegex.test(target.id))matchIndex=i;break}}return matchIndex},WeakMap:function(){function index(data,key){var i,len;data=data||[];for(i=0,len=data.length;i<len;i+=1)if(data[i][0]===key)return i;return-1}return function(){var data=[];this.set=function(key,val){var idx=index(data,key);data[idx>-1?idx:data.length]=[key,val]};this.get=function(key){var arr=data[index(data,
key)];return arr?arr[1]:undefined};this.clear=function(){data=[]};this.has=function(key){return index(data,key)>=0};this.remove=function(key){var idx=index(data,key);if(idx>=0)data.splice(idx,1)};this["delete"]=this.remove}}()};if(typeof TLT==="undefined"||!TLT)window.TLT={};TLT.utils=utils})();(function(){TLT.EventTarget=function(){this._handlers={}};TLT.EventTarget.prototype={constructor:TLT.EventTarget,publish:function(name,data){var i=0,len=0,handlers=this._handlers[name],event={type:name,data:data};
if(typeof handlers!=="undefined")for(len=handlers.length;i<len;i+=1)handlers[i](event)},subscribe:function(name,handler){if(!this._handlers.hasOwnProperty(name))this._handlers[name]=[];this._handlers[name].push(handler)},unsubscribe:function(name,handler){var i=0,len=0,handlers=this._handlers[name];if(handlers)for(len=handlers.length;i<len;i+=1)if(handlers[i]===handler){handlers.splice(i,1);return}}}})();TLT.ModuleContext=function(){var methodsToExpose=["broadcast","getConfig:getModuleConfig","listen",
"post","getXPathFromNode","performDOMCapture","performFormCompletion","isInitialized","getStartTime"];return function(moduleName,core){var context={},i=0,len=methodsToExpose.length,parts=null,coreMethod=null,contextMethod=null;for(i=0;i<len;i+=1){parts=methodsToExpose[i].split(":");if(parts.length>1){contextMethod=parts[0];coreMethod=parts[1]}else{contextMethod=parts[0];coreMethod=parts[0]}context[contextMethod]=function(coreMethod){return function(){var args=core.utils.convertToArray(arguments);
args.unshift(moduleName);return core[coreMethod].apply(core,args)}}(coreMethod)}context.utils=core.utils;return context}}();TLT.addService("config",function(core){function mergeConfig(oldConf,newConf){core.utils.extend(true,oldConf,newConf);configService.publish("configupdated",configService.getConfig())}var config={core:{},modules:{},services:{}},configService=core.utils.extend(false,core.utils.createObject(new TLT.EventTarget),{getConfig:function(){return config},updateConfig:function(newConf){mergeConfig(config,
newConf)},getCoreConfig:function(){return config.core},updateCoreConfig:function(newConf){mergeConfig(config.core,newConf)},getServiceConfig:function(serviceName){return config.services[serviceName]||{}},updateServiceConfig:function(serviceName,newConf){if(typeof config.services[serviceName]==="undefined")config.services[serviceName]={};mergeConfig(config.services[serviceName],newConf)},getModuleConfig:function(moduleName){return config.modules[moduleName]||{}},updateModuleConfig:function(moduleName,
newConf){if(typeof config.modules[moduleName]==="undefined")config.modules[moduleName]={};mergeConfig(config.modules[moduleName],newConf)},destroy:function(){config={core:{},modules:{},services:{}}}});return configService});TLT.addService("queue",function(core){var utils=core.utils,CONFIG=null,coreConfig={},inactivityTimeout=6E5,aS=core.getService("ajax"),bS=core.getService("browser"),eS=core.getService("encoder"),sS=core.getService("serializer"),cS=core.getService("config"),mS=core.getService("message"),
defaultQueue=null,queueTimers={},autoFlushing=true,msgCounter={5:{limit:300,count:0},6:{limit:400,count:0}},xhrLog=[],isInitialized=false,queueManager=function(){var queues={};function queueExists(queueId){return typeof queues[queueId]!=="undefined"}function addQueue(queueId,opts){if(!queueExists(queueId))queues[queueId]={lastOffset:0,data:[],queueId:queueId,url:opts.url,eventThreshold:opts.eventThreshold,sizeThreshold:opts.sizeThreshold||0,size:-1,serializer:opts.serializer,encoder:opts.encoder,
crossDomainEnabled:!!opts.crossDomainEnabled,crossDomainIFrame:opts.crossDomainIFrame};return queues[queueId]}function removeQueue(queueId){if(queueExists(queueId))delete queues[queueId]}function getQueue(queueId){if(queueExists(queueId))return queues[queueId];return null}function clearQueue(queueId){var queue=getQueue(queueId);if(queue!==null)queue.data=[]}function flushQueue(queueId){var data=null;if(queueExists(queueId)){data=getQueue(queueId).data;clearQueue(queueId)}return data}function pushToQueue(queueId,
data){var queue=null,dataStr=null,bridgeAndroid=window.tlBridge,bridgeiOS=window.iOSJSONShuttle;try{dataStr=sS.serialize(data)}catch(e){dataStr="Serialization failed: "+(e.name?e.name+" - ":"")+e.message;data={error:dataStr}}if(typeof bridgeAndroid!=="undefined"&&typeof bridgeAndroid.addMessage==="function")bridgeAndroid.addMessage(dataStr);else if(typeof bridgeiOS!=="undefined"&&typeof bridgeiOS==="function")bridgeiOS(dataStr);else if(queueExists(queueId)){queue=getQueue(queueId);queue.data.push(data);
queue.data=core.redirectQueue(queue.data);if(queue.sizeThreshold){dataStr=sS.serialize(queue.data);queue.size=dataStr.length}return queue.data.length}return 0}return{exists:queueExists,add:addQueue,remove:removeQueue,reset:function(){queues={}},get:getQueue,clear:clearQueue,flush:flushQueue,push:pushToQueue}}();function handleXhrCallback(result){if(result&&result.id)utils.extend(true,xhrLog[result.id-1],{xhrRspEnd:mS.createMessage({type:0}).offset,success:result.success,statusCode:result.statusCode,
statusText:result.statusText})}function getUrlPath(){return window.location.pathname}function addHeaderToQueue(queueId,headerName,headerValue,recurring){var queue=queueManager.get(queueId),header={name:headerName,value:headerValue},qHeadersList=null;if(typeof headerName!=="string"||typeof headerValue!=="string")return;if(!queue.headers)queue.headers={once:[],always:[]};qHeadersList=!!recurring?queue.headers.always:queue.headers.once;qHeadersList.push(header)}function copyHeaders(queueId,headerObj){var i=
0,len=0,queue=queueManager.get(queueId),qHeaders=queue.headers,headersList=null;headerObj=headerObj||{};function copy(l,o){var i=0,len=0,header=null;for(i=0,len=l.length;i<len;i+=1){header=l[i];o[header.name]=header.value}}if(qHeaders){headersList=[qHeaders.always,qHeaders.once];for(i=0,len=headersList.length;i<len;i+=1)copy(headersList[i],headerObj)}return headerObj}function clearHeaders(queueId){var queue=null,qHeaders=null;if(!queueManager.exists(queueId))throw new Error("Queue: "+queueId+" does not exist!");
queue=queueManager.get(queueId);qHeaders=queue?queue.headers:null;if(qHeaders)qHeaders.once=[]}function getExternalRequestHeaders(){var i=0,len,header,headers=core.provideRequestHeaders();if(headers&&headers.length)for(i=0,len=headers.length;i<len;i+=1){header=headers[i];addHeaderToQueue("DEFAULT",header.name,header.value,header.recurring)}return i}function getMessageTypes(data){var i,len,types=[],typesString="";if(!data||!data.length)return typesString;for(i=0,len=data.length;i<len;i+=1)types[data[i].type]=
true;for(i=0,len=types.length;i<len;i+=1)if(types[i]){if(typesString)typesString+=",";typesString+=i}return typesString}function flushQueue(queueId,sync){var data=queueManager.flush(queueId),count=data?data.length:0,queue=queueManager.get(queueId),httpHeaders={"Content-Type":"application/json","X-PageId":core.getPageId(),"X-Tealeaf":"device (UIC) Lib/5.4.0.1805","X-TealeafType":"GUI","X-TeaLeaf-Page-Url":getUrlPath(),"X-Tealeaf-SyncXHR":(!!sync).toString()},messageId=null,currOffset=mS.createMessage({type:0}).offset,
serializer=queue.serializer||"json",contentEncoder=queue.encoder,requestData,retObj,timeDiff,xdomainFrameWindow=null;if(!count||!queue)return;timeDiff=currOffset-data[count-1].offset;if(timeDiff>inactivityTimeout+6E4)return;queue.lastOffset=data[count-1].offset;httpHeaders["X-Tealeaf-MessageTypes"]=getMessageTypes(data);data=mS.wrapMessages(data);if(CONFIG.xhrLogging){messageId=data.serialNumber;xhrLog[messageId-1]={serialNumber:messageId,xhrReqStart:currOffset};data.log={xhr:xhrLog}}if(serializer)data=
sS.serialize(data,serializer);if(contentEncoder){retObj=eS.encode(data,contentEncoder);if(retObj)if(retObj.data&&!retObj.error){data=retObj.data;httpHeaders["Content-Encoding"]=retObj.encoding}else data=retObj.error}getExternalRequestHeaders();copyHeaders(queueId,httpHeaders);if(queue.crossDomainEnabled){xdomainFrameWindow=utils.getIFrameWindow(queue.crossDomainIFrame);if(!xdomainFrameWindow)return;requestData={request:{id:messageId,url:queue.url,async:!sync,headers:httpHeaders,data:data}};if(!utils.isIE&&
typeof window.postMessage==="function")xdomainFrameWindow.postMessage(requestData,queue.crossDomainIFrame.src);else try{xdomainFrameWindow.sendMessage(requestData)}catch(e){return}}else aS.sendRequest({id:messageId,oncomplete:handleXhrCallback,url:queue.url,async:!sync,headers:httpHeaders,data:data});clearHeaders(queueId)}function flushAll(sync){var conf=null,queues=CONFIG.queues,i=0;for(i=0;i<queues.length;i+=1){conf=queues[i];flushQueue(conf.qid,sync)}return true}function addToQueue(queueId,data){var len,
msg=mS.createMessage(data),queue=queueManager.get(queueId),size,timeDiff;len=queue.data.length;if(len){timeDiff=msg.offset-queue.data[len-1].offset;if(timeDiff>inactivityTimeout){queueManager.flush(queueId);core.destroy();return}}len=queueManager.push(queueId,msg);size=queue.size;if((len>=queue.eventThreshold||size>=queue.sizeThreshold)&&autoFlushing&&core.getState()!=="unloading")flushQueue(queueId)}function isMsgLimitReached(e){var counter,retVal=false;if(!e||!e.type)return true;counter=msgCounter[e.type];
if(counter){counter.count+=1;if(counter.count>counter.limit){retVal=true;if(counter.count===counter.limit+1)addToQueue("DEFAULT",{type:16,dataLimit:{messageType:e.type,maxCount:counter.limit}})}}return retVal}function getQueueId(moduleName){var conf=null,queues=CONFIG.queues,module="",i=0,j=0;for(i=0;i<queues.length;i+=1){conf=queues[i];if(conf&&conf.modules)for(j=0;j<conf.modules.length;j+=1){module=conf.modules[j];if(module===moduleName)return conf.qid}}return defaultQueue.qid}function setTimer(qid,
interval){queueTimers[qid]=window.setTimeout(function tick(){flushQueue(qid);queueTimers[qid]=window.setTimeout(tick,interval)},interval)}function clearTimers(){var key=0;for(key in queueTimers)if(queueTimers.hasOwnProperty(key)){window.clearTimeout(queueTimers[key]);delete queueTimers[key]}queueTimers={}}function handleConfigUpdated(newConf){}function initQueueService(config){CONFIG=config;coreConfig=core.getCoreConfig();inactivityTimeout=utils.getValue(coreConfig,"inactivityTimeout",6E5);utils.forEach(CONFIG.queues,
function(conf,i){var crossDomainIFrame=null;if(conf.qid==="DEFAULT")defaultQueue=conf;if(conf.crossDomainEnabled){crossDomainIFrame=bS.query(conf.crossDomainFrameSelector);if(!crossDomainIFrame)core.fail("Cross domain iframe not found")}queueManager.add(conf.qid,{url:conf.endpoint,eventThreshold:conf.maxEvents,sizeThreshold:conf.maxSize||0,serializer:conf.serializer,encoder:conf.encoder,timerInterval:conf.timerInterval||0,crossDomainEnabled:conf.crossDomainEnabled||false,crossDomainIFrame:crossDomainIFrame});
if(typeof conf.timerInterval!=="undefined"&&conf.timerInterval>0)setTimer(conf.qid,conf.timerInterval)});cS.subscribe("configupdated",handleConfigUpdated);isInitialized=true}function destroy(){if(autoFlushing)flushAll(!CONFIG.asyncReqOnUnload);cS.unsubscribe("configupdated",handleConfigUpdated);clearTimers();queueManager.reset();CONFIG=null;defaultQueue=null;isInitialized=false}return{init:function(){if(!isInitialized)initQueueService(cS.getServiceConfig("queue")||{});else;},destroy:function(){destroy()},
_getQueue:function(qid){return queueManager.get(qid).data},setAutoFlush:function(flag){if(flag===true)autoFlushing=true;else autoFlushing=false},flush:function(queueId){queueId=queueId||defaultQueue.qid;if(!queueManager.exists(queueId))throw new Error("Queue: "+queueId+" does not exist!");flushQueue(queueId)},flushAll:function(sync){return flushAll(!!sync)},post:function(moduleName,queueEvent,queueId){if(!core.isInitialized())return;queueId=queueId||getQueueId(moduleName);if(!queueManager.exists(queueId))return;
if(!isMsgLimitReached(queueEvent))addToQueue(queueId,queueEvent)}}});TLT.addService("browserBase",function(core){var customEventList,utils=core.utils,nonClickableTags={optgroup:true,option:true,nobr:true},queryDom={},configService,serializerService=null,config,blacklist,customid,getXPathFromNode,isInitialized=false;function updateConfig(){configService=core.getService("config");serializerService=core.getService("serializer");config=configService?configService.getServiceConfig("browser"):{};blacklist=
config.hasOwnProperty("blacklist")?config.blacklist:[];customid=config.hasOwnProperty("customid")?config.customid:[]}function initBrowserBase(){updateConfig();if(configService)configService.subscribe("configupdated",updateConfig);isInitialized=true}function destroy(){if(configService)configService.unsubscribe("configupdated",updateConfig);isInitialized=false}function checkId(node){var i,len,re;if(!node||!node.id||typeof node.id!=="string")return false;for(i=0,len=blacklist.length;i<len;i+=1)if(typeof blacklist[i]===
"string"){if(node.id===blacklist[i])return false}else if(typeof blacklist[i]==="object"){if(!blacklist[i].cRegex)blacklist[i].cRegex=new RegExp(blacklist[i].regex,blacklist[i].flags);blacklist[i].cRegex.lastIndex=0;if(blacklist[i].cRegex.test(node.id))return false}return true}function getEventType(event,target){var returnObj={type:null,subType:null},type;if(!event)return returnObj;type=event.type;switch(type){case "focusin":type="focus";break;case "focusout":type="blur";break;default:break}returnObj.type=
type;return returnObj}function getElementType(element){var returnObj={type:null,subType:null};if(!element)return returnObj;returnObj.type=utils.getTagName(element);returnObj.subType=element.type||null;return returnObj}function getNodeFromID(selector,type,scope){var idTypes={HTML_ID:"-1",XPATH_ID:"-2",ATTRIBUTE_ID:"-3"},doc,node=null,parts;if(!selector||!type)return node;doc=scope||window.document;type=type.toString();if(type===idTypes.HTML_ID)if(doc.getElementById)node=doc.getElementById(selector);
else{if(doc.querySelector)node=doc.querySelector("#"+selector)}else if(type===idTypes.ATTRIBUTE_ID){parts=selector.split("\x3d");if(doc.querySelector)node=doc.querySelector("["+parts[0]+'\x3d"'+parts[1]+'"]')}else if(type===idTypes.XPATH_ID)node=queryDom.xpath(selector,doc);return node}getXPathFromNode=function(){var specialChildNodes={"nobr":true,"p":true};function getXPathArrayFromNode(node,wantFullPath){var i,j,idValid=false,tmp_child=null,parent_window=null,parent_node=null,xpath=[],loop=true,
localTop=core._getLocalTop(),tagName="";while(loop){loop=false;if(!utils.isUndefOrNull(node)){tagName=utils.getTagName(node);if(!utils.isUndefOrNull(tagName))if(specialChildNodes.hasOwnProperty(tagName)){node=node.parentNode;tagName=utils.getTagName(node)}for(idValid=checkId(node);node!==document&&(!idValid||wantFullPath);idValid=checkId(node)){parent_node=node.parentNode;if(!parent_node){parent_window=core.utils.getWindow(node);if(!parent_window)return xpath;parent_node=parent_window!==localTop?
parent_window.frameElement:document}tmp_child=parent_node.firstChild;if(typeof tmp_child==="undefined")return xpath;for(j=0;tmp_child;tmp_child=tmp_child.nextSibling)if(tmp_child.nodeType===1&&utils.getTagName(tmp_child)===tagName){if(tmp_child===node){xpath[xpath.length]=[tagName,j];break}j+=1}node=parent_node;tagName=utils.getTagName(node)}if(idValid&&!wantFullPath){xpath[xpath.length]=[node.id];if(core.utils.isIFrameDescendant(node)){loop=true;node=core.utils.getWindow(node).frameElement}}}}return xpath}
return function(node,wantFullPath){var xpath=getXPathArrayFromNode(node,!!wantFullPath),parts=[],i=xpath.length;if(i<1)return"null";while(i){i-=1;if(xpath[i].length>1)parts[parts.length]='["'+xpath[i][0]+'",'+xpath[i][1]+"]";else parts[parts.length]="["+serializerService.serialize(xpath[i][0],"json")+"]"}return"["+parts.join(",")+"]"}}();function getDocScrollPosition(doc){var scrollPos={left:-1,top:-1},docElement;doc=doc||document;docElement=doc.documentElement||doc.body.parentNode||doc.body;scrollPos.left=
Math.round(typeof window.pageXOffset==="number"?window.pageXOffset:docElement.scrollLeft);scrollPos.top=Math.round(typeof window.pageYOffset==="number"?window.pageYOffset:docElement.scrollTop);return scrollPos}function isJQueryEvent(event){return event&&typeof event.originalEvent!=="undefined"&&typeof event.isDefaultPrevented!=="undefined"&&!event.isSimulated}function getEventDetails(event){if(!event)return null;if(event.type&&event.type.indexOf("touch")===0){if(isJQueryEvent(event))event=event.originalEvent;
if(event.type==="touchstart")event=event.touches[event.touches.length-1];else if(event.type==="touchend")event=event.changedTouches[0]}return event}function normalizeEvent(event){var e=event||window.event,doc=document.documentElement,body=document.body,found=false,foundElement=null,i=0;if(isJQueryEvent(e))e=e.originalEvent;if(typeof event==="undefined"||typeof e.target==="undefined"){e.target=e.srcElement||window.window;e.timeStamp=Number(new Date);if(e.pageX===null||typeof e.pageX==="undefined"){e.pageX=
e.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);e.pageY=e.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}e.preventDefault=function(){this.returnValue=false};e.stopPropagation=function(){this.cancelBubble=true}}if(window.chrome&&e.path!==undefined&&e.type==="click"){if(e.path.length===undefined)return e;for(i=0;i<e.path.length;i++)if(utils.getTagName(e.path[i])==="button"){found=true;foundElement=
e.path[i];i=e.path.length}if(found)return{originalEvent:e,target:foundElement,srcElement:foundElement,type:e.type,pageX:document.body.scrollLeft+foundElement.getBoundingClientRect().left,pageY:document.body.scrollTop+foundElement.getBoundingClientRect().top}}return e}function normalizeTarget(event){var itemSource=null;if(!event)return null;if(event.srcElement)itemSource=event.srcElement;else{itemSource=event.target;if(!itemSource)itemSource=event.explicitOriginalTarget;if(!itemSource)itemSource=event.originalTarget}if(!itemSource&&
event.type.indexOf("touch")===0)itemSource=getEventDetails(event).target;while(itemSource&&nonClickableTags[utils.getTagName(itemSource)])itemSource=itemSource.parentNode;if(!itemSource&&event.srcElement===null)itemSource=window.window;return itemSource}function getEventPosition(event){var posX=0,posY=0,doc=document.documentElement,body=document.body;event=getEventDetails(event);if(event)if(event.pageX||event.pageY){posX=event.pageX;posY=event.pageY}else if(event.clientX||event.clientY){posX=event.clientX+
(doc?doc.scrollLeft:body?body.scrollLeft:0)-(doc?doc.clientLeft:body?body.clientLeft:0);posY=event.clientY+(doc?doc.scrollTop:body?body.scrollTop:0)-(doc?doc.clientTop:body?body.clientTop:0)}return{x:posX,y:posY}}queryDom.xpath=function(query,scope){var xpath=null,elem,pathElem=null,tagName,i,j,k,len,jlen;if(!query)return null;xpath=serializerService.parse(query);scope=scope||document;elem=scope;if(!xpath)return null;for(i=0,len=xpath.length;i<len&&elem;i+=1){pathElem=xpath[i];if(pathElem.length===
1)if(scope.getElementById)elem=scope.getElementById(pathElem[0]);else if(scope.querySelector)elem=scope.querySelector("#"+pathElem[0]);else elem=null;else{for(j=0,k=-1,jlen=elem.childNodes.length;j<jlen;j+=1)if(elem.childNodes[j].nodeType===1&&utils.getTagName(elem.childNodes[j])===pathElem[0].toLowerCase()){k+=1;if(k===pathElem[1]){elem=elem.childNodes[j];break}}if(k===-1)return null}tagName=utils.getTagName(elem);if(tagName==="frame"||tagName==="iframe"){elem=utils.getIFrameWindow(elem).document;
scope=elem}}return elem===scope||!elem?null:elem};function Point(x,y){this.x=x||0;this.y=y||0}function Size(width,height){this.width=Math.round(width||0);this.height=Math.round(height||0)}function ElementData(event,target){var id,elementType,pos;target=normalizeTarget(event);id=this.examineID(target);elementType=getElementType(target);pos=this.examinePosition(event,target);this.element=target;this.id=id.id;this.idType=id.idType;this.type=elementType.type;this.subType=elementType.subType;this.state=
this.examineState(target);this.position=new Point(pos.x,pos.y);this.size=new Size(pos.width,pos.height);this.xPath=id.xPath;this.name=id.name}ElementData.HTML_ID=-1;ElementData.XPATH_ID=-2;ElementData.ATTRIBUTE_ID=-3;ElementData.prototype.examineID=function(target){var id,type,xPath,attribute_id,name,i=customid.length,attrib;try{xPath=getXPathFromNode(target)}catch(e){}name=target.name;try{if(!core.utils.getWindow(target)||!core.utils.isIFrameDescendant(target))if(checkId(target)){id=target.id;type=
ElementData.HTML_ID}else if(customid.length&&target.attributes)while(i){i-=1;attrib=target.attributes[customid[i]];if(typeof attrib!=="undefined"){id=customid[i]+"\x3d"+(attrib.value||attrib);type=ElementData.ATTRIBUTE_ID}}}catch(e2){}if(!id){id=xPath;type=ElementData.XPATH_ID}return{id:id,idType:type,xPath:xPath,name:name}};ElementData.prototype.examineState=function(target){var tagnames={"a":["innerText","href"],"input":{"range":["maxValue:max","value"],"checkbox":["value","checked"],"radio":["value",
"checked"],"image":["src"]},"select":["value"],"button":["value","innerText"],"textarea":["value"]},tagName=utils.getTagName(target),properties=tagnames[tagName]||null,selectedOption=null,values=null,i=0,len=0,alias=null,key="";if(properties!==null){if(Object.prototype.toString.call(properties)==="[object Object]")properties=properties[target.type]||["value"];values={};for(key in properties)if(properties.hasOwnProperty(key))if(properties[key].indexOf(":")!==-1){alias=properties[key].split(":");values[alias[0]]=
target[alias[1]]}else if(properties[key]==="innerText")values[properties[key]]=core.utils.trim(target.innerText||target.textContent);else values[properties[key]]=target[properties[key]]}if(tagName==="select"&&target.options&&!isNaN(target.selectedIndex)){values.index=target.selectedIndex;if(values.index>=0&&values.index<target.options.length){selectedOption=target.options[target.selectedIndex];values.value=selectedOption.getAttribute("value")||selectedOption.getAttribute("label")||selectedOption.text||
selectedOption.innerText;values.text=selectedOption.text||selectedOption.innerText}}return values};function getZoomValue(){var factor=1,rect,physicalW,logicalW;if(document.body.getBoundingClientRect){try{rect=document.body.getBoundingClientRect()}catch(e){core.utils.clog("getBoundingClientRect failed.",e);return factor}physicalW=rect.right-rect.left;logicalW=document.body.offsetWidth;factor=Math.round(physicalW/logicalW*100)/100}return factor}function getBoundingClientRectNormalized(element){var rect,
rectangle,zoom,scrollPos;if(!element||!element.getBoundingClientRect)return{x:0,y:0,width:0,height:0};try{rect=element.getBoundingClientRect();scrollPos=getDocScrollPosition(document)}catch(e){core.utils.clog("getBoundingClientRect failed.",e);return{x:0,y:0,width:0,height:0}}rectangle={x:rect.left+scrollPos.left,y:rect.top+scrollPos.top,width:rect.right-rect.left,height:rect.bottom-rect.top};if(core.utils.isIE){rectangle.x-=document.documentElement.clientLeft;rectangle.y-=document.documentElement.clientTop;
zoom=getZoomValue();if(zoom!==1){rectangle.x=Math.round(rectangle.x/zoom);rectangle.y=Math.round(rectangle.y/zoom);rectangle.width=Math.round(rectangle.width/zoom);rectangle.height=Math.round(rectangle.height/zoom)}}return rectangle}ElementData.prototype.examinePosition=function(event,target){var posOnDoc=getEventPosition(event),elPos=getBoundingClientRectNormalized(target);elPos.x=posOnDoc.x||posOnDoc.y?Math.round(Math.abs(posOnDoc.x-elPos.x)):elPos.width/2;elPos.y=posOnDoc.x||posOnDoc.y?Math.round(Math.abs(posOnDoc.y-
elPos.y)):elPos.height/2;return elPos};function getNormalizedOrientation(){var orientation=typeof window.orientation==="number"?window.orientation:0;if(core.utils.isLandscapeZeroDegrees)if(Math.abs(orientation)===180||Math.abs(orientation)===0)orientation=90;else if(Math.abs(orientation)===90)orientation=0;return orientation}function initCustomEventList(list){var i,len,coreConfig,event,modules,moduleName;if(list)return list;coreConfig=core.getCoreConfig()||{};modules=coreConfig.modules;list={};for(moduleName in modules)if(modules.hasOwnProperty(moduleName)&&
modules[moduleName].events)for(i=0,len=modules[moduleName].events.length;i<len;i+=1){event=modules[moduleName].events[i];if(event.state)list[event.name]=event.state}return list}function getCustomState(event){var state;customEventList=initCustomEventList(customEventList);if(customEventList[event.type])state=utils.getValue(event,customEventList[event.type],null);return state}function WebEvent(event){var pos,eventType,state;this.data=event.data||null;this.delegateTarget=event.delegateTarget||null;if(event.gesture||
event.originalEvent&&event.originalEvent.gesture){this.gesture=event.gesture||event.originalEvent.gesture;this.gesture.idType=(new ElementData(this.gesture,this.gesture.target)).idType}event=normalizeEvent(event);pos=getEventPosition(event);this.custom=false;this.nativeEvent=this.custom===true?null:event;this.position=new Point(pos.x,pos.y);this.target=new ElementData(event,event.target);this.orientation=getNormalizedOrientation();state=getCustomState(event);if(state)this.target.state=state;this.timestamp=
(new Date).getTime();eventType=getEventType(event,this.target);this.type=eventType.type;this.subType=eventType.subType}function processDOMEvent(event){if(core.isInitialized())core._publishEvent(new WebEvent(event));else;}function getXpathListFromNode(node,wantFullPath){var i,j,idValid=false,tmp_child=null,parent_window=null,parent_node=null,xpath=[],loop=true,localTop=core._getLocalTop(),tagName="";while(loop){loop=false;if(utils.isUndefOrNull(node))break;tagName=utils.getTagName(node);if(!utils.isUndefOrNull(tagName))if(getXpathListFromNode.specialChildNodes.hasOwnProperty(tagName)){node=
node.parentNode;loop=true;continue}for(idValid=checkId(node);node!==document&&(!idValid||wantFullPath);idValid=checkId(node)){parent_node=node.parentNode;if(!parent_node){parent_window=core.utils.getWindow(node);if(!parent_window||node.nodeType!==9){xpath.push([tagName,0]);break}parent_node=parent_window!==localTop?parent_window.frameElement:document}tmp_child=parent_node.firstChild;if(typeof tmp_child==="undefined")break;for(j=0;tmp_child;tmp_child=tmp_child.nextSibling)if(tmp_child.nodeType===1&&
utils.getTagName(tmp_child)===tagName){if(tmp_child===node){xpath[xpath.length]=[tagName,j];break}j+=1}node=parent_node;tagName=utils.getTagName(node)}if(idValid&&!wantFullPath){xpath[xpath.length]=[node.id];if(core.utils.isIFrameDescendant(node)){loop=true;node=core.utils.getWindow(node).frameElement}}}xpath.reverse();return xpath}getXpathListFromNode.specialChildNodes={"nobr":true,"p":true};function xpathListToString(list){var str;if(!list||!list.length)return null;str=serializerService.serialize(list,
"json");return str}function Xpath(node){var fullXpath="",fullXpathList=[],xpath="",xpathList=[];if(!(this instanceof Xpath))return null;if(typeof node!=="object"){this.fullXpath="";this.xpath="";this.fullXpathList=[];this.xpathList=[];return}xpathList=getXpathListFromNode(node,false);if(xpathList.length&&xpathList[0].length===1)fullXpathList=getXpathListFromNode(node,true);else fullXpathList=utils.clone(xpathList);this.xpath=xpathListToString(xpathList);this.xpathList=xpathList;this.fullXpath=xpathListToString(fullXpathList);
this.fullXpathList=fullXpathList;this.applyPrefix=function(prefix){var part,lastPrefixPart;if(!(prefix instanceof Xpath)||!prefix.fullXpathList.length)return;lastPrefixPart=prefix.fullXpathList[prefix.fullXpathList.length-1];part=this.fullXpathList.shift();if(utils.isEqual(part[0],lastPrefixPart[0]))this.fullXpathList=prefix.fullXpathList.concat(this.fullXpathList);else{this.fullXpathList.unshift(part);return}this.fullXpath=xpathListToString(this.fullXpathList);part=this.xpathList.shift();if(part.length===
1){this.xpathList.unshift(part);return}this.xpathList=prefix.xpathList.concat(this.xpathList);this.xpath=xpathListToString(this.xpathList)};this.compare=function(xpathB){if(!(xpathB instanceof Xpath))return 0;return this.fullXpathList.length-xpathB.fullXpathList.length};this.isSame=function(xpathB){var isEqual=false;if(!(xpathB instanceof Xpath))return isEqual;if(this.compare(xpathB)===0)isEqual=this.fullXpath===xpathB.fullXpath;return isEqual};this.containedIn=function(parentXpath){var i,len;if(!(parentXpath instanceof
Xpath))return false;if(parentXpath.fullXpathList.length>this.fullXpathList.length)return false;for(i=0,len=parentXpath.fullXpathList.length;i<len;i+=1)if(!utils.isEqual(parentXpath.fullXpathList[i],this.fullXpathList[i]))return false;return true}}Xpath.prototype=function(){return{}}();return{init:function(){if(!isInitialized)initBrowserBase();else;},destroy:function(){destroy()},WebEvent:WebEvent,ElementData:ElementData,Xpath:Xpath,processDOMEvent:processDOMEvent,getNormalizedOrientation:getNormalizedOrientation,
getXPathFromNode:function(moduleName,node,wantFullPath,wantObject){return getXPathFromNode(node,wantFullPath,wantObject)},getNodeFromID:getNodeFromID,queryDom:queryDom}});TLT.addService("browser",function(core){var utils=core.utils,configService=core.getService("config"),browserBaseService=core.getService("browserBase"),ajaxService=core.getService("ajax"),addEventListener=null,removeEventListener=null,serviceConfig=configService?configService.getServiceConfig("browser"):{},useCapture=utils.getValue(serviceConfig,
"useCapture",true),isInitialized=false,errorCodes={NO_QUERY_SELECTOR:"NOQUERYSELECTOR"},wrapWebEvent=function(handler){return function(event){var webEvent=new browserBaseService.WebEvent(event);if(event.type==="resize"||event.type==="hashchange")setTimeout(function(){handler(webEvent)},5);else handler(webEvent)}},queryDom={list2Array:function(nodeList){var len=nodeList.length,result=[],i;if(typeof nodeList.length==="undefined")return[nodeList];for(i=0;i<len;i+=1)result[i]=nodeList[i];return result},
find:function(query,scope,type){type=type||"css";return this.list2Array(this[type](query,scope))},css:function(query,scope){var self=this,message=null,bodyEl=document.getElementsByTagName("body")[0],jQuery=serviceConfig.jQueryObject?utils.access(serviceConfig.jQueryObject):window.jQuery,sizzle=serviceConfig.sizzleObject?utils.access(serviceConfig.sizzleObject):window.Sizzle;if(typeof document.querySelectorAll==="undefined"){self.css=function(query,scope){scope=scope||document;return self.Sizzle(query,
scope)};if(typeof self.Sizzle==="undefined")try{if(bodyEl===sizzle("html \x3e body",document)[0])self.Sizzle=sizzle}catch(e1){try{if(bodyEl===jQuery(document).find("html \x3e body").get()[0])self.Sizzle=function(query,scope){return jQuery(scope).find(query).get()}}catch(e2){core.fail("Sizzle was not found",errorCodes.NO_QUERY_SELECTOR)}}}else self.css=function(query,scope){scope=scope||document;return scope.querySelectorAll(query)};return self.css(query,scope)}},handlerMappings=function(){var data=
new utils.WeakMap;return{add:function(originalHandler){var handlers=data.get(originalHandler)||[wrapWebEvent(originalHandler),0];handlers[1]+=1;data.set(originalHandler,handlers);return handlers[0]},find:function(originalHandler){var handlers=data.get(originalHandler);return handlers?handlers[0]:null},remove:function(originalHandler){var handlers=data.get(originalHandler);if(handlers){handlers[1]-=1;if(handlers[1]<=0)data.remove(originalHandler)}}}}();function initBrowserServiceW3C(){queryDom.xpath=
browserBaseService.queryDom.xpath;if(typeof document.addEventListener==="function"){addEventListener=function(target,eventName,handler){target.addEventListener(eventName,handler,useCapture)};removeEventListener=function(target,eventName,handler){target.removeEventListener(eventName,handler,useCapture)}}else if(typeof document.attachEvent!=="undefined"){addEventListener=function(target,eventName,handler){target.attachEvent("on"+eventName,handler)};removeEventListener=function(target,eventName,handler){target.detachEvent("on"+
eventName,handler)}}else throw new Error("Unsupported browser");isInitialized=true}return{init:function(){if(!isInitialized)initBrowserServiceW3C();else;},destroy:function(){isInitialized=false},getServiceName:function(){return"W3C"},query:function(query,scope,type){try{return queryDom.find(query,scope,type)[0]||null}catch(err){return[]}},queryAll:function(query,scope,type){try{return queryDom.find(query,scope,type)}catch(err){return[]}},subscribe:function(eventName,target,handler){var wrappedHandler=
handlerMappings.add(handler);addEventListener(target,eventName,wrappedHandler)},unsubscribe:function(eventName,target,handler){var wrappedHandler=handlerMappings.find(handler);if(wrappedHandler){try{removeEventListener(target,eventName,wrappedHandler)}catch(e){}handlerMappings.remove(handler)}}}});TLT.addService("ajax",function(core){var getXHRObject,useBeacon=false,isInitialized=false;function convertHeadersToArray(headersObj){var header="",headers=[];for(header in headersObj)if(headersObj.hasOwnProperty(header))headers.push([header,
headersObj[header]]);return headers}function convertHeadersToQuery(headersObj){var header="",headers="?";for(header in headersObj)if(headersObj.hasOwnProperty(header))headers+=encodeURIComponent(header)+"\x3d"+encodeURIComponent(headersObj[header])+"\x26";return headers.slice(0,-1)}function extractResponseHeaders(headers){headers=headers.split("\n");var headersObj={},i=0,len=headers.length,header=null;for(i=0;i<len;i+=1){header=headers[i].split(": ");headersObj[header[0]]=header[1]}return headersObj}
function makeBeaconCall(message){var data,retVal=false,query=convertHeadersToQuery(message.headers);if(typeof message.data==="string")data=message.data;else data=message.data?new Uint8Array(message.data):"";retVal=navigator.sendBeacon(message.url+query,data);return retVal}function makeAjaxCall(message){var xhr=getXHRObject(),headers=[["X-Requested-With","XMLHttpRequest"]],timeout=0,async=typeof message.async!=="boolean"?true:message.async,header="",callbackFn=null,i,length;if(message.headers)headers=
headers.concat(convertHeadersToArray(message.headers));if(message.contentType)headers.push(["Content-Type",message.contentType]);xhr.open(message.type.toUpperCase(),message.url,async);for(i=0,length=headers.length;i<length;i+=1){header=headers[i];if(header[0]&&header[1])xhr.setRequestHeader(header[0],header[1])}xhr.onreadystatechange=callbackFn=function(){if(xhr.readyState===4){xhr.onreadystatechange=callbackFn=function(){};if(message.timeout)window.clearTimeout(timeout);message.oncomplete({id:message.id,
headers:extractResponseHeaders(xhr.getAllResponseHeaders()),responseText:xhr.responseText||null,statusCode:xhr.status,statusText:xhr.statusText,success:xhr.status>=200&&xhr.status<300});xhr=null}};xhr.send(message.data||null);callbackFn();if(message.timeout)timeout=window.setTimeout(function(){if(!xhr)return;xhr.onreadystatechange=function(){};if(xhr.readyState!==4){xhr.abort();if(typeof message.error==="function")message.error({id:message.id,statusCode:xhr.status,statusText:"timeout",success:false})}message.oncomplete({id:message.id,
headers:extractResponseHeaders(xhr.getAllResponseHeaders()),responseText:xhr.responseText||null,statusCode:xhr.status,statusText:"timeout",success:false});xhr=null},message.timeout)}function initAjaxService(){var queueServiceConfig=core.getServiceConfig("queue");if(typeof window.XMLHttpRequest!=="undefined")getXHRObject=function(){return new XMLHttpRequest};else getXHRObject=function(){return new ActiveXObject("Microsoft.XMLHTTP")};useBeacon=!!queueServiceConfig.useBeacon&&typeof navigator.sendBeacon===
"function";isInitialized=true}return{init:function(){if(!isInitialized)initAjaxService()},destroy:function(){isInitialized=false},sendRequest:function(message){var unloading=core.getState()==="unloading",retVal;message.type=message.type||"POST";if((unloading||!message.async)&&useBeacon){retVal=makeBeaconCall(message);if(!retVal)makeAjaxCall(message)}else makeAjaxCall(message)}}});TLT.addService("domCapture",function(core){var configService=core.getService("config"),browserBaseService=core.getService("browserBase"),
messageService,dcServiceConfig,dcDefaultOptions={captureFrames:false,removeScripts:true,removeComments:true},defaultDiffObserverConfig={childList:true,attributes:true,attributeOldValue:true,characterData:true,subtree:true},diffEnabled=typeof window.MutationObserver!=="undefined",diffObserver,diffObserverConfig=defaultDiffObserverConfig,observedWindowList=[],mutatedTargets=[],mutatedAttrTargets=[],mutationCount=0,mutationThreshold=100,forceFullDOM=false,fullDOMSent=false,isInitialized=false,tltUniqueIDIndex=
1,dupNode=function(){},getDOMCapture=function(){},updateConfig=function(){},utils=core.utils;function clearMutationRecords(){mutatedTargets=[];mutatedAttrTargets=[];mutationCount=0;forceFullDOM=false}function consolidateTargets(mutatedTargets){var i,j,parentTarget;if(!mutatedTargets||!mutatedTargets.length)return;mutatedTargets=mutatedTargets.sort(function(xpathA,xpathB){return xpathA.compare(xpathB)});for(i=0;i<mutatedTargets.length;i+=1){parentTarget=mutatedTargets[i];for(j=i+1;j<mutatedTargets.length;j+=
0)if(mutatedTargets[j].containedIn(parentTarget))mutatedTargets.splice(j,1);else j+=1}}function removeOldAttrValues(attrList){var i,len;if(!attrList)return attrList;for(i=0,len=attrList.length;i<len;i+=1)delete attrList[i].oldValue;return attrList}function hasAttr(attrList,attrName){var i,len,found=false;if(!attrList||!attrName)return found;for(i=0,len=attrList.length;i<len;i+=1)if(attrList[i].name===attrName){found=true;break}return found}function mergeAttributeChanges(currAttrList,newAttr){var i,
len,attr,found;for(i=0,len=currAttrList.length,found=false;i<len;i+=1){attr=currAttrList[i];if(attr.name===newAttr.name){if(attr.oldValue===newAttr.value)currAttrList.splice(i,1);else attr.value=newAttr.value;found=true;break}}if(!found)currAttrList.push(newAttr);return currAttrList}function addToMutatedTargets(xpath,mutationRecord){var i,j,k,len,found,target;xpath.removedNodes=mutationRecord.removedNodes.length;xpath.addedNodes=utils.convertToArray(mutationRecord.addedNodes);for(i=0,len=mutatedTargets.length;i<
len;i+=1){target=mutatedTargets[i];if(xpath.isSame(target)){if(xpath.removedNodes)for(j=0;j<mutationRecord.removedNodes.length;j+=1){k=target.addedNodes.indexOf(mutationRecord.removedNodes[j]);if(k!==-1){target.addedNodes.splice(k,1);xpath.removedNodes-=1}}target.removedNodes+=xpath.removedNodes;target.addedNodes.concat(xpath.addedNodes);if(!target.removedNodes&&!target.addedNodes.length)mutatedTargets.splice(i,1);found=true;break}}if(!found)mutatedTargets.push(xpath)}function isNodePartOfMutatedTargets(xpath,
node){var i,j,len,found=false,mutatedNodes,target;for(i=0,len=mutatedTargets.length;!found&&i<len;i+=1){target=mutatedTargets[i];if(xpath.containedIn(target)){mutatedNodes=target.addedNodes;for(j=0;j<mutatedNodes.length;j+=1)if(mutatedNodes[j].contains&&mutatedNodes[j].contains(node)){found=true;break}}}return found}function addToMutatedAttributeTargets(xpath,mutationRecord){var i,len,attributeName,currAttributes,found,target=null;attributeName=mutationRecord.attributeName;if(attributeName==="checked"||
attributeName==="selected"){target=browserBaseService.ElementData.prototype.examineID(mutationRecord.target);if(messageService.isPrivacyMatched(target))return;target=null}if(attributeName==="value"){target=browserBaseService.ElementData.prototype.examineID(mutationRecord.target);target.currState=browserBaseService.ElementData.prototype.examineState(mutationRecord.target)||{};if(target.currState.value)messageService.applyPrivacyToTarget(target);else target=null}xpath.attributes=[{name:attributeName,
oldValue:mutationRecord.oldValue,value:target?target.currState.value:mutationRecord.target.getAttribute(attributeName)}];currAttributes=xpath.attributes[0];if(currAttributes.oldValue===currAttributes.value)return;for(i=0,len=mutatedAttrTargets.length,found=false;i<len;i+=1){target=mutatedAttrTargets[i];if(xpath.isSame(target)){target.attributes=mergeAttributeChanges(target.attributes,currAttributes);if(!target.attributes.length)mutatedAttrTargets.splice(i,1);else if(isNodePartOfMutatedTargets(xpath,
mutationRecord.target))mutatedAttrTargets.splice(i,1);found=true;break}}if(!found&&!isNodePartOfMutatedTargets(xpath,mutationRecord.target))mutatedAttrTargets.push(xpath)}function processMutationRecords(records){var i,len,fullXpathList,record,xpath;if(!records||!records.length)return;mutationCount+=records.length;if(mutationCount>=mutationThreshold){if(!forceFullDOM)forceFullDOM=true;return}for(i=0,len=records.length;i<len;i+=1){record=records[i];xpath=new browserBaseService.Xpath(record.target);
if(xpath){fullXpathList=xpath.fullXpathList;if(fullXpathList.length&&fullXpathList[0][0]==="html")switch(record.type){case "characterData":case "childList":addToMutatedTargets(xpath,record);break;case "attributes":addToMutatedAttributeTargets(xpath,record);break;default:utils.clog("Unknown mutation type: "+record.type);break}}}}function initDOMDiffObserver(){var observer;observer=new window.MutationObserver(function(records){if(records){processMutationRecords(records);utils.clog("Processed ["+records.length+
"] mutation records.")}});return observer}function initDOMCaptureService(config){var i,len;configService.subscribe("configupdated",updateConfig);messageService=core.getService("message");dcServiceConfig=config;dcServiceConfig.options=utils.mixin({},dcDefaultOptions,dcServiceConfig.options);diffEnabled=diffEnabled&&utils.getValue(dcServiceConfig,"diffEnabled",true);mutationThreshold=utils.getValue(dcServiceConfig.options,"maxMutations",100);if(diffEnabled){diffObserverConfig=utils.getValue(dcServiceConfig,
"diffObserverConfig",defaultDiffObserverConfig);diffObserver=initDOMDiffObserver();observedWindowList.push(window)}isInitialized=true}function destroyDOMCaptureService(){configService.unsubscribe("configupdated",updateConfig);if(diffObserver)diffObserver.disconnect();isInitialized=false}function getUniqueID(){var id;id="tlt-"+utils.getSerialNumber();return id}function removeTags(node,tagName){var i,nodeList;if(!node||!node.getElementsByTagName||!tagName)return;nodeList=node.getElementsByTagName(tagName);
if(nodeList&&nodeList.length)for(i=nodeList.length-1;i>=0;i-=1)nodeList[i].parentNode.removeChild(nodeList[i]);return node}function removeNodes(node,nodeType){var i,child;for(i=0;node.hasChildNodes()&&i<node.childNodes.length;i+=1){child=node.childNodes[i];if(child.nodeType===nodeType){node.removeChild(child);i-=1}else if(child.hasChildNodes())removeNodes(child,nodeType)}return node}function getDoctypeAsString(node){var doctype,doctypeStr=null;if(!node||!node.doctype)return null;doctype=node.doctype;
if(doctype)doctypeStr="\x3c!DOCTYPE "+doctype.name+(doctype.publicId?' PUBLIC "'+doctype.publicId+'"':"")+(!doctype.publicId&&doctype.systemId?" SYSTEM":"")+(doctype.systemId?' "'+doctype.systemId+'"':"")+"\x3e";return doctypeStr}function fixInputs(source,target){var i,sourceInputElement,targetInputElement,sourceInputList,targetInputList,len;if(!target)return;sourceInputList=source.getElementsByTagName("input");targetInputList=target.getElementsByTagName("input");if(targetInputList)for(i=0,len=targetInputList.length;i<
len;i+=1){sourceInputElement=sourceInputList[i];targetInputElement=targetInputList[i];switch(targetInputElement.type){case "checkbox":case "radio":if(utils.isIE?sourceInputElement.checked:targetInputElement.checked)targetInputElement.setAttribute("checked","checked");else targetInputElement.removeAttribute("checked");break;default:targetInputElement.setAttribute("value",targetInputElement.value);if(!targetInputElement.getAttribute("type"))targetInputElement.setAttribute("type","text");break}}}function fixTextareas(source,
target){var i,len,sourceTextareaElement,sourceTextareaList,targetTextareaElement,targetTextareaList;if(!source||!source.getElementsByTagName||!target||!target.getElementsByTagName)return;sourceTextareaList=source.getElementsByTagName("textarea");targetTextareaList=target.getElementsByTagName("textarea");if(sourceTextareaList&&targetTextareaList)for(i=0,len=sourceTextareaList.length;i<len;i+=1){sourceTextareaElement=sourceTextareaList[i];targetTextareaElement=targetTextareaList[i];targetTextareaElement.setAttribute("value",
sourceTextareaElement.value);targetTextareaElement.value=targetTextareaElement.textContent=sourceTextareaElement.value}}function fixSelectLists(source,target){var sourceElem,sourceList,targetElem,targetList,i,j,len;if(!source||!source.getElementsByTagName||!target||!target.getElementsByTagName)return;sourceList=source.getElementsByTagName("select");targetList=target.getElementsByTagName("select");if(sourceList)for(i=0,len=sourceList.length;i<len;i+=1){sourceElem=sourceList[i];targetElem=targetList[i];
for(j=0;j<sourceElem.options.length;j+=1)if(j===sourceElem.selectedIndex||sourceElem.options[j].selected)targetElem.options[j].setAttribute("selected","selected");else targetElem.options[j].removeAttribute("selected")}}function getHTMLText(node){var nodeType,htmlText=null;if(node){nodeType=node.nodeType||-1;switch(nodeType){case 9:htmlText=node.documentElement?node.documentElement.outerHTML:"";break;case 1:htmlText=node.outerHTML;break;default:htmlText=null;break}}return htmlText}function isNodeValidForCapture(node){var nodeType,
valid=false;if(node&&typeof node==="object"){nodeType=node.nodeType||-1;switch(nodeType){case 9:case 1:valid=true;break;default:valid=false;break}}return valid}function getFrames(source,target,options){var i,j,len,frameTag,frameTags=["iframe","frame"],sourceIframe,iframeWindow,iframeDoc,iframeCapture,iframeID,iframeSrc,returnObject={frames:[]},sourceIframeList,targetIframeList,urlInfo;for(j=0;j<frameTags.length;j+=1){frameTag=frameTags[j];sourceIframeList=source.getElementsByTagName(frameTag);targetIframeList=
target.getElementsByTagName(frameTag);if(sourceIframeList)for(i=0,len=sourceIframeList.length;i<len;i+=1)try{sourceIframe=sourceIframeList[i];iframeWindow=utils.getIFrameWindow(sourceIframe);if(iframeWindow&&iframeWindow.document&&iframeWindow.location.href!=="about:blank"){iframeDoc=iframeWindow.document;iframeCapture=getDOMCapture(iframeDoc,iframeDoc,"",options);iframeID=getUniqueID();targetIframeList[i].setAttribute("tltid",iframeID);iframeCapture.tltid=iframeID;urlInfo=utils.getOriginAndPath(iframeDoc.location);
iframeCapture.host=urlInfo.origin;iframeCapture.url=urlInfo.path;iframeCapture.charset=iframeDoc.characterSet||iframeDoc.charset;iframeSrc=targetIframeList[i].getAttribute("src");if(!iframeSrc){iframeSrc=iframeWindow.location.href;targetIframeList[i].setAttribute("src",iframeSrc)}returnObject.frames=returnObject.frames.concat(iframeCapture.frames);delete iframeCapture.frames;returnObject.frames.push(iframeCapture)}}catch(e){}}return returnObject}function getCapturedLength(captureObj){var i,j,len,
attrLen,attrRecord,diffRecord,totalLength=0;if(!captureObj)return totalLength;if(captureObj.root){totalLength+=captureObj.root.length;if(captureObj.frames)for(i=0,len=captureObj.frames.length;i<len;i+=1)if(captureObj.frames[i].root)totalLength+=captureObj.frames[i].root.length}else if(captureObj.diffs)for(i=0,len=captureObj.diffs.length;i<len;i+=1){diffRecord=captureObj.diffs[i];totalLength+=diffRecord.xpath.length;if(diffRecord.root)totalLength+=diffRecord.root.length;else if(diffRecord.attributes)for(j=
0,attrLen=diffRecord.attributes.length;j<attrLen;j+=1){attrRecord=diffRecord.attributes[j];totalLength+=attrRecord.name.length;if(attrRecord.value)totalLength+=attrRecord.value.length}}return totalLength}function consolidateMutationsWithAttributeChanges(){var i,j,len,parentTarget;for(i=0,len=mutatedTargets.length;i<len&&mutatedAttrTargets.length;i+=1){parentTarget=mutatedTargets[i];for(j=0;j<mutatedAttrTargets.length;j+=1)if(mutatedAttrTargets[j].containedIn(parentTarget)){mutatedAttrTargets.splice(j,
1);j-=1}}}function getFullDOM(doc,options){var captureObj,urlInfo;captureObj=getDOMCapture(doc,doc,null,options);if(!captureObj)captureObj={};captureObj.charset=doc.characterSet||doc.charset;urlInfo=utils.getOriginAndPath(doc.location);captureObj.host=urlInfo.origin;captureObj.url=urlInfo.path;return captureObj}function getDOMDiff(options){var i,len,returnObj={fullDOM:false,diffs:[],attributeDiffs:{}},diff,target,targetXpath;consolidateTargets(mutatedTargets);consolidateMutationsWithAttributeChanges();
for(i=0,len=mutatedTargets.length;i<len;i+=1){targetXpath=mutatedTargets[i];target=browserBaseService.getNodeFromID(targetXpath.xpath,-2);if(target===window.document.body)return getFullDOM(window.document,options);diff=getDOMCapture(window.document,target,targetXpath,options);diff.xpath=targetXpath.xpath;returnObj.diffs.push(diff)}function addAttributeDiffs(attribute,index){if(!attribute||!attribute.name)return;returnObj.attributeDiffs[diff.xpath][attribute.name]={value:attribute.value}}for(i=0,len=
mutatedAttrTargets.length;i<len;i+=1){targetXpath=mutatedAttrTargets[i];diff={xpath:hasAttr(targetXpath.attributes,"id")?targetXpath.fullXpath:targetXpath.xpath,attributes:removeOldAttrValues(targetXpath.attributes)};returnObj.diffs.push(diff);returnObj.attributeDiffs[diff.xpath]={};utils.forEach(diff.attributes,addAttributeDiffs)}return returnObj}dupNode=function(node){var dup=null;if(isNodeValidForCapture(node)){dup=node.cloneNode(true);if(!dup&&node.documentElement)dup=node.documentElement.cloneNode(true)}return dup};
getDOMCapture=function(doc,root,rootXpath,options){var rootCopy,frameCaptureObj,captureObj={},serializedDOM,urlInfo;if(!doc||!root)return captureObj;rootCopy=dupNode(root,doc);if(!rootCopy)return captureObj;if(!!options.removeScripts){removeTags(rootCopy,"script");removeTags(rootCopy,"noscript")}if(!!options.removeComments)removeNodes(rootCopy,8);fixSelectLists(root,rootCopy);fixInputs(root,rootCopy);fixTextareas(root,rootCopy);rootCopy=messageService.applyPrivacyToNode(rootCopy,rootXpath,doc);if(!!options.captureFrames)frameCaptureObj=
getFrames(root,rootCopy,options);if(frameCaptureObj)captureObj=utils.mixin(captureObj,frameCaptureObj);serializedDOM=(getDoctypeAsString(root)||"")+getHTMLText(rootCopy);captureObj.root=messageService.applyPrivacyPatterns(serializedDOM);return captureObj};updateConfig=function(){configService=core.getService("config");initDOMCaptureService(configService.getServiceConfig("domCapture")||{})};return{init:function(){configService=core.getService("config");if(!isInitialized)initDOMCaptureService(configService.getServiceConfig("domCapture")||
{});else;},destroy:function(){destroyDOMCaptureService()},observeWindow:function(win){var i,len;if(!win)return;if(!utils.getValue(dcServiceConfig,"options.captureFrames",false)&&!(win===window))return;if(utils.indexOf(observedWindowList,win)===-1)observedWindowList.push(win)},captureDOM:function(root,options){var i,len,captureObj=null,observedWindow,totalLength=0;if(!isInitialized||utils.isLegacyIE)return captureObj;options=utils.mixin({},dcServiceConfig.options,options);root=root||window.document;
if(!fullDOMSent||!diffEnabled||forceFullDOM||options.forceFullDOM){if(diffObserver)diffObserver.disconnect();captureObj=getFullDOM(root,options);captureObj.fullDOM=true;captureObj.forced=!!(forceFullDOM||options.forceFullDOM);fullDOMSent=true;if(diffObserver)for(i=0,len=observedWindowList.length;i<len;i+=1){observedWindow=observedWindowList[i];try{diffObserver.observe(observedWindow.document,diffObserverConfig)}catch(e){observedWindowList.splice(i,1);len=observedWindowList.length;i-=1}}}else{captureObj=
getDOMDiff(options);captureObj.fullDOM=captureObj.diffs?false:true}if(diffEnabled)captureObj.mutationCount=mutationCount;clearMutationRecords();if(options.maxLength){totalLength=getCapturedLength(captureObj);if(totalLength>options.maxLength)captureObj={errorCode:101,error:"Captured length ("+totalLength+") exceeded limit ("+options.maxLength+")."}}return captureObj}}});TLT.addService("encoder",function(core){var encoderServiceConfig={},configService=null,handleConfigUpdated=null,isInitialized=false;
function getEncoder(type){var encoder=null;if(!type)return encoder;encoder=encoderServiceConfig[type];if(encoder&&typeof encoder.encode==="string")encoder.encode=core.utils.access(encoder.encode);return encoder}function initEncoderService(config){encoderServiceConfig=config;configService.subscribe("configupdated",handleConfigUpdated);isInitialized=true}function destroy(){configService.unsubscribe("configupdated",handleConfigUpdated);isInitialized=false}handleConfigUpdated=function(){configService=
core.getService("config");initEncoderService(configService.getServiceConfig("encoder")||{})};return{init:function(){configService=core.getService("config");if(!isInitialized)initEncoderService(configService.getServiceConfig("encoder")||{});else;},destroy:function(){destroy()},encode:function(data,type){var encoder,result,returnObj={data:null,encoding:null,error:null};if(typeof data!=="string"&&!data||!type){returnObj.error="Invalid "+(!data?"data":"type")+" parameter.";return returnObj}encoder=getEncoder(type);
if(!encoder){returnObj.error="Specified encoder ("+type+") not found.";return returnObj}if(typeof encoder.encode!=="function"){returnObj.error="Configured encoder ("+type+") encode method is not a function.";return returnObj}try{result=encoder.encode(data)}catch(e){returnObj.error="Encoding failed: "+(e.name?e.name+" - ":"")+e.message;return returnObj}if(!result||core.utils.getValue(result,"buffer",null)===null){returnObj.error="Encoder ("+type+") returned an invalid result.";return returnObj}returnObj.data=
result.buffer;returnObj.encoding=encoder.defaultEncoding;return returnObj}}});TLT.addService("message",function(core){var utils=core.utils,prevScreenviewOffsetTime=0,screenviewOffsetTime=0,count=0,messageCount=0,sessionStart=new Date,browserBaseService=core.getService("browserBase"),browserService=core.getService("browser"),configService=core.getService("config"),config=configService.getServiceConfig("message")||{},windowHref=window.location.href,windowHostname=window.location.hostname,privacy=config.hasOwnProperty("privacy")?
config.privacy:[],privacyPatterns,privacyMasks={},maskingCharacters={lower:"x",upper:"X",numeric:"9",symbol:"@"},isApple=utils.isiOS,isAndroidChrome=navigator.userAgent.indexOf("Chrome")>-1&&utils.isAndroid,devicePixelRatio=window.devicePixelRatio||1,screen=window.screen||{},screenWidth=screen.width||0,screenHeight=screen.height||0,deviceOrientation=browserBaseService.getNormalizedOrientation(),deviceWidth=!isApple?screenWidth:Math.abs(deviceOrientation)===90?screenHeight:screenWidth,deviceHeight=
!isApple?screenHeight:Math.abs(deviceOrientation)===90?screenWidth:screenHeight,deviceToolbarHeight=window.screen?window.screen.height-window.screen.availHeight:0,startWidth=window.innerWidth||document.documentElement.clientWidth,startHeight=window.innerHeight||document.documentElement.clientHeight,isInitialized=false;function Message(event){var key="",timestamp=event.timestamp||(new Date).getTime();delete event.timestamp;this.type=event.type;this.offset=timestamp-sessionStart.getTime();this.screenviewOffset=
0;if(event.type===2){prevScreenviewOffsetTime=screenviewOffsetTime;screenviewOffsetTime=timestamp;if(event.screenview.type==="UNLOAD")this.screenviewOffset=timestamp-(prevScreenviewOffsetTime||sessionStart.getTime())}else if(screenviewOffsetTime)this.screenviewOffset=timestamp-screenviewOffsetTime;if(!this.type)return;this.count=messageCount+=1;this.fromWeb=true;for(key in event)if(event.hasOwnProperty(key))this[key]=event[key]}privacyMasks.PVC_MASK_EMPTY=function(value){return""};privacyMasks.PVC_MASK_BASIC=
function(value){var retMask="XXXXX";if(typeof value!=="string")return"";return value.length?retMask:""};privacyMasks.PVC_MASK_TYPE=function(value){var characters,i=0,len=0,retMask="";if(typeof value!=="string")return retMask;characters=value.split("");for(i=0,len=characters.length;i<len;i+=1)if(utils.isNumeric(characters[i]))retMask+=maskingCharacters.numeric;else if(utils.isUpperCase(characters[i]))retMask+=maskingCharacters.upper;else if(utils.isLowerCase(characters[i]))retMask+=maskingCharacters.lower;
else retMask+=maskingCharacters.symbol;return retMask};privacyMasks.PVC_MASK_EMPTY.maskType=1;privacyMasks.PVC_MASK_BASIC.maskType=2;privacyMasks.PVC_MASK_TYPE.maskType=3;privacyMasks.PVC_MASK_CUSTOM={maskType:4};function maskStr(mask,str){var filter=privacyMasks.PVC_MASK_BASIC;if(typeof str!=="string")return str;if(!mask)filter=privacyMasks.PVC_MASK_BASIC;else if(mask.maskType===privacyMasks.PVC_MASK_EMPTY.maskType)filter=privacyMasks.PVC_MASK_EMPTY;else if(mask.maskType===privacyMasks.PVC_MASK_BASIC.maskType)filter=
privacyMasks.PVC_MASK_BASIC;else if(mask.maskType===privacyMasks.PVC_MASK_TYPE.maskType)filter=privacyMasks.PVC_MASK_TYPE;else if(mask.maskType===privacyMasks.PVC_MASK_CUSTOM.maskType){if(typeof mask.maskFunction==="string")filter=utils.access(mask.maskFunction);else filter=mask.maskFunction;if(typeof filter!=="function")filter=privacyMasks.PVC_MASK_BASIC}return filter(str)}function applyMask(mask,state){var prop;if(!mask||!state)return;for(prop in state)if(state.hasOwnProperty(prop))if(prop==="value")state[prop]=
maskStr(mask,state[prop]);else delete state[prop]}function matchesTarget(targets,target){return utils.matchTarget(targets,target)!==-1}function applyPrivacyPatterns(str){var i,len,begin,duration,rule;if(!str)return"";for(i=0,len=privacyPatterns.length;i<len;i+=1){rule=privacyPatterns[i];rule.cRegex.lastIndex=0;str=str.replace(rule.cRegex,rule.replacement)}return str}function privacyFilter(target){var i,len,exclude,mask,maskApplied=false,prevState,currState;if(!target||!target.currState&&!target.prevState)return target;
prevState=target.prevState;currState=target.currState;for(i=0,len=privacy.length;i<len;i+=1){mask=privacy[i];exclude=utils.getValue(mask,"exclude",false);if(matchesTarget(mask.targets,target)!==exclude){applyMask(mask,prevState);applyMask(mask,currState);maskApplied=true;break}}if(!maskApplied){if(prevState&&prevState.value)prevState.value=applyPrivacyPatterns(prevState.value);if(currState&&currState.value)currState.value=applyPrivacyPatterns(currState.value)}return target}function applyPrivacyToMessage(message){if(!message||
!message.target)return message;privacyFilter(message.target);return message}function maskElement(element,mask){var i,len,maskedValue,option;if(!mask||!element)return;if(element.value){maskedValue=maskStr(mask,element.value);element.setAttribute("value",maskedValue);element.value=maskedValue}if(element.checked)element.removeAttribute("checked");if(utils.getTagName(element)==="select"){element.selectedIndex=-1;for(i=0,len=element.options.length;i<len;i+=1){option=element.options[i];option.removeAttribute("selected");
option.selected=false}}else if(utils.getTagName(element)==="textarea")element.textContent=element.value}function applyRegexAndXpathPrivacyRules(regexAndXpathRules,root,rootXpath,doc,excludedElements,excludeMask){var i,j,k,len,element,elementInfo,elements=[],elementXpath,exclude,maskedValue,rule,target,qr;if(!regexAndXpathRules.length&&!excludedElements.length&&!excludeMask)return[];qr=browserService.queryAll("input, select, textarea",root);if(!qr||!qr.length)return[];for(i=0,len=excludedElements.length;i<
len;i+=1){j=qr.indexOf(excludedElements[i]);if(j!==-1)qr.splice(j,1)}if(regexAndXpathRules.length)for(i=0,len=qr.length,elements=[];i<len;i+=1)if(qr[i].value){elementInfo=browserBaseService.ElementData.prototype.examineID(qr[i]);if(elementInfo.idType===-2){elementXpath=new browserBaseService.Xpath(qr[i]);elementXpath.applyPrefix(rootXpath);elementInfo.id=elementXpath.xpath}elements.push({id:elementInfo.id,idType:elementInfo.idType,element:qr[i]})}for(i=0,len=regexAndXpathRules.length;i<len;i+=1){rule=
privacy[regexAndXpathRules[i].ruleIndex];exclude=utils.getValue(rule,"exclude",false);target=rule.targets[regexAndXpathRules[i].targetIndex];if(typeof target.id==="string"&&target.idType===-2)for(j=0;j<elements.length;j+=1){if(elements[j].idType===target.idType&&elements[j].id===target.id)if(!exclude){element=elements[j].element;maskElement(element,rule)}else{k=qr.indexOf(element);qr.splice(k,1)}}else for(j=0;j<elements.length;j+=1){target.cRegex.lastIndex=0;if(elements[j].idType===target.idType&&
target.cRegex.test(elements[j].id)){element=elements[j].element;if(!exclude)maskElement(element,rule);else{k=qr.indexOf(element);qr.splice(k,1)}}}}if(excludeMask)for(i=0,len=qr.length;i<len;i+=1)maskElement(qr[i],excludeMask)}function applyPrivacyToNode(root,rootXpath,doc){var i,j,k,element,exclude,excludedElements=[],excludeMask,len,mask,maskedValue,qr,qrLen,regexAndXpathRules=[],target,targets,targetsLen;if(!root||!doc)return null;for(i=0,len=privacy.length;i<len;i+=1){mask=privacy[i];exclude=utils.getValue(mask,
"exclude",false);if(exclude)excludeMask=mask;targets=mask.targets;for(j=0,targetsLen=targets.length;j<targetsLen;j+=1){target=targets[j];if(typeof target==="string"){qr=browserService.queryAll(target,root);if(!exclude)for(k=0,qrLen=qr.length;k<qrLen;k+=1){element=qr[k];maskElement(element,mask)}else excludedElements=excludedElements.concat(qr)}else if(typeof target.id==="string")switch(target.idType){case -1:case -3:element=browserBaseService.getNodeFromID(target.id,target.idType,root);if(!exclude)maskElement(element,
mask);else excludedElements.push(element);break;case -2:regexAndXpathRules.push({ruleIndex:i,targetIndex:j,exclude:exclude});break;default:break}else regexAndXpathRules.push({ruleIndex:i,targetIndex:j,exclude:exclude})}}applyRegexAndXpathPrivacyRules(regexAndXpathRules,root,rootXpath,doc,excludedElements,excludeMask);return root}function isPrivacyMatched(target){var i,len,mask,retVal=false;if(!target)return retVal;for(i=0,len=privacy.length;i<len;i+=1){mask=privacy[i];if(matchesTarget(mask.targets,
target)){retVal=true;break}}return retVal}function updateConfig(){var i,j,len,rule,rulesLen,target,targets,targetsLen;configService=core.getService("config");config=configService.getServiceConfig("message")||{};privacy=config.privacy||[];privacyPatterns=config.privacyPatterns||[];for(i=0,rulesLen=privacy.length;i<rulesLen;i+=1){rule=privacy[i];targets=rule.targets;for(j=0,targetsLen=targets.length;j<targetsLen;j+=1){target=targets[j];if(typeof target==="object"){if(typeof target.idType==="string")target.idType=
+target.idType;if(typeof target.id==="object")target.cRegex=new RegExp(target.id.regex,target.id.flags)}}}for(len=privacyPatterns.length,i=len-1;i>=0;i-=1){rule=privacyPatterns[i];if(typeof rule.pattern==="object")rule.cRegex=new RegExp(rule.pattern.regex,rule.pattern.flags);else privacyPatterns.splice(i,1)}}function initMessageService(){if(configService.subscribe)configService.subscribe("configupdated",updateConfig);updateConfig();isInitialized=true}function destroy(){configService.unsubscribe("configupdated",
updateConfig);isInitialized=false}return{init:function(){if(!isInitialized)initMessageService();else;},destroy:function(){destroy()},applyPrivacyToNode:applyPrivacyToNode,applyPrivacyToMessage:applyPrivacyToMessage,applyPrivacyToTarget:privacyFilter,applyPrivacyPatterns:applyPrivacyPatterns,isPrivacyMatched:isPrivacyMatched,createMessage:function(event){if(typeof event.type==="undefined")throw new TypeError("Invalid queueEvent given!");return applyPrivacyToMessage(new Message(event))},wrapMessages:function(messages){var messagePackage=
{messageVersion:"9.0.0.0",serialNumber:count+=1,sessions:[{id:core.getPageId(),startTime:sessionStart.getTime(),timezoneOffset:sessionStart.getTimezoneOffset(),messages:messages,clientEnvironment:{webEnvironment:{libVersion:"5.4.0.1805",domain:windowHostname,page:windowHref,referrer:document.referrer,screen:{devicePixelRatio:devicePixelRatio,deviceWidth:deviceWidth,deviceHeight:deviceHeight,deviceToolbarHeight:deviceToolbarHeight,width:startWidth,height:startHeight,orientation:deviceOrientation}}}}]},
webEnvScreen=messagePackage.sessions[0].clientEnvironment.webEnvironment.screen;webEnvScreen.orientationMode=utils.getOrientationMode(webEnvScreen.orientation);return messagePackage}}});TLT.addService("serializer",function(core){function serializeToJSON(obj){var str,key,len=0;if(typeof obj!=="object"||obj===null)switch(typeof obj){case "function":case "undefined":return"null";case "string":return'"'+obj.replace(/"/g,'\\"')+'"';default:return String(obj)}else if(Object.prototype.toString.call(obj)===
"[object Array]"){str="[";for(key=0,len=obj.length;key<len;key+=1)if(Object.prototype.hasOwnProperty.call(obj,key))str+=serializeToJSON(obj[key])+","}else{str="{";for(key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){str=str.concat('"',key,'":',serializeToJSON(obj[key]),",");len+=1}}if(len>0)str=str.substring(0,str.length-1);str+=String.fromCharCode(str.charCodeAt(0)+2);return str}var configService=core.getService("config"),serialize={},parse={},defaultSerializers={json:function(){if(typeof window.JSON!==
"undefined")return{serialize:window.JSON.stringify,parse:window.JSON.parse};return{serialize:serializeToJSON,parse:function(data){return eval("("+data+")")}}}()},updateConfig=null,isInitialized=false;function addObjectIfExist(paths,rootObj,propertyName){var i,len,obj;paths=paths||[];for(i=0,len=paths.length;i<len;i+=1){obj=paths[i];if(typeof obj==="string")obj=core.utils.access(obj);if(typeof obj==="function"){rootObj[propertyName]=obj;break}}}function checkParserAndSerializer(){var isParserAndSerializerInvalid;
if(typeof serialize.json!=="function"||typeof parse.json!=="function")isParserAndSerializerInvalid=true;else{if(typeof parse.json('{"foo": "bar"}')==="undefined")isParserAndSerializerInvalid=true;else isParserAndSerializerInvalid=parse.json('{"foo": "bar"}').foo!=="bar";if(typeof parse.json("[1, 2]")==="undefined")isParserAndSerializerInvalid=true;else{isParserAndSerializerInvalid=isParserAndSerializerInvalid||parse.json("[1, 2]")[0]!==1;isParserAndSerializerInvalid=isParserAndSerializerInvalid||
parse.json("[1,2]")[1]!==2}isParserAndSerializerInvalid=isParserAndSerializerInvalid||serialize.json({"foo":"bar"})!=='{"foo":"bar"}';isParserAndSerializerInvalid=isParserAndSerializerInvalid||serialize.json([1,2])!=="[1,2]"}return isParserAndSerializerInvalid}function initSerializerService(config){var format;for(format in config)if(config.hasOwnProperty(format)){addObjectIfExist(config[format].stringifiers,serialize,format);addObjectIfExist(config[format].parsers,parse,format)}if(!(config.json&&
config.json.hasOwnProperty("defaultToBuiltin"))||config.json.defaultToBuiltin===true){serialize.json=serialize.json||defaultSerializers.json.serialize;parse.json=parse.json||defaultSerializers.json.parse}if(typeof serialize.json!=="function"||typeof parse.json!=="function")core.fail("JSON parser and/or serializer not provided in the UIC config. Can't continue.");if(checkParserAndSerializer())core.fail("JSON stringification and parsing are not working as expected");if(configService)configService.subscribe("configupdated",
updateConfig);isInitialized=true}function destroy(){serialize={};parse={};if(configService)configService.unsubscribe("configupdated",updateConfig);isInitialized=false}updateConfig=function(){configService=core.getService("config");initSerializerService(configService.getServiceConfig("serializer"))};return{init:function(){var ssConfig;if(!isInitialized){ssConfig=configService?configService.getServiceConfig("serializer"):{};initSerializerService(ssConfig)}else;},destroy:function(){destroy()},parse:function(data,
type){type=type||"json";return parse[type](data)},serialize:function(data,type){var serializedData;type=type||"json";serializedData=serialize[type](data);return serializedData}}});TLT.addModule("TLCookie",function(context){var moduleConfig={},wcxCookieName="WCXSID",tltCookieName="TLTSID",visitorCookieName="CoreID6",wcxCookieValue,tltCookieValue,visitorCookieValue=null,wcxCookieAge=1800,tlAppKey,postAppCookiesEnabled,utils=context.utils;function createTLTSID(){var dataSet="123456789",cookieValue=wcxCookieValue||
utils.getRandomString(1,dataSet)+utils.getRandomString(27,dataSet+"0");utils.setCookie(tltCookieName,"0000"+cookieValue);return utils.getCookieValue(tltCookieName)}function createWCXSID(){var dataSet="123456789",cookieValue=wcxCookieValue||utils.getRandomString(1,dataSet)+utils.getRandomString(27,dataSet+"0");utils.setCookie(wcxCookieName,cookieValue,wcxCookieAge);return utils.getCookieValue(wcxCookieName)}function getVisitorCookie(){if(!window.cmRetrieveUserID)return;window.cmRetrieveUserID(function(id){visitorCookieValue=
id})}function processConfig(config){var reqHeaders=[];if(config.tlAppKey){tlAppKey=config.tlAppKey;reqHeaders.push({name:"X-Tealeaf-SaaS-AppKey",value:tlAppKey})}if(config.wcxCookieName)wcxCookieName=config.wcxCookieName;if(config.wcxCookieAge)wcxCookieAge=config.wcxCookieAge;wcxCookieValue=utils.getCookieValue(wcxCookieName);if(!wcxCookieValue)wcxCookieValue=createWCXSID();reqHeaders.push({name:"X-WCXSID",value:wcxCookieValue});if(config.sessionizationCookieName)tltCookieName=config.sessionizationCookieName;
tltCookieValue=utils.getCookieValue(tltCookieName);if(!tltCookieValue)tltCookieValue=createTLTSID();reqHeaders.push({name:"X-Tealeaf-SaaS-TLTSID",value:tltCookieValue});if(reqHeaders.length)TLT.registerBridgeCallbacks([{enabled:true,cbType:"addRequestHeaders",cbFunction:function(){return reqHeaders}}])}function isCookieWhitelisted(cookieName){var i,len,result=false,rule,whitelist=moduleConfig.appCookieWhitelist;if(!whitelist||!whitelist.length)return result;for(i=0,len=whitelist.length;i<len&&!result;i+=
1){rule=whitelist[i];if(rule.regex){if(!rule.cRegex)rule.cRegex=new RegExp(rule.regex,rule.flags);rule.cRegex.lastIndex=0;result=rule.cRegex.test(cookieName)}else result=rule===cookieName}return result}function postAppCookies(){var i,j,len,appCookies={},cookie,cookies=document.cookie,cookieList=[],cookieName="",cookieValue="";if(!cookies)return;cookieList=cookies.split("; ");for(i=0,len=cookieList.length;i<len;i+=1){cookie=cookieList[i];j=cookie.indexOf("\x3d");if(j>=0)cookieName=decodeURIComponent(cookie.substr(0,
j));cookieValue=cookie.substr(j+1);if(isCookieWhitelisted(cookieName))appCookies[cookieName]=decodeURIComponent(cookieValue)}if(visitorCookieValue&&!appCookies[visitorCookieName])appCookies[visitorCookieName]=visitorCookieValue;context.post({type:14,cookies:appCookies})}return{init:function(){moduleConfig=context.getConfig()||{};processConfig(moduleConfig);getVisitorCookie()},destroy:function(){},onevent:function(webEvent){switch(webEvent.type){case "screenview_load":if(utils.getValue(moduleConfig,
"appCookieWhitelist.length",0)){getVisitorCookie();postAppCookies()}break;case "screenview_unload":createWCXSID();break;default:break}}}});if(TLT&&typeof TLT.addModule==="function")TLT.addModule("overstat",function(context){var utils=context.utils,eventMap={},configDefaults={updateInterval:250,hoverThresholdMin:1E3,hoverThresholdMax:2*60*1E3,gridCellMaxX:10,gridCellMaxY:10,gridCellMinWidth:20,gridCellMinHeight:20},MAX_ITERATIONS=50;function getConfigValue(key){var overstatConfig=context.getConfig()||
{},value=overstatConfig[key];return typeof value==="number"?value:configDefaults[key]}function postUIEvent(hoverEvent,options){var target=utils.getValue(hoverEvent,"webEvent.target",{}),tagName=utils.getValue(target,"element.tagName")||"",type=tagName.toLowerCase()==="input"?utils.getValue(target,"element.type"):"",tlType=utils.getTlType(target),uiEvent={type:9,event:{hoverDuration:hoverEvent.hoverDuration,hoverToClick:utils.getValue(options,"hoverToClick")},target:{id:target.id||"",idType:target.idType||
"",name:target.name||"",tlType:tlType,type:tagName,subType:type,position:{width:utils.getValue(target,"element.offsetWidth",0),height:utils.getValue(target,"element.offsetHeight",0),relXY:hoverEvent.relXY}}};if(typeof uiEvent.target.id===undefined||uiEvent.target.id==="")return;context.post(uiEvent)}function getNativeNode(node){if(node&&!node.nodeType&&node.element)node=node.element;return node}function stopNode(node){node=getNativeNode(node);return!node||node===document.body||node===document.html||
node===document}function getParent(node){node=getNativeNode(node);if(!node)return null;return node.parentNode}function getOffsetParent(node){node=getNativeNode(node);if(!node)return null;return node.offsetParent||node.parentElement||getParent(node)}function isChildOf(root,node){var idx=0;if(!node||node===root)return false;node=getParent(node);while(!stopNode(node)&&idx++<MAX_ITERATIONS){if(node===root)return true;node=getParent(node)}if(idx>=MAX_ITERATIONS)utils.clog("Overstat isChildOf() hit iterations limit");
return false}function getNativeEvent(e){if(e.nativeEvent)e=e.nativeEvent;return e}function getNativeTarget(e){return getNativeEvent(e).target}function getNodeType(node){node=getNativeNode(node);if(!node)return-1;return node.nodeType||-1}function getNodeTagName(node){node=getNativeNode(node);if(!node)return"";return node.tagName?node.tagName.toUpperCase():""}function stopEventPropagation(e){if(!e)return;if(e.nativeEvent)e=e.nativeEvent;if(e.stopPropagation)e.stopPropagation();else if(e.cancelBubble)e.cancelBubble()}
function ignoreNode(node){var tagName=getNodeTagName(node);return getNodeType(node)!==1||tagName==="TR"||tagName==="TBODY"||tagName==="THEAD"}function getXPathFromNode(node){if(!node)return"";if(node.xPath)return node.xPath;node=getNativeNode(node);return context.getXPathFromNode(node)}function callHoverEventMethod(key,methodName){var hEvent=eventMap[key];if(hEvent&&hEvent[methodName])return hEvent[methodName]()}function HoverEvent(dm,gx,gy,webEvent){this.xPath=dm!==null?getXPathFromNode(dm):"";this.domNode=
dm;this.hoverDuration=0;this.hoverUpdateTime=0;this.gridX=Math.max(gx,0);this.gridY=Math.max(gy,0);this.parentKey="";this.updateTimer=-1;this.disposed=false;this.childKeys={};this.webEvent=webEvent;this.getKey=function(){return this.xPath+":"+this.gridX+","+this.gridY};this.update=function(){var curTime=(new Date).getTime(),key=this.getKey();if(this.hoverUpdateTime!==0)this.hoverDuration+=curTime-this.hoverUpdateTime;this.hoverUpdateTime=curTime;clearTimeout(this.updateTimer);this.updateTimer=setTimeout(function(){callHoverEventMethod(key,
"update")},getConfigValue("updateInterval"))};this.dispose=function(leaveClone){clearTimeout(this.updateTimer);delete eventMap[this.getKey()];this.disposed=true;if(leaveClone){var cloneEvt=this.clone();eventMap[cloneEvt.getKey()]=cloneEvt;cloneEvt.update()}};this.process=function(wasClicked){clearTimeout(this.updateTimer);if(this.disposed)return false;var addedToQueue=false,hEvent=this,key=null,idx=0;if(this.hoverDuration>=getConfigValue("hoverThresholdMin")){this.hoverDuration=Math.min(this.hoverDuration,
getConfigValue("hoverThresholdMax"));addedToQueue=true;postUIEvent(this,{hoverToClick:!!wasClicked});while(typeof hEvent!=="undefined"&&idx++<MAX_ITERATIONS){hEvent.dispose(wasClicked);hEvent=eventMap[hEvent.parentKey]}if(idx>=MAX_ITERATIONS)utils.clog("Overstat process() hit iterations limit")}else this.dispose(wasClicked);return addedToQueue};this.clone=function(){var cloneEvent=new HoverEvent(this.domNode,this.gridX,this.gridY);cloneEvent.parentKey=this.parentKey;return cloneEvent}}function createHoverEvent(node,
x,y,webEvt){return new HoverEvent(node,x,y,webEvt)}function calculateNodeOffset(node){if(node&&node.position)return{x:node.position.x,y:node.position.y};node=getNativeNode(node);var boundingRect=node&&node.getBoundingClientRect?node.getBoundingClientRect():null,offsetX=boundingRect?boundingRect.left:node?node.offsetLeft:0,offsetY=boundingRect?boundingRect.top:node?node.offsetHeight:0,lastOffsetX=offsetX,lastOffsetY=offsetY,offsetDiffX=0,offsetDiffY=0,curNode=getOffsetParent(node),idx=0;while(curNode&&
idx++<MAX_ITERATIONS){if(stopNode(curNode))break;offsetDiffX=curNode.offsetLeft-(curNode.scrollLeft||0);offsetDiffY=curNode.offsetTop-(curNode.scrollTop||0);if(offsetDiffX!==lastOffsetX||offsetDiffY!==lastOffsetY){offsetX+=offsetDiffX;offsetY+=offsetDiffY;lastOffsetX=offsetDiffX;lastOffsetY=offsetDiffY}curNode=getOffsetParent(curNode)}if(idx>=MAX_ITERATIONS)utils.clog("Overstat calculateNodeOffset() hit iterations limit");if(isNaN(offsetX))offsetX=0;if(isNaN(offsetY))offsetY=0;return{x:offsetX,y:offsetY}}
function calculateRelativeCursorPos(node,cursorX,cursorY){node=getNativeNode(node);var nodeOffset=calculateNodeOffset(node),offsetX=cursorX-nodeOffset.x,offsetY=cursorY-nodeOffset.y;if(!isFinite(offsetX))offsetX=0;if(!isFinite(offsetY))offsetY=0;return{x:offsetX,y:offsetY}}function calculateGridCell(node,offsetX,offsetY){node=getNativeNode(node);var boundingRect=node.getBoundingClientRect?node.getBoundingClientRect():null,oWidth=boundingRect?boundingRect.width:node.offsetWidth,oHeight=boundingRect?
boundingRect.height:node.offsetHeight,cellWidth=oWidth&&oWidth>0?Math.max(oWidth/getConfigValue("gridCellMaxX"),getConfigValue("gridCellMinWidth")):getConfigValue("gridCellMinWidth"),cellHeight=oHeight&&oHeight>0?Math.max(oHeight/getConfigValue("gridCellMaxY"),getConfigValue("gridCellMinHeight")):getConfigValue("gridCellMinHeight"),cellX=Math.floor(offsetX/cellWidth),cellY=Math.floor(offsetY/cellHeight),xVal=oWidth>0?offsetX/oWidth:0,yVal=oHeight>0?offsetY/oHeight:0,relXYVal="";if(!isFinite(cellX))cellX=
0;if(!isFinite(cellY))cellY=0;relXYVal=formatRelXY(xVal,yVal);return{x:cellX,y:cellY,relXY:relXYVal}}function formatRelXY(x,y){x=Math.floor(Math.min(Math.max(x,0),1)*100)/100;y=Math.floor(Math.min(Math.max(y,0),1)*100)/100;return x+","+y}function cleanupHoverEvents(curEvent){var hEvent=curEvent,curKey=curEvent.getKey(),allowedKeyMap={},key=null,childKey=null,addedToQueue=false,idx=0;allowedKeyMap[curKey]=true;while(typeof hEvent!=="undefined"&&idx++<MAX_ITERATIONS){allowedKeyMap[hEvent.parentKey]=
true;if(hEvent.parentKey===""||hEvent.parentKey===hEvent.getKey())break;if(idx>=MAX_ITERATIONS)utils.clog("Overstat cleanupHoverEvents() hit iterations limit");hEvent=eventMap[hEvent.parentKey]}for(key in eventMap)if(eventMap.hasOwnProperty(key)&&!allowedKeyMap[key]){hEvent=eventMap[key];if(hEvent)if(!addedToQueue)addedToQueue=hEvent.process();else hEvent.dispose()}}function processEventsByDomNode(eventNode,keyToIgnore){var hEvent=null,key=null,addedToQueue=false;for(key in eventMap)if(eventMap.hasOwnProperty(key)){hEvent=
eventMap[key];if(hEvent&&hEvent.domNode===eventNode&&hEvent.getKey()!==keyToIgnore)if(!addedToQueue)addedToQueue=hEvent.process();else hEvent.dispose()}}function hoverHandler(e,node,isParent){if(!node)node=e.target;if(stopNode(node))return null;if(utils.isiOS||utils.isAndroid)return null;var rPos,gPos,hEvent,key,parentKey,parentEvent,offsetParent;if(!ignoreNode(node)){rPos=calculateRelativeCursorPos(node,e.position.x,e.position.y);gPos=calculateGridCell(node,rPos.x,rPos.y);hEvent=new HoverEvent(node,
gPos.x,gPos.y,e);hEvent.relXY=gPos.relXY;key=hEvent.getKey();if(eventMap[key])hEvent=eventMap[key];else eventMap[key]=hEvent;hEvent.update();if(!isParent){offsetParent=getOffsetParent(node);if(offsetParent){parentEvent=hoverHandler(e,offsetParent,true);if(parentEvent!==null){parentKey=parentEvent.getKey();key=hEvent.getKey();if(key!==parentKey)hEvent.parentKey=parentKey}}cleanupHoverEvents(hEvent)}}else hEvent=hoverHandler(e,getOffsetParent(node),isParent);return hEvent}function leaveHandler(e){e=
getNativeEvent(e);if(isChildOf(e.target,e.relatedTarget))return;processEventsByDomNode(e.target)}function clickHandler(e){var hEvent=null,key=null,addedToQueue=false;for(key in eventMap)if(eventMap.hasOwnProperty(key)){hEvent=eventMap[key];if(hEvent)if(!addedToQueue)addedToQueue=hEvent.process(true);else hEvent.dispose()}}function submitHandler(e){context.performFormCompletion(true)}function handleEvent(e){var targetId=utils.getValue(e,"target.id");if(!targetId)return;switch(e.type){case "mousemove":hoverHandler(e);
break;case "mouseout":leaveHandler(e);break;case "click":clickHandler(e);break;case "submit":submitHandler(e);break;default:break}}return{init:function(){},destroy:function(){var key,i;for(key in eventMap)if(eventMap.hasOwnProperty(key)){eventMap[key].dispose();delete eventMap[key]}},onevent:function(event){if(typeof event!=="object"||!event.type)return;handleEvent(event)},onmessage:function(msg){},createHoverEvent:createHoverEvent,cleanupHoverEvents:cleanupHoverEvents,eventMap:eventMap}});else;if(TLT&&
typeof TLT.addModule==="function")TLT.addModule("performance",function(context){var moduleState={loadReceived:false,unloadReceived:false,perfEventSent:false},calculatedRenderTime=0,config,utils=context.utils;function isFiltered(prop,filter){if(typeof prop!=="string")return false;if(!filter||typeof filter!=="object")return false;return filter[prop]===true}function parseTiming(timing,filter){var epoch=0,normalizedTiming={},prop="",value=0;if(!timing||typeof timing!=="object"||!timing.navigationStart)return{};
epoch=timing.navigationStart;for(prop in timing)if(Object.prototype.hasOwnProperty.call(timing,prop)||typeof timing[prop]==="number")if(!isFiltered(prop,filter)){value=timing[prop];if(typeof value==="number"&&value&&prop!=="navigationStart")normalizedTiming[prop]=value-epoch;else normalizedTiming[prop]=value}return normalizedTiming}function getRenderTime(timing){var renderTime=0,startTime,endTime;if(timing){startTime=timing.responseEnd>0&&timing.responseEnd<timing.domLoading?timing.responseEnd:timing.domLoading;
endTime=timing.loadEventStart;if(utils.isNumeric(startTime)&&utils.isNumeric(endTime)&&endTime>startTime)renderTime=endTime-startTime}return renderTime}function processLoadEvent(event){var startTime=context.getStartTime();if(event.timestamp>startTime&&!calculatedRenderTime)calculatedRenderTime=event.timestamp-startTime}function postPerformanceEvent(window){var navType="UNKNOWN",queueEvent={type:7,performance:{}},navigation,performance,timing;if(!window||moduleState.perfEventSent)return;performance=
window.performance||{};timing=performance.timing;navigation=performance.navigation;if(timing){queueEvent.performance.timing=parseTiming(timing,config.filter);queueEvent.performance.timing.renderTime=getRenderTime(timing)}else if(config.calculateRenderTime)queueEvent.performance.timing={renderTime:calculatedRenderTime,calculated:true};else return;if(config.renderTimeThreshold&&queueEvent.performance.timing.renderTime>config.renderTimeThreshold){queueEvent.performance.timing.invalidRenderTime=queueEvent.performance.timing.renderTime;
delete queueEvent.performance.timing.renderTime}if(navigation){switch(navigation.type){case 0:navType="NAVIGATE";break;case 1:navType="RELOAD";break;case 2:navType="BACKFORWARD";break;default:navType="UNKNOWN";break}queueEvent.performance.navigation={type:navType,redirectCount:navigation.redirectCount}}context.post(queueEvent);moduleState.perfEventSent=true}return{init:function(){config=context.getConfig()},destroy:function(){config=null},onevent:function(event){if(typeof event!=="object"||!event.type)return;
switch(event.type){case "load":moduleState.loadReceived=true;processLoadEvent(event);setTimeout(function(){if(context.isInitialized())postPerformanceEvent(window)},utils.getValue(config,"delay",2E3));break;case "unload":moduleState.unloadReceived=true;if(!moduleState.perfEventSent)postPerformanceEvent(window);break;default:break}},onmessage:function(msg){}}});else;TLT.addModule("replay",function(context){var utils=context.utils,currOrientation=0,savedTouch={scale:0,timestamp:0},pastEvents={},lastEventId=
null,tmpQueue=[],eventCounter=0,firstDOMCaptureEventFlag=true,curClientState=null,pastClientState=null,onerrorHandled=false,errorCount=0,visitOrder="",lastVisit="",pageLoadTime=(new Date).getTime(),pageDwellTime=0,prevWebEvent=null,viewEventStart=null,viewTimeStart=null,scrollViewStart=null,scrollViewEnd=null,nextScrollViewStart=null,viewPortXStart=0,viewPortYStart=0,inBetweenEvtsTimer=null,lastFocusEvent={inFocus:false},lastClickEvent=null,isApple=utils.isiOS,isAndroidChrome=navigator.userAgent.indexOf("Chrome")>
-1&&utils.isAndroid,devicePixelRatio=window.devicePixelRatio||1,deviceToolbarHeight=window.screen?window.screen.height-window.screen.availHeight:0,replayConfig=context.getConfig()||{},viewPortWidthHeightLimit=utils.getValue(replayConfig,"viewPortWidthHeightLimit",1E4),deviceScale=1,previousDeviceScale=1,extendGetItem,gridValues={cellMaxX:10,cellMaxY:10,cellMinWidth:20,cellMinHeight:20};function resetVisitedCounts(){var control;for(control in pastEvents)if(pastEvents.hasOwnProperty(control))pastEvents[control].visitedCount=
0}function isTargetClickable(target){var clickable=false,clickableInputTypes="|button|image|submit|reset|",subType=null;if(typeof target!=="object"||!target.type)return clickable;switch(target.type.toLowerCase()){case "input":subType="|"+(target.subType||"")+"|";if(clickableInputTypes.indexOf(subType.toLowerCase())===-1)clickable=false;else clickable=true;break;case "select":case "textarea":clickable=false;break;default:clickable=true;break}return clickable}function parentElements(node){var parents=
[];node=node.parentNode;while(node){parents.push(node);node=node.parentNode}return parents}function getParentLink(parents){return utils.some(parents,function(node){var tagName=utils.getTagName(node);if(tagName==="a"||tagName==="button")return node;return null})}function getTlEvent(webEvent){var tlEvent=webEvent.type,target=webEvent.target;if(typeof tlEvent==="string")tlEvent=tlEvent.toLowerCase();else tlEvent="unknown";if(tlEvent==="blur")tlEvent="focusout";if(tlEvent==="change")if(target.type===
"INPUT")switch(target.subType){case "text":case "date":case "time":tlEvent=target.subType+"Change";break;default:tlEvent="valueChange";break}else if(target.type==="TEXTAREA")tlEvent="textChange";else tlEvent="valueChange";return tlEvent}function scheduleDOMCapture(root,config,delay){var dcid=null;if(!root)return dcid;config=config||{};config.eventOn=firstDOMCaptureEventFlag;firstDOMCaptureEventFlag=false;if(delay){dcid="dcid-"+utils.getSerialNumber()+"."+(new Date).getTime()+"s";window.setTimeout(function(){config.dcid=
dcid;context.performDOMCapture(root,config)},delay)}else{delete config.dcid;dcid=context.performDOMCapture(root,config)}return dcid}function addDOMCapture(eventType,target,screenviewName){var i,j,capture=false,captureConfig={},dcEnabled=false,dcTrigger,dcTriggerList,dcid=null,delay=0,len,screenview,screenviews,screenviewsLen;if(!eventType||!target&&!screenviewName)return dcid;if(!target&&!(eventType==="load"||eventType==="unload"))return dcid;replayConfig=context.getConfig()||{};dcEnabled=utils.getValue(replayConfig,
"domCapture.enabled",false);if(!dcEnabled||utils.isLegacyIE)return dcid;dcTriggerList=utils.getValue(replayConfig,"domCapture.triggers")||[];for(i=0,len=dcTriggerList.length;!capture&&i<len;i+=1){dcTrigger=dcTriggerList[i];if(dcTrigger.event===eventType)if(eventType==="load"||eventType==="unload")if(dcTrigger.screenviews){screenviews=dcTrigger.screenviews;for(j=0,screenviewsLen=screenviews.length;!capture&&j<screenviewsLen;j+=1){screenview=screenviews[j];switch(typeof screenview){case "object":if(!screenview.cRegex)screenview.cRegex=
new RegExp(screenview.regex,screenview.flags);screenview.cRegex.lastIndex=0;capture=screenview.cRegex.test(screenviewName);break;case "string":capture=screenview===screenviewName;break;default:break}}}else capture=true;else if(dcTrigger.targets)capture=-1!==utils.matchTarget(dcTrigger.targets,target);else capture=true}if(capture){delay=dcTrigger.delay||(dcTrigger.event==="load"?7:0);captureConfig.forceFullDOM=!!dcTrigger.fullDOMCapture;dcid=scheduleDOMCapture(window.document,captureConfig,delay)}return dcid}
function createQueueEvent(options){var control,dcid,target=utils.getValue(options,"webEvent.target",{}),targetType=target.type,targetSubtype=target.subType||"",tlType=utils.getTlType(target),parents=parentElements(utils.getValue(target,"element")),parentLinkNode=null,relXY=utils.getValue(target,"position.relXY"),eventSubtype=utils.getValue(options,"webEvent.subType",null);control={timestamp:utils.getValue(options,"webEvent.timestamp",0),type:4,target:{id:target.id||"",idType:target.idType,name:target.name,
tlType:tlType,type:targetType,position:{width:utils.getValue(target,"size.width"),height:utils.getValue(target,"size.height")},currState:options.currState||null},event:{tlEvent:getTlEvent(utils.getValue(options,"webEvent")),type:utils.getValue(options,"webEvent.type","UNKNOWN")}};if(targetSubtype)control.target.subType=targetSubtype;if(relXY)control.target.position.relXY=relXY;if(typeof options.dwell==="number"&&options.dwell>0)control.target.dwell=options.dwell;if(typeof options.visitedCount==="number")control.target.visitedCount=
options.visitedCount;if(typeof options.prevState!=="undefined")control.prevState=options.prevState;if(eventSubtype)control.event.subType=eventSubtype;parentLinkNode=getParentLink(parents);control.target.isParentLink=!!parentLinkNode;if(parentLinkNode){if(parentLinkNode.href){control.target.currState=control.target.currState||{};control.target.currState.href=control.target.currState.href||parentLinkNode.href}if(parentLinkNode.value){control.target.currState=control.target.currState||{};control.target.currState.value=
control.target.currState.value||parentLinkNode.value}if(parentLinkNode.innerText||parentLinkNode.textContent){control.target.currState=control.target.currState||{};control.target.currState.innerText=utils.trim(control.target.currState.innerText||parentLinkNode.innerText||parentLinkNode.textContent)}}if(utils.isUndefOrNull(control.target.currState))delete control.target.currState;if(utils.isUndefOrNull(control.target.name))delete control.target.name;if(control.event.type!=="click"||isTargetClickable(target)){dcid=
addDOMCapture(control.event.type,target);if(dcid)control.dcid=dcid}return control}function postUIEvent(queueEvent){context.post(queueEvent)}function postEventQueue(queue){var i=0,j,len=queue.length,e1,e2,tmp,ignoredEvents={mouseout:true,mouseover:true},results=[];for(i=0;i<len;i+=1){e1=queue[i];if(!e1)continue;if(ignoredEvents[e1.event.type])results.push(e1);else{for(j=i+1;j<len&&queue[j];j+=1)if(!ignoredEvents[queue[j].event.type])break;if(j<len){e2=queue[j];if(e2&&e1.target.id===e2.target.id&&e1.event.type!==
e2.event.type){if(e1.event.type==="click"){tmp=e1;e1=e2;e2=tmp}if(e2.event.type==="click"){e1.target.position=e2.target.position;i+=1}else if(e2.event.type==="blur"){e1.target.dwell=e2.target.dwell;e1.target.visitedCount=e2.target.visitedCount;e1.focusInOffset=e2.focusInOffset;e1.target.position=e2.target.position;i+=1}queue[j]=null;queue[i]=e1}}results.push(queue[i])}}for(e1=results.shift();e1;e1=results.shift())context.post(e1);queue.splice(0,queue.length)}if(typeof window.onerror!=="function"){window.onerror=
function(msg,url,line){var errorMessage=null;if(typeof msg!=="string")return;line=line||-1;errorMessage={type:6,exception:{description:msg,url:url,line:line}};errorCount+=1;context.post(errorMessage)};onerrorHandled=true}function handleFocus(id,webEvent){lastFocusEvent=webEvent;lastFocusEvent.inFocus=true;if(typeof pastEvents[id]==="undefined")pastEvents[id]={};pastEvents[id].focus=lastFocusEvent.dwellStart=Number(new Date);pastEvents[id].focusInOffset=viewTimeStart?lastFocusEvent.dwellStart-Number(viewTimeStart):
-1;pastEvents[id].prevState=utils.getValue(webEvent,"target.state");pastEvents[id].visitedCount=pastEvents[id].visitedCount+1||1}function addToTmpQueue(webEvent,id){tmpQueue.push(createQueueEvent({webEvent:webEvent,id:id,currState:utils.getValue(webEvent,"target.state")}))}function handleBlur(id,webEvent){var convertToBlur=false,dcid,lastQueueEvent,i=0;if(typeof id==="undefined"||id===null||typeof webEvent==="undefined"||webEvent===null)return;if(typeof pastEvents[id]!=="undefined"&&pastEvents[id].hasOwnProperty("focus"))pastEvents[id].dwell=
Number(new Date)-pastEvents[id].focus;else{pastEvents[id]={};pastEvents[id].dwell=0}if(tmpQueue.length===0){if(!lastFocusEvent.inFocus)return;addToTmpQueue(webEvent,id)}lastFocusEvent.inFocus=false;if(tmpQueue[tmpQueue.length-1])for(i=tmpQueue.length-1;i>=0;i--)tmpQueue[i].target.visitedCount=pastEvents[id].visitedCount;lastQueueEvent=tmpQueue[tmpQueue.length-1];if(lastQueueEvent){lastQueueEvent.target.dwell=pastEvents[id].dwell;lastQueueEvent.focusInOffset=pastEvents[id].focusInOffset;lastQueueEvent.target.visitedCount=
pastEvents[id].visitedCount;if(lastQueueEvent.event.type==="click"){if(!isTargetClickable(lastQueueEvent.target)){lastQueueEvent.target.currState=utils.getValue(webEvent,"target.state")||utils.getValue(webEvent,"target.currState");convertToBlur=true}}else if(lastQueueEvent.event.type==="focus")convertToBlur=true;if(convertToBlur){lastQueueEvent.event.type="blur";lastQueueEvent.event.tlEvent="focusout";dcid=addDOMCapture(lastQueueEvent.event.type,webEvent.target);if(dcid)lastQueueEvent.dcid=dcid}}postEventQueue(tmpQueue)}
function checkQueue(id,webEvent){var hasInQueue=false,tmpQueueLength=tmpQueue.length,tmpQueueEvent=tmpQueueLength>0?tmpQueue[tmpQueueLength-1]:null;if(!tmpQueueEvent)return hasInQueue;if(tmpQueueEvent.target.id!==id&&tmpQueueEvent.target.tltype!=="selectList")if(webEvent.type==="focus"||webEvent.type==="click"||webEvent.type==="change"){handleBlur(tmpQueueEvent.target.id,tmpQueueEvent);hasInQueue=true}return hasInQueue}function handleChange(id,webEvent){if(typeof pastEvents[id]!=="undefined"&&!pastEvents[id].hasOwnProperty("focus"))handleFocus(id,
webEvent);addToTmpQueue(webEvent,id);if(typeof pastEvents[id]!=="undefined"&&typeof pastEvents[id].prevState!=="undefined")if(tmpQueue[tmpQueue.length-1].target.tlType==="textBox"||tmpQueue[tmpQueue.length-1].target.tlType==="selectList")tmpQueue[tmpQueue.length-1].target.prevState=pastEvents[id].prevState}function getRelativeXY(webEvent){var cellWidth,cellHeight,cellX,cellY,node=utils.getValue(webEvent,"target.element",{}),nodeWidth=utils.getValue(webEvent,"target.size.width",node.offsetWidth),nodeHeight=
utils.getValue(webEvent,"target.size.height",node.offsetHeight),offsetX=utils.getValue(webEvent,"target.position.x",0),offsetY=utils.getValue(webEvent,"target.position.y",0);cellWidth=nodeWidth?Math.max(nodeWidth/gridValues.cellMaxX,gridValues.cellMinWidth):gridValues.cellMinWidth;cellHeight=nodeHeight?Math.max(nodeHeight/gridValues.cellMaxY,gridValues.cellMinHeight):gridValues.cellMinHeight;cellX=Math.floor(offsetX/cellWidth);cellY=Math.floor(offsetY/cellHeight);if(!isFinite(cellX))cellX=0;if(!isFinite(cellY))cellY=
0;return cellX+","+cellY}function handleClick(id,webEvent){var relXY,addRelXY=true,tmpQueueLength=0;if(webEvent.target.type==="select"&&lastClickEvent&&lastClickEvent.target.id===id){lastClickEvent=null;return}if(!lastFocusEvent.inFocus)handleFocus(id,webEvent);tmpQueueLength=tmpQueue.length;if(tmpQueueLength&&utils.getValue(tmpQueue[tmpQueueLength-1],"event.type")!=="change")handleChange(id,webEvent);relXY=getRelativeXY(webEvent);tmpQueueLength=tmpQueue.length;if(webEvent.position.x===0&&webEvent.position.y===
0&&tmpQueueLength&&utils.getValue(tmpQueue[tmpQueueLength-1],"target.tlType")==="radioButton")addRelXY=false;else webEvent.target.position.relXY=relXY;if(tmpQueueLength&&utils.getValue(tmpQueue[tmpQueueLength-1],"target.id")===id){if(addRelXY)tmpQueue[tmpQueueLength-1].target.position.relXY=relXY}else{addToTmpQueue(webEvent,id);if(isTargetClickable(webEvent.target))handleBlur(id,webEvent)}lastClickEvent=webEvent}function handleOrientationChange(webEvent){var newOrientation=webEvent.orientation,orientationChangeEvent=
{type:4,event:{type:"orientationchange"},target:{prevState:{orientation:currOrientation,orientationMode:utils.getOrientationMode(currOrientation)},currState:{orientation:newOrientation,orientationMode:utils.getOrientationMode(newOrientation)}}};postUIEvent(orientationChangeEvent);currOrientation=newOrientation}function isDuplicateTouch(touchState){var result=false;if(!touchState)return result;result=savedTouch.scale===touchState.scale&&Math.abs((new Date).getTime()-savedTouch.timestamp)<500;return result}
function saveTouchState(touchState){savedTouch.scale=touchState.scale;savedTouch.rotation=touchState.rotation;savedTouch.timestamp=(new Date).getTime()}function getPinchType(){var s,pinchType;s=deviceScale-previousDeviceScale;if(isNaN(s))pinchType="INVALID";else if(s<0)pinchType="CLOSE";else if(s>0)pinchType="OPEN";else pinchType="NONE";return pinchType}function getClientStateMessage(webEvent){var documentElement=document.documentElement,documentBody=document.body,screen=window.screen,screenWidth=
screen.width,screenHeight=screen.height,deviceOrientation=utils.getValue(webEvent,"orientation",0),normalizedScreenWidth=!isApple?screenWidth:Math.abs(deviceOrientation)===90?screenHeight:screenWidth,msg={type:1,clientState:{pageWidth:document.width||(!documentElement?0:documentElement.offsetWidth),pageHeight:Math.max(!document.height?0:document.height,!documentElement?0:documentElement.offsetHeight,!documentElement?0:documentElement.scrollHeight),viewPortWidth:window.innerWidth||documentElement.clientWidth,
viewPortHeight:window.innerHeight||documentElement.clientHeight,viewPortX:Math.round(window.pageXOffset||(!documentElement?!documentBody?0:documentBody.scrollLeft:documentElement.scrollLeft||0)),viewPortY:Math.round(window.pageYOffset||(!documentElement?!documentBody?0:documentBody.scrollTop:documentElement.scrollTop||0)),deviceOrientation:deviceOrientation,event:utils.getValue(webEvent,"type")}},clientState=msg.clientState,scaleWidth;pastClientState=pastClientState||msg;if(clientState.event==="unload"&&
clientState.viewPortHeight===clientState.pageHeight&&clientState.viewPortWidth===clientState.pageWidth)if(pastClientState.clientState.viewPortHeight<clientState.viewPortHeight){clientState.viewPortHeight=pastClientState.clientState.viewPortHeight;clientState.viewPortWidth=pastClientState.clientState.viewPortWidth}if(clientState.viewPortY+clientState.viewPortHeight>clientState.pageHeight)clientState.viewPortY=clientState.pageHeight-clientState.viewPortHeight;if(clientState.viewPortY<0)clientState.viewPortY=
0;scaleWidth=!clientState.viewPortWidth?1:normalizedScreenWidth/clientState.viewPortWidth;clientState.deviceScale=scaleWidth.toFixed(3);clientState.viewTime=0;if(scrollViewStart&&scrollViewEnd)clientState.viewTime=scrollViewEnd.getTime()-scrollViewStart.getTime();if(webEvent.type==="scroll"){clientState.viewPortXStart=pastClientState.clientState.viewPortX;clientState.viewPortYStart=pastClientState.clientState.viewPortY}return msg}function sendClientState(){var cs;if(curClientState){cs=curClientState.clientState;
if(cs.viewPortHeight>0&&cs.viewPortHeight<viewPortWidthHeightLimit&&cs.viewPortWidth>0&&cs.viewPortWidth<viewPortWidthHeightLimit)postUIEvent(curClientState);pastClientState=curClientState;curClientState=null;scrollViewStart=nextScrollViewStart||scrollViewStart;scrollViewEnd=null}sendClientState.timeoutId=0}function handleClientState(webEvent){var attentionMsg=null;if(utils.isOperaMini)return;curClientState=getClientStateMessage(webEvent);if(webEvent.type==="scroll"||webEvent.type==="resize"){if(sendClientState.timeoutId)window.clearTimeout(sendClientState.timeoutId);
sendClientState.timeoutId=window.setTimeout(sendClientState,utils.getValue(replayConfig,"scrollTimeout",2E3))}else if(webEvent.type==="touchstart"||webEvent.type==="load"){if(curClientState)previousDeviceScale=parseFloat(curClientState.clientState.deviceScale)}else if(webEvent.type==="touchend")if(curClientState){deviceScale=parseFloat(curClientState.clientState.deviceScale);sendClientState()}if(webEvent.type==="load"||webEvent.type==="unload"){if(webEvent.type==="unload"&&pageLoadTime){attentionMsg=
utils.clone(curClientState);attentionMsg.clientState.event="attention";attentionMsg.clientState.viewTime=(new Date).getTime()-pageLoadTime}sendClientState();if(attentionMsg){curClientState=attentionMsg;sendClientState()}}return curClientState}function handleTouchStart(webEvent){var fingerCount=utils.getValue(webEvent,"nativeEvent.touches.length",0);if(fingerCount===2)handleClientState(webEvent)}function handleTouchEnd(webEvent){var fingerCount,prevTouchState={},rotation=utils.getValue(webEvent,"nativeEvent.rotation",
0)||utils.getValue(webEvent,"nativeEvent.touches[0].webkitRotationAngle",0),scale=utils.getValue(webEvent,"nativeEvent.scale",1),touchState=null,touchEndEvent={type:4,event:{type:"touchend"},target:{id:utils.getValue(webEvent,"target.id"),idType:utils.getValue(webEvent,"target.idType")}};fingerCount=utils.getValue(webEvent,"nativeEvent.changedTouches.length",0)+utils.getValue(webEvent,"nativeEvent.touches.length",0);if(fingerCount!==2)return;handleClientState(webEvent);touchState={rotation:rotation?
rotation.toFixed(2):0,scale:deviceScale?deviceScale.toFixed(2):1};touchState.pinch=getPinchType();prevTouchState.scale=previousDeviceScale?previousDeviceScale.toFixed(2):1;touchEndEvent.target.prevState=prevTouchState;touchEndEvent.target.currState=touchState;postUIEvent(touchEndEvent)}function isDuplicateEvent(curr,prev){var propsToCompare=["type","name","target.id"],prop=null,i,len,duplicate=true,DUPLICATE_EVENT_THRESHOLD_TIME=10,timeDiff=0,currTimeStamp=0,prevTimeStamp=0;if(!curr||!prev||typeof curr!==
"object"||typeof prev!=="object")return false;for(i=0,len=propsToCompare.length;duplicate&&i<len;i+=1){prop=propsToCompare[i];if(utils.getValue(curr,prop)!==utils.getValue(prev,prop)){duplicate=false;break}}if(duplicate){currTimeStamp=utils.getValue(curr,"timestamp");prevTimeStamp=utils.getValue(prev,"timestamp");if(!(isNaN(currTimeStamp)&&isNaN(prevTimeStamp))){timeDiff=Math.abs(utils.getValue(curr,"timestamp")-utils.getValue(prev,"timestamp"));if(isNaN(timeDiff)||timeDiff>DUPLICATE_EVENT_THRESHOLD_TIME)duplicate=
false}}return duplicate}function defaultEventHandler(webEvent){var msg={type:4,event:{type:webEvent.type},target:{id:utils.getValue(webEvent,"target.id"),idType:utils.getValue(webEvent,"target.idType"),currState:utils.getValue(webEvent,"target.state")}},dcid;dcid=addDOMCapture(webEvent.type,webEvent.target);if(dcid)msg.dcid=dcid;postUIEvent(msg)}function addGeolocationMsg(eventName){var geolocationConfig=utils.getValue(replayConfig,"geolocation"),triggers;if(!geolocationConfig||!geolocationConfig.enabled)return;
triggers=geolocationConfig.triggers||[];if(!triggers.length)return;if(triggers[0].event===eventName)TLT.logGeolocation()}return{init:function(){tmpQueue=[]},destroy:function(){handleBlur(lastEventId);tmpQueue=[];if(sendClientState.timeoutId){window.clearTimeout(sendClientState.timeoutId);sendClientState.timeoutId=0}if(onerrorHandled){window.onerror=null;onerrorHandled=false}},onevent:function(webEvent){var id=null,returnObj=null,orientation,screenOrientation;if(typeof webEvent!=="object"||!webEvent.type)return;
if(isDuplicateEvent(webEvent,prevWebEvent)){prevWebEvent=webEvent;return}prevWebEvent=webEvent;id=utils.getValue(webEvent,"target.id");if(Object.prototype.toString.call(pastEvents[id])!=="[object Object]")pastEvents[id]={};checkQueue(id,webEvent);inBetweenEvtsTimer=new Date;switch(webEvent.type){case "hashchange":break;case "focus":returnObj=handleFocus(id,webEvent);break;case "blur":returnObj=handleBlur(id,webEvent);break;case "click":returnObj=handleClick(id,webEvent);break;case "change":returnObj=
handleChange(id,webEvent);break;case "orientationchange":returnObj=handleOrientationChange(webEvent);break;case "touchstart":handleTouchStart(webEvent);break;case "touchend":returnObj=handleTouchEnd(webEvent);break;case "loadWithFrames":TLT.logScreenviewLoad("rootWithFrames");break;case "load":currOrientation=webEvent.orientation;scrollViewStart=new Date;if(typeof window.orientation!=="number"||utils.isAndroid){screenOrientation=window.screen.width>window.screen.height?90:0;orientation=window.orientation;
if(Math.abs(orientation)!==screenOrientation&&!(orientation===180&&screenOrientation===0)){utils.isLandscapeZeroDegrees=true;if(Math.abs(orientation)===180||Math.abs(orientation)===0)currOrientation=90;else if(Math.abs(orientation)===90)currOrientation=0}}setTimeout(function(){if(context.isInitialized())handleClientState(webEvent)},100);addGeolocationMsg(webEvent.type);TLT.logScreenviewLoad("root");break;case "screenview_load":viewTimeStart=new Date;resetVisitedCounts();returnObj=addDOMCapture("load",
null,webEvent.name);break;case "screenview_unload":returnObj=addDOMCapture("unload",null,webEvent.name);break;case "resize":case "scroll":if(!scrollViewEnd)scrollViewEnd=new Date;nextScrollViewStart=new Date;handleClientState(webEvent);break;case "unload":if(tmpQueue!==null)postEventQueue(tmpQueue);scrollViewEnd=new Date;handleClientState(webEvent);TLT.logScreenviewUnload("root");break;default:defaultEventHandler(webEvent);break}lastEventId=id;return returnObj},onmessage:function(){}}});TLT.addModule("performanceData",
function(context){var perfDur=TLT.getCoreConfig().modules.performanceData.duration,useDOMLoaded=TLT.getCoreConfig().modules.performanceData.useDOMContentLoaded;logJS=TLT.getCoreConfig().modules.performanceData.monitorJS,logCSS=TLT.getCoreConfig().modules.performanceData.monitorCSS,logImages=TLT.getCoreConfig().modules.performanceData.monitorImages,logXHR=TLT.getCoreConfig().modules.performanceData.monitorXHR,blacklist=TLT.getCoreConfig().modules.performanceData.blacklist;function customEvent(description,
urlNormalized,urlFull,initiator,duration,totalTime){var jsonMsg={type:5,fromWeb:true,customEvent:{data:{description:description,urlNormalized:urlNormalized,urlFull:urlFull,initiator:initiator,duration:duration,totalTime:totalTime}}};if(description,urlNormalized,urlFull,initiator,duration,totalTime)context.post(jsonMsg)}function getPerfObject(){if(typeof window.location.host!="undefined"){function calculate_load_times(){if(performance!==undefined){var resources=performance.getEntriesByType("resource");
for(var i=0;i<resources.length;i++)if(resources[i].initiatorType.indexOf("js")>-1&&logJS||resources[i].initiatorType.indexOf("css")>-1&&logCSS||resources[i].initiatorType.indexOf("img")>-1&&logImages||resources[i].initiatorType.indexOf("xmlhttprequest")>-1&&logXHR){var totalTime=resources[i].responseEnd.toFixed(2);var duration=resources[i].duration.toFixed(2);var URL=resources[i].name;for(var j in blacklist)if(URL.indexOf(blacklist[j])==-1){if(URL.indexOf("?")>-1)URL=URL.substr(0,URL.indexOf("?"));
if(duration>perfDur)customEvent("Slow Resource - "+resources[i].initiatorType+" ("+(duration/1E3).toFixed(2)+" secs)",URL,resources[i].name,resources[i].initiatorType,duration,totalTime)}}}}if(useDOMLoaded&&document.addEventListener)document.addEventListener("DOMContentLoaded",function(e){calculate_load_times()});else calculate_load_times()}}return{init:function(){try{getPerfObject()}catch(e){}},destroy:function(){try{getPerfObject()}catch(e){}}}});(function(){var TLT=window.TLT,changeTarget;if(TLT.getFlavor()===
"w3c"&&TLT.utils.isLegacyIE)changeTarget="input, select, textarea, button";var config={core:{blockedElements:[],ieExcludedLinks:['a[href*\x3d"javascript:void"]',"input[onclick*\x3d'javascript:']"],inactivityTimeout:1E3*60*20,modules:{performanceData:{enabled:true,duration:3E3,useDOMContentLoaded:true,monitorJS:true,monitorCSS:true,monitorImages:true,monitorXHR:true,blacklist:["facebook.com","twitter.com"]},overstat:{enabled:true,events:[{name:"click",recurseFrames:true},{name:"mousemove",recurseFrames:true},
{name:"mouseout",recurseFrames:true},{name:"submit",recurseFrames:true}]},performance:{events:[{name:"load",target:window},{name:"unload",target:window}]},replay:{events:[{name:"change",target:changeTarget,recurseFrames:true},{name:"click",recurseFrames:true},{name:"hashchange",target:window},{name:"focus",target:"input, select, textarea, button",recurseFrames:true},{name:"blur",target:"input, select, textarea, button",recurseFrames:true},{name:"load",target:window},{name:"resize",target:window},
{name:"scroll",target:window},{name:"orientationchange",target:window},{name:"touchend"},{name:"touchstart"}]},TLCookie:{enabled:false}},sessionDataEnabled:false,sessionData:{sessionValueNeedsHashing:true,sessionQueryName:"sessionID",sessionQueryDelim:";",sessionCookieName:"jsessionid"},screenviewAutoDetect:true,framesBlacklist:["#iframe1"]},services:{queue:{asyncReqOnUnload:/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor),useBeacon:false,xhrLogging:false,queues:[{qid:"DEFAULT",
endpoint:"/dlhome/shared/components/TealeafTarget.jsp",maxEvents:45,timerInterval:1E4,maxSize:1E5,checkEndpoint:false,endpointCheckTimeout:3E3,encoder:"gzip"}]},message:{privacy:[{"targets":["input[class*\x3dtlMaskInfo]",{id:{regex:".*password"},idType:-1},{id:{regex:"answer.*"},idType:-1},{id:{regex:"securityAnswer[0-9]"},idType:-1},{id:{regex:"basicInfoAnswer[0-9]"},idType:-1},{id:{regex:"pin[0-9]"},idType:-1},{id:"pin",idType:-1},{id:"oci_confNumField",idType:-1},{id:"oci_eTicketField",idType:-1},
{id:"oci_skyMilesField",idType:-1},{id:"oci_cardNumField",idType:-1},{id:"oci_lastNameField",idType:-1},{id:"cardNum",idType:-1},{id:"cardNo",idType:-1},{id:"cardIdentifier",idType:-1},{id:"ccID",idType:-1},{id:"ccNum",idType:-1},{id:"ccText",idType:-1},{id:"ccNumHid",idType:-1},{id:"ccID4",idType:-1},{id:"ccNumberFieldExisting",idType:-1},{id:"ccNumberField",idType:-1},{id:"tempCreditCard",idType:-1},{id:"egiftCreditCardNumber",idType:-1},{id:"creditCardId",idType:-1},{id:"creditCardNumber",idType:-1},
{id:"shcCreditCardNumber",idType:-1},{id:"addPassportInfo",idType:-1},{id:"passportNumber",idType:-1},{id:"passportno",idType:-1},{id:"cvv",idType:-1},{id:"Payment",idType:-1},{id:"excessBagsCardNumber",idType:-1},{id:"DbtCrdCardAcctNbr",idType:-1},{id:"newCcID",idType:-1},{id:"questionid",idType:-1},{id:"dlxTknCrd",idType:-1},{id:"dlxTknCrdCld",idType:-1},{id:"customerDO.securityQuestionsAndAnswers",idType:-1},{id:"billingCardNumber",idType:-1},{id:"billingCCID",idType:-1},{id:"dashpinText",idType:-1},
{id:"wpPin",idType:-1},{id:"cvc",idType:-1},{id:"cardld",idType:-1},{id:"defaultCVV",idType:-1},{id:"notLogInAccNumber",idType:-1},{id:"pwd",idType:-1},{id:"cid",idType:-1},{id:"inputNewPasswordSubmit",idType:-1},{id:"loginHelpConfirmPassword",idType:-1},{id:"submit1_LoginPage",idType:-1},{id:"pwd_LoginPage",idType:-1},{id:"loginHelpPassword",idType:-1},{id:"securityCodeDefault",idType:-1},{id:"securityCode",idType:-1},{id:"myTripsCardNo",idType:-1},{id:"usernm",idType:-1},{id:"lastname",idType:-1},
{id:"confNo",idType:-1},{id:"eticketNumber",idType:-1},{id:"add_cardNo",idType:-1},{id:"card_number",idType:-1},{id:"ccNumber",idType:-1},{id:"ccNumberFieldNew",idType:-1},{id:"editAcctNo",idType:-1},{id:"cardNumber_0",idType:-1},{id:"ccSecurityCode_0",idType:-1},{id:"password",idType:-1},{id:"confirmPassword",idType:-1},{id:"answer1",idType:-1},{id:"answer2",idType:-1},{id:"paymentCardNum",idType:-1},{id:"paymentCardSecurityCode",idType:-1},{id:"editCardNumber",idType:-1},{id:"editegiftCreditCardNumber",
idType:-1},"input[type\x3dpassword]",{id:"id_paymentCardNum_creditDebit",idType:-1},{id:"id_expirationDate_creditDebit",idType:-1},{id:"id_paymentCardSecurityCode_creditDebit",idType:-1},{id:"date-of-birth-94",idType:-1},{id:"ssn-84",idType:-1},{id:"answer1",idType:-1},{id:"answer2",idType:-1},{id:"cardNumber_0",idType:-1},{id:"ccSecurityCode_0",idType:-1},{id:"cvv2",idType:-1},{id:"passwordID",idType:-1},{id:"cvvThree",idType:-1},{id:"requiredEqualTo",idType:-1},{id:"notLogInAccNumber",idType:-1},
{id:"myTripsCardNo",idType:-1},{id:"cvvThree",idType:-1},{id:"defaultCvv",idType:-1},{id:"shcDefaultCreditCardNumber",idType:-1},{id:"cvvTwo",idType:-1},{id:"handlerPhone",idType:-1},{id:"animalUsersPhone",idType:-1},{id:"veterinarianPhone",idType:-1},{id:"trainerPhone",idType:-1},{id:{regex:"notLogInExpMonth[a-z]"},idType:-1},{id:{regex:"notLogInExpYear[0-9]"},idType:-1},{id:"password",idType:-1},{id:"lastName",idType:-1},{id:"userId",idType:-1}],"maskType":2}],privacyPatterns:[]},serializer:{json:{defaultToBuiltin:true,
parsers:["JSON.parse"],stringifiers:["JSON.stringify"]}},encoder:{gzip:{encode:"window.pako.gzip",defaultEncoding:"gzip"}},domCapture:{diffEnabled:true,options:{maxMutations:500,maxLength:75E5,captureFrames:true,removeScripts:true,removeComments:true}},browser:{useCapture:true,sizzleObject:"window.Sizzle",jQueryObject:"window.jQuery",customid:["name"]}},modules:{overstat:{hoverThreshold:2E3},performance:{calculateRenderTime:true,renderTimeThreshold:6E5,filter:{navigationStart:false,unloadEventStart:false,
unloadEventEnd:false,redirectStart:false,redirectEnd:false,fetchStart:false,domainLookupStart:false,domainLookupEnd:false,connectStart:false,connectEnd:false,secureConnectionStart:false,requestStart:false,responseStart:false,responseEnd:false,domLoading:false,domInteractive:false,domContentLoadedEventStart:false,domContentLoadedEventEnd:false,domComplete:false,loadEventStart:false,loadEventEnd:false}},replay:{geolocation:{enabled:false,triggers:[{event:"load"}]},domCapture:{enabled:true,triggers:[{event:"click"},
{event:"change"},{event:"load",delay:1E3},{event:"load",screenview:"/search-results",fullDOMCapture:"true",delay:500},{event:"load",screenview:"/trip-summary",fullDOMCapture:"true",delay:1500},{event:"load",screenview:"/complete-purchase",fullDOMCapture:"true",delay:500},{event:"load",screenview:"/return",fullDOMCapture:"true",delay:500}]}},TLCookie:{appCookieWhitelist:[{regex:".*"}],tlAppKey:""}}};if(document.documentMode===8||document.documentMode===9){config.modules.replay.domCapture.enabled=false;
config.services.domCapture.diffEnabled=false}if(document.documentMode===10){config.services.domCapture.diffEnabled=false;config.modules.replay.domCapture.triggers=[{event:"change"},{event:"load",delay:500}]}if(typeof window.TLT!=="undefined"&&typeof window.TLT.isInitialized==="function"&&!TLT.isInitialized()&&typeof config==="object")window.TLT.init(config)})()},3733345,513812);
TMS.bindDependencyImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;window.clearOmnitureVars=function(){s.events=s.pageName=s.prop1=s.prop19=s.prop27=s.eVar3=s.eVar4=s.eVar5=s.eVar6=s.eVar8=s.eVar10=s.eVar11=s.eVar12=s.eVar13=s.eVar14=s.eVar29=s.eVar52=s.eVar54=s.eVar59=s.eVar63=s.eVar68=s.eVar73=s.eVar99=s.eVar121=s.eVar122=s.eVar123=s.eVar124=s.eVar125=s.eVar126=s.prop33=s.prop27=s.eVar39=s.eVar127=s.eVar134=s.eVar153=s.eVar155=s.eVar148=""};window.submitToOmni=
function(){void s.t()};window.setAmexOfferCode=function(){if($(".idp-fast-action-banner-container").length>0){var dataLayer=idp.dataLayer.digitalData||"";var cardType=dataLayer&&dataLayer.attributes&&dataLayer.attributes.cardBanner&&dataLayer.attributes.cardBanner&&dataLayer.attributes.cardBanner.cardType||"";window.cardBannerOfferCode=dataLayer&&dataLayer.attributes&&dataLayer.attributes.cardBanner&&dataLayer.attributes.cardBanner&&dataLayer.attributes.cardBanner.offerId;if(""!==cardBannerOfferCode||
void 0!==cardBannerOfferCode||"undefined"!==cardBannerOfferCode){s.linkTrackVars="prop1,events,eVar29,eVar155";s.linkTrackEvents="events,event46";s.eVar29=window.cardBannerOfferCode;s.eVar155=Bootstrapper.capitalize(cardType.toLowerCase());s.events="event46";s.prop1="join skymiles:amex offer presented";s.tl(this,"o",s.prop1);s.events=""}}};$(document).on("mousedown","idp-offer-action-banner idp-checkbox-standard label",function(){if(!$("idp-offer-action-banner idp-checkbox-standard input").is(":checked")){s.linkTrackVars=
"prop1,events,eVar29";s.linkTrackEvents="events,event47";s.eVar29=window.cardBannerOfferCode;s.events="event47";s.prop1="join skymiles:amex offer selected";s.tl(this,"o",s.prop1);s.events=""}});function skymilesEnrollmentAnalytics(){s.pageName="Join Skymiles"}$(document).ready(function(){clearOmnitureVars();skymilesEnrollmentAnalytics();submitToOmni()});$(document).on("join-skymiles-step-event",function(e){var formSection=e.originalEvent.detail;var stepText;if(formSection=="basic-info-submit"){stepText=
"join skymiles basic info:next:CTA Click";s.linkTrackVars="prop1"}else if(formSection=="contact-info-submit"){if($(".emailNotification \x3e div \x3e idp-checkbox-standard \x3e div \x3e div \x3e label \x3e input")[0].checked){s.eVar51="all";s.linkTrackVars="prop1,eVar51"}else{s.eVar51="none";s.linkTrackVars="prop1,eVar51"}stepText="join skymiles contact info:next:CTA Click";setTimeout(function(){window.setAmexOfferCode()},3E3)}else if(formSection=="login-info-submit"){stepText="join skymiles:create account:CTA Click";
s.linkTrackVars="prop1,eVar51"}s.prop1=stepText;s.tl(this,"o",s.prop1)});$(document).on("click",".idp-fast-action-banner-container idp-tab-navigation \x3e ul \x3e li \x3e a",function(e){var linkText=e.target.innerText;linkText=linkText.toLowerCase();s.linkTrackVars="prop1";s.prop1="join skymiles:amex banner:"+linkText;s.tl(this,"o","prop1")})},4057106,[4094807],698035,[509723]);