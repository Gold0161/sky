(function ensightenInit(){var ensightenOptions = {client: "delta", clientId: 912, publishPath: "dl_anderson", isPublic:0, serverComponentLocation: "tms.delta.com/delta/dl_anderson/serverComponent.php", staticJavascriptPath: "tms.delta.com/delta/dl_anderson/code/", ns: 'TMS', nexus:"tms.delta.com", scUseCacheBuster: "true", enableTagAuditBeacon : "false", enablePagePerfBeacon : "false", registryNs : "ensBootstraps", generatedOn : "Thu Nov 07 20:57:57 GMT 2024", beaconSamplingSeedValue: 11};
if ( !window[ensightenOptions.ns] ) {
window[ensightenOptions.registryNs]||(window[ensightenOptions.registryNs]={});
window[ensightenOptions.registryNs][ensightenOptions.ns]=window[ensightenOptions.ns]=function(l){function m(a){this.name="DependencyNotAvailableException";this.message="Dependency with id "+a+"is missing"}function n(a){this.name="BeaconException";this.message="There was an error durring beacon initialization";a=a||{};this.lineNumber=a.lineNumber||a.line;this.fileName=a.fileName}function q(){for(var a=c.dataDefinitionIds.length,b=!0,d=0;d<a;d++){var f=c.dataDefinitions[c.dataDefinitionIds[d]];if(!f||
null==f.endRegistration){b=!1;break}}b&&c.callOnDataDefintionComplete()}var e={},c={};c.ensightenOptions=ensightenOptions;c.scDataObj={};e.version="1.26.0";e.nexus=l.nexus||"nexus.ensighten.com";e.rand=-1;e.currSec=(new Date).getSeconds();e.options={interval:l.interval||100,erLoc:l.errorLocation||e.nexus+"/error/e.gif",scLoc:l.serverComponentLocation||e.nexus+"/"+l.client+"/serverComponent.php",sjPath:l.staticJavascriptPath||e.nexus+"/"+l.client+"/code/",alLoc:l.alertLocation||e.nexus+"/alerts/a.gif",
publishPath:l.publishPath,isPublic:l.isPublic,client:l.client,clientId:l.clientId,enableTagAuditBeacon:l.enableTagAuditBeacon,beaconSamplingSeedValue:l.beaconSamplingSeedValue||-1};e.ruleList=[];e.allDeploymentIds=[];e.runDeploymentIds=[];e.runRuleIds=[];e.exceptionList=[];e.ensightenVariables={};e.test=function(a){if(!(a.executionData.hasRun||a.executionData.runTime&&0<a.executionData.runTime.length)){for(var b=0;b<a.dependencies.length;b++)if(!1===a.dependencies[b]())return;a.execute()}};m.prototype=
Error();m.prototype||(m.prototype={});m.prototype.constructor=m;e.DependencyNotAvailableException=m;n.prototype=Error();n.prototype||(n.prototype={});n.prototype.constructor=n;e.BeaconException=n;e.checkForInvalidDependencies=function(a,b,d,f){for(a=0;a<d.length;a++)if("DEPENDENCYNEVERAVAILABLE"===d[a])return c.currentRuleId=this.id,c.currentDeploymentId=this.deploymentId,c.reportException(new e.DependencyNotAvailableException(f[a])),b&&-1!==b&&e.allDeploymentIds.push(b),!0;return!1};c.currentRuleId=
-1;c.currentDeploymentId=-1;c.reportedErrors=[];c.reportedAlerts=[];c.AF=[];c._serverTime="";c._clientIP="";c.sampleBeacon=function(){var a=!1;try{var b=(e.currSec||0)%20,d=e.options.beaconSamplingSeedValue;-1===d?a=!0:0!==b&&0===d%b&&(a=!0)}catch(f){}return a};c.getServerComponent=function(a){c.callOnGetServerComponent();c.insertScript(window.location.protocol+"//"+e.options.scLoc,!1,a||!0)};c.setVariable=function(a,b){e.ensightenVariables[a]=b};c.getVariable=function(a){return a in e.ensightenVariables?
e.ensightenVariables[a]:null};c.testAll=function(){for(var a=0;a<e.ruleList.length;a++)e.test(e.ruleList[a])};c.executionState={DOMParsed:!1,DOMLoaded:!1,dataDefinitionComplete:!1,conditionalRules:!1,readyForServerComponent:!1};c.reportException=function(a){a.timestamp=(new Date).getTime();e.exceptionList.push(a);a=window.location.protocol+"//"+e.options.erLoc+"?msg="+encodeURIComponent(a.message||"")+"&lnn="+encodeURIComponent(a.lineNumber||a.line||-1)+"&fn="+encodeURIComponent(a.fileName||"")+"&cid="+
encodeURIComponent(e.options.clientId||-1)+"&client="+encodeURIComponent(e.options.client||"")+"&publishPath="+encodeURIComponent(e.options.publishPath||"")+"&rid="+encodeURIComponent(c.currentRuleId||-1)+"&did="+encodeURIComponent(c.currentDeploymentId||-1)+"&errorName="+encodeURIComponent(a.name||"");a=c.imageRequest(a);a.timestamp=(new Date).getTime();this.reportedErrors.push(a)};c.Rule=function(a){this.execute=function(){this.executionData.runTime.push(new Date);c.currentRuleId=this.id;c.currentDeploymentId=
this.deploymentId;try{this.code()}catch(b){window[ensightenOptions.ns].reportException(b)}finally{this.executionData.hasRun=!0,-1!==this.deploymentId&&(e.runDeploymentIds.push(this.deploymentId),e.runRuleIds.push(this.id)),c.testAll()}};this.id=a.id;this.deploymentId=a.deploymentId;this.dependencies=a.dependencies||[];this.code=a.code;this.executionData={hasRun:!1,runTime:[]}};c.registerRule=function(a){if(c.getRule(a.id)&&-1!==a.id)return!1;e.ruleList.push(a);-1!==a.deploymentId&&e.allDeploymentIds.push(a.deploymentId);
c.testAll();return!0};c.getRule=function(a){for(var b=0;b<e.ruleList.length;b++)if(e.ruleList[b].id===a)return e.ruleList[b];return!1};c.getRuleList=function(){return e.ruleList};c.clearRuleList=function(){e.ruleList=[]};c.getAllDeploymentIds=function(){return e.allDeploymentIds};c.getRunRuleIds=function(){return e.runRuleIds};c.getRunDeploymentIds=function(){return e.runDeploymentIds};c.hasRuleRun=function(a){return(a=c.getRule(a))?a.executionData.hasRun:!1};e.toTwoChar=function(a){return(2===a.toString().length?
"":"0")+a};c.Alert=function(a){var b=new Date;b=b.getFullYear()+"-"+e.toTwoChar(b.getMonth())+"-"+e.toTwoChar(b.getDate())+" "+e.toTwoChar(b.getHours())+":"+e.toTwoChar(b.getMinutes())+":"+e.toTwoChar(b.getSeconds());this.severity=a.severity||1;this.subject=a.subject||"";this.type=a.type||1;this.ruleId=a.ruleId||-1;this.severity=encodeURIComponent(this.severity);this.date=encodeURIComponent(b);this.subject=encodeURIComponent(this.subject);this.type=encodeURIComponent(this.type)};c.generateAlert=function(a){a=
c.imageRequest(window.location.protocol+"//"+e.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&cid="+e.options.clientId+"&client="+e.options.client+"&publishPath="+e.options.publishPath+"&rid="+c.currentRuleId+"&did="+c.currentDeploymentId);a.timestamp=(new Date).getTime();this.reportedAlerts.push(a)};c.imageRequest=function(a){var b=new Image(0,0);b.src=a;return b};c.insertScript=function(a,b,d){var f=document.getElementsByTagName("script"),g;if(void 0!==b?b:1)for(g=
0;g<f.length;g++)if(f[g].src===a&&f[g].readyState&&/loaded|complete/.test(f[g].readyState))return;if(d){d=1==d&&"object"==typeof c.scDataObj?c.scDataObj:d;e.rand=Math.random()*("1E"+(10*Math.random()).toFixed(0));b=window.location.href;"object"===typeof d&&d.PageID&&(b=d.PageID,delete d.PageID);if("object"===typeof d)for(g in d){g=~b.indexOf("#")?b.slice(b.indexOf("#"),b.length):"";b=b.slice(0,g.length?b.length-g.length:b.length);b+=~b.indexOf("?")?"&":"?";for(k in d)b+=k+"="+d[k]+"&";b=b.slice(0,
-1)+g;break}a=a+"?namespace="+(ensightenOptions.ns+"&");a+="staticJsPath="+ensightenOptions.staticJavascriptPath+"&";a+="publishedOn="+ensightenOptions.generatedOn+"&";a+="ClientID="+encodeURIComponent(e.options.clientId)+"&PageID="+encodeURIComponent(b)}(function(h,p,u){var r=p.head||p.getElementsByTagName("head");setTimeout(function(){if("item"in r){if(!r[0]){setTimeout(arguments.callee,25);return}r=r[0]}var t=p.createElement("script");t.src=u;t.onload=t.onerror=function(){this.addEventListener&&
(this.readyState="loaded")};r.insertBefore(t,r.firstChild)},0)})(window,document,a)};c.loadScriptCallback=function(a,b,d){var f=document.getElementsByTagName("script"),g;d=f[0];for(g=0;g<f.length;g++)if(f[g].src===a&&f[g].readyState&&/loaded|complete/.test(f[g].readyState))try{b()}catch(h){window[ensightenOptions.ns].reportException(h)}finally{return}f=document.createElement("script");f.type="text/javascript";f.async=!0;f.src=a;f.onerror=function(){this.addEventListener&&(this.readyState="loaded")};
f.onload=f.onreadystatechange=function(){if(!this.readyState||"complete"===this.readyState||"loaded"===this.readyState){this.onload=this.onreadystatechange=null;this.addEventListener&&(this.readyState="loaded");try{b.call(this)}catch(h){window[ensightenOptions.ns].reportException(h)}}};d.parentNode.insertBefore(f,d)};c.insertPageFiles=function(a){var b=0,d=0,f=function(){d==a.length-1&&window[ensightenOptions.ns].callOnPageSpecificCompletion();d++};for(b=0;b<a.length;++b)window[ensightenOptions.ns].loadScriptCallback(a[b],
f)};c.unobtrusiveAddEvent=function(a,b,d){try{var f=a[b]?a[b]:function(){};a[b]=function(){d.apply(this,arguments);return f.apply(this,arguments)}}catch(g){window[ensightenOptions.ns].reportException(g)}};c.anonymous=function(a,b){return function(){try{c.currentRuleId=b?b:"anonymous",a()}catch(d){window[ensightenOptions.ns].reportException(d)}}};c.setCurrentRuleId=function(a){c.currentRuleId=a};c.setCurrentDeploymentId=function(a){c.currentDeploymentId=a};c.bindImmediate=function(a,b,d){if("function"===
typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindDOMParsed=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindDOMLoaded=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],
code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindPageSpecificCompletion=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindOnGetServerComponent=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.readyForServerComponent}],
code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindDataDefinitionComplete=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete}],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.checkHasRun=function(a){if(0===a.length)return!0;for(var b,d=0;d<a.length;++d)if(b=c.getRule(parseInt(a[d],10)),!b||!b.executionData.hasRun)return!1;return!0};
c.bindDependencyImmediate=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyDOMLoaded=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.DOMLoaded});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});
if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyDOMParsed=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.DOMParsed});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==
typeof a)return!1;c.registerRule(a)}};c.bindDependencyPageSpecificCompletion=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.conditionalRules});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyOnGetServerComponent=function(a,
b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.readyForServerComponent});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyPageSpecificCompletion=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete});
h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.dataDefintionIds=[];c.dataDefinitions=[];c.pageSpecificDataDefinitionsSet=!1;c.setPageSpecificDataDefinitionIds=function(a){for(var b=a?a.length:0,d=0;d<b;d++){var f=a[d];if(Array.prototype.indexOf)-1==c.dataDefinitionIds.indexOf(f)&&c.dataDefinitionIds.push(f);else{for(var g=!1,h=
c.dataDefinitionIds.length,p=0;p<h;p++)if(c.dataDefinitionIds[p]===f){g=!0;break}g||c.dataDefinitionIds.push(f)}}c.pageSpecificDataDefinitionsSet=!0;q()};c.DataDefinition=function(a,b){this.id=a;this.registrationFn=b;this.endRegistrationTime=this.startRegistrationTime=null;this.startRegistration=function(){this.startRegistrationTime=new Date};this.endRegistration=function(){this.endRegistrationTime=new Date}};c.registerDataDefinition=function(a,b){var d=c.dataDefinitions[b];d||(d=new c.DataDefinition(b,
a),c.dataDefinitions[b]=d);d.startRegistrationTime||(d.startRegistration(),d.registrationFn(),d.endRegistration());c.pageSpecificDataDefinitionsSet&&q()};c.callOnDataDefintionComplete=function(){c.executionState.dataDefinitionComplete=!0;c.testAll()};c.callOnDOMParsed=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].testAll()};c.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].executionState.DOMLoaded=
!0;window[ensightenOptions.ns].testAll()};c.callOnPageSpecificCompletion=function(){for(var a=document.getElementsByTagName("script"),b=0,d=a.length;b<d;b++)if(a[b].src&&a[b].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&"loaded"!=a[b].readyState&&"complete"!=a[b].readyState){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=!0;window[ensightenOptions.ns].testAll()},1)};c.callOnGetServerComponent=
function(){window[ensightenOptions.ns].executionState.readyForServerComponent=!0;window[ensightenOptions.ns].testAll()};c.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};c.hasDOMLoaded=function(){return window[ensightenOptions.ns].executionState.DOMLoaded};c.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};var v=function(){var a=[],b=!1,d=!1;return{add:function(f){b&&!d?f():"function"==typeof f&&(a[a.length]=
f)},exec:function(){d=!0;do{var f=a;a=[];b=!0;for(var g=0;g<f.length;g++)try{f[g].call(window)}catch(h){window[ensightenOptions.ns].reportException(h)}}while(0<a.length);d=!1},haveRun:function(){return b}}};c.new_fArray=function(){return v()};e.timer=null;(function(){function a(f,g){return function(){f.apply(g,arguments)}}window.console||(window.console={});var b=window.console;if(!b.log)if(window.log4javascript){var d=log4javascript.getDefaultLogger();b.log=a(d.info,d);b.debug=a(d.debug,d);b.info=
a(d.info,d);b.warn=a(d.warn,d);b.error=a(d.error,d)}else b.log=function(){};b.debug||(b.debug=b.log);b.info||(b.info=b.log);b.warn||(b.warn=b.log);b.error||(b.error=b.log)})();document.addEventListener?(-1<navigator.userAgent.indexOf("AppleWebKit/")?e.timer=window.setInterval(function(){/loaded|interactive|complete/.test(document.readyState)&&(clearInterval(e.timer),c.callOnDOMParsed())},50):document.addEventListener("DOMContentLoaded",c.callOnDOMParsed,!1),window.addEventListener("load",c.callOnDOMLoaded,
!1)):(setTimeout(function(){var a=window.document;(function(){try{if(!document.body)throw"continue";a.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1),window.attachEvent("onload",function(){window[ensightenOptions.ns].callOnDOMLoaded()}));document.readyState&&"complete"===document.readyState&&(c.executionState.DOMParsed=!0,c.executionState.DOMLoaded=!0);"true"===e.options.enableTagAuditBeacon&&c.sampleBeacon()&&
window.setTimeout(function(){if(window[ensightenOptions.ns]&&!window[ensightenOptions.ns].mobilePlatform)try{for(var a=[],b,d,f,g,h=0;h<e.ruleList.length;++h)d=e.ruleList[h],f=d.executionData.hasRun?"1":"0",g=d.deploymentId.toString()+"|"+d.id.toString()+"|"+f,a.push(g);b="["+a.join(";")+"]";var p=window.location.protocol+"//"+e.nexus+"/"+encodeURIComponent(l.client)+"/"+encodeURIComponent(l.publishPath)+"/TagAuditBeacon.rnc?cid="+encodeURIComponent(l.clientId)+"&data="+b+"&idx=0&r="+e.rand;c.imageRequest(p)}catch(u){c.currentRuleId=
-1,c.currentDeploymentId=-1,a=new e.BeaconException(u),window[ensightenOptions.ns].reportException(a)}},3E3);window.setInterval(c.testAll,e.options.interval);return c}(ensightenOptions);
"true"===ensightenOptions.enablePagePerfBeacon&&window[ensightenOptions.ns]&&window[ensightenOptions.ns].sampleBeacon()&&window[ensightenOptions.ns].bindDOMParsed(function(){if(!window[ensightenOptions.ns].mobilePlatform){var l=window.performance;if(l){l=l.timing||{};var m=l.navigationStart||0,n={connectEnd:"ce",connectStart:"cs",domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",domLoading:"dl",domainLookupEnd:"dle",domainLookupStart:"dls",fetchStart:"fs",
loadEventEnd:"lee",loadEventStart:"les",redirectEnd:"rede",redirectStart:"reds",requestStart:"reqs",responseStart:"resps",responseEnd:"respe",secureConnectionStart:"scs",unloadEventStart:"ues",unloadEventEnd:"uee"};var q="&ns="+encodeURIComponent(l.navigationStart);for(var e in n)if(void 0!==l[e]){var c=l[e]-m;q+="&"+n[e]+"="+(0<c?encodeURIComponent(c):0)}else q+="&"+n[e]+"=-1";window[ensightenOptions.ns].timing=q;e=ensightenOptions.nexus||"nexus.ensighten.com";l=ensightenOptions.staticJavascriptPath||
"";q=l.indexOf("/",0);m=l.indexOf("/code/");l=l.substring(q,m)+"/perf.rnc";l+="?cid="+encodeURIComponent(ensightenOptions.clientId)+window[ensightenOptions.ns].timing;window[ensightenOptions.ns].imageRequest("//"+e+l)}}});
	
    /*
     MIT License (c) copyright 2013 original author or authors */
    window[ensightenOptions.ns].data||(window[ensightenOptions.ns].when=function(){function f(a,b,d,c){return l(a).then(b,d,c)}function p(a){this.then=a}function l(a){return c(function(b){b(a)})}function c(b){function g(a){k&&(r=e(a),d(k,r),k=u)}function f(a){g(h(a))}function q(b){k&&d(k,a(b))}var r,k=[];try{b(g,f,q)}catch(E){f(E)}return new p(function(a,b,d){return c(function(c,g,e){k?k.push(function(f){f.then(a,b,d).then(c,g,e)}):n(function(){r.then(a,b,d).then(c,g,e)})})})}function e(a){return a instanceof
    p?a:a!==Object(a)?m(a):c(function(b,d,c){n(function(){try{var g=a.then;"function"===typeof g?z(g,a,b,d,c):b(m(a))}catch(y){d(y)}})})}function m(a){var b=new p(function(d){try{return"function"==typeof d?e(d(a)):b}catch(D){return h(D)}});return b}function h(a){var b=new p(function(d,c){try{return"function"==typeof c?e(c(a)):b}catch(F){return h(F)}});return b}function a(b){var d=new p(function(c,g,e){try{return"function"==typeof e?a(e(b)):d}catch(y){return a(y)}});return d}function d(a,b){n(function(){for(var d,
    c=0;d=a[c++];)d(b)})}function b(a,b,d,g,e){q(2,arguments);return f(a,function(a){return c(function(d,c,g){function e(a){h(a)}function q(a){u(a)}var k;var n=a.length>>>0;var t=Math.max(0,Math.min(b,n));var w=[];var x=n-t+1;var m=[];if(t){var h=function(a){m.push(a);--x||(u=h=r,c(m))};var u=function(a){w.push(a);--t||(u=h=r,d(w))};for(k=0;k<n;++k)k in a&&f(a[k],q,e,g)}else d(w)}).then(d,g,e)})}function t(a,b,d,c){q(1,arguments);return k(a,w).then(b,d,c)}function k(a,b){return f(a,function(a){return c(function(d,
    c,g){var e,q;var k=e=a.length>>>0;var r=[];if(k){var n=function(a,e){f(a,b).then(function(a){r[e]=a;--k||d(r)},c,g)};for(q=0;q<e;q++)q in a?n(a[q],q):--k}else d(r)})})}function n(a){1===x.push(a)&&A(g)}function g(){for(var a,b=0;a=x[b++];)a();x=[]}function q(a,b){for(var d,c=b.length;c>a;)if(d=b[--c],null!=d&&"function"!=typeof d)throw Error("arg "+c+" must be a function");}function r(){}function w(a){return a}f.defer=function(){var a,b;var d={promise:u,resolve:u,reject:u,notify:u,resolver:{resolve:u,
    reject:u,notify:u}};d.promise=a=c(function(c,g,e){d.resolve=d.resolver.resolve=function(d){if(b)return l(d);b=!0;c(d);return a};d.reject=d.resolver.reject=function(d){if(b)return l(h(d));b=!0;g(d);return a};d.notify=d.resolver.notify=function(a){e(a);return a}});return d};f.resolve=l;f.reject=function(a){return f(a,h)};f.join=function(){return k(arguments,w)};f.all=t;f.map=k;f.reduce=function(a,b){var d=z(B,arguments,1);return f(a,function(a){var c=a.length;d[0]=function(a,d,g){return f(a,function(a){return f(d,
    function(d){return b(a,d,g,c)})})};return G.apply(a,d)})};f.any=function(a,d,c,g){return b(a,1,function(a){return d?d(a[0]):a[0]},c,g)};f.some=b;f.isPromise=function(a){return a&&"function"===typeof a.then};p.prototype={otherwise:function(a){return this.then(u,a)},ensure:function(a){function b(){return l(a())}return this.then(b,b).yield(this)},yield:function(a){return this.then(function(){return a})},spread:function(a){return this.then(function(b){return t(b,function(b){return a.apply(u,b)})})},always:function(a,
    b){return this.then(a,a,b)}};var u;var x=[];var H=setTimeout;var A="function"===typeof setImmediate?"undefined"===typeof window?setImmediate:setImmediate.bind(window):"object"===typeof process&&process.nextTick?process.nextTick:function(a){H(a,0)};var v=Function.prototype;var C=v.call;var z=v.bind?C.bind(C):function(a,b){return a.apply(b,B.call(arguments,2))};v=[];var B=v.slice;var G=v.reduce||function(a){var b=0;var d=Object(this);var c=d.length>>>0;var g=arguments;if(1>=g.length)for(;;){if(b in
    d){g=d[b++];break}if(++b>=c)throw new TypeError;}else g=g[1];for(;b<c;++b)b in d&&(g=a(g,d[b],b,d));return g};return f}(),function(){function f(c,f){return l.all(f||[],function(e){return c.apply(null,e)})}function p(e){var m=c.call(arguments,1);return function(){return f(e,m.concat(c.call(arguments)))}}var l=window[ensightenOptions.ns].when;var c=[].slice;l.apply=f;l.call=function(e){return f(e,c.call(arguments,1))};l.lift=p;l.bind=p;l.compose=function(e){var m=c.call(arguments,1);return function(){var h=
    c.call(arguments);h=f(e,h);return l.reduce(m,function(a,d){return d(a)},h)}}}(),window[ensightenOptions.ns].data=function(f,p){function l(a,d){this.name="DataDefinitionException";this.message=d||"Data definitions cannot be resolved as there are invalid id(s): "+a}var c={engines:{memory:{get:function(a){if(e.utils.isArray(a)){for(var d=[],b=0;b<a.length;b++)d.push(c.data[a[b]]);return f[ensightenOptions.ns].when.resolve(d)}d=c.dataDefinitions[a]||{storage:{get:function(){}}};d=d.storage.get(d);c.data[a]=
    d;return f[ensightenOptions.ns].when.resolve(c.data[a])},set:function(a,d){if(e.utils.isArray(a))for(var b in a)c.data[a[b]]=d[b];else c.data[a]=d;return f[ensightenOptions.ns].when.resolve(!0)},remove:function(a){if(e.utils.isArray(a))for(var d in a)delete c.data[a[d]];else delete c.data[a];return f[ensightenOptions.ns].when.resolve(!0)},clear:function(a){c.data={};c.definitions={};return f[ensightenOptions.ns].when.resolve(!0)},all:function(){return f[ensightenOptions.ns].when.resolve(c.data)}}},
    normalizeInputArgs:function(a,d){var b={key:[],val:p},c;if(e.utils.isPlainObject(a))for(c in b.val=[],a)b.key.push(c),b.val.push(a[c]);else e.utils.isArray(a),b.key=a,b.val=d;return b},definitions:{},data:{}},e={utils:{isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},escapeRegEx:function(a){try{return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}catch(d){return a}}}},m=function(){return f[ensightenOptions.ns].when.reject("Not Implemented.")};
    l.prototype=Error();l.prototype||(l.prototype={});l.prototype.constructor=l;c.DataDefinitionException=l;c.checkForInvalidDataDefinitions=function(a){e.utils.isArray(a)||(a=[a]);return a&&0<a.length&&(a=a.join(","),-1<a.indexOf("invalid_id"))?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a)),!0):!1};c.collectAvailableDataDefinitions=function(a){for(var d=[],b=0;b<a.length;b++){var t=parseInt(a[b],10),k=f[ensightenOptions.ns].dataDefinitions[t];if(null===k||k===p)if(k=e.storage.session.get({id:t}),
    null!==k&&k!==p)e.set(t,k),c.dataDefinitions[t]={id:t,load:"visitor",storage:e.storage.visitor,missingDDFromCache:!0},d.push(f[ensightenOptions.ns].data.get(""+t));else return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Invalid data definition used: "+t)),{promises:[],isInvalid:!0};else d.push(f[ensightenOptions.ns].data.get(""+a[b]))}return{promises:d,isInvalid:!1}};c.getSync=function(a){function d(a){var d=a.extract||t,c=a.transform||k,g=!1,e=null,f=null;try{e=d()}catch(v){e=
    null,g=!0}try{f=c(e)}catch(v){f=null,g=!0}g&&b.push(a.id);return f}var b=[],t=function(){return document},k=function(a){return null!==a&&a!==p?a.toString():null},n=parseInt(a);a="string"===typeof a?a.split("."):[];var g={},q="";if(!isNaN(n)&&"undefined"===typeof c.dataDefinitions[n])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(n,"Error resolving data definition: "+n+".  Does not exist on the page.")),"Data definition specified does not exist on the page";if(isNaN(n)&&
    "undefined"===typeof c.dataDefinitionsBySourceCollName[""+a[0]+"."+a[1]+"."+a[2]])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definition: "+a[0]+"."+a[1]+"."+a[2]+".  Does not exist on the page.")),"Data definition specified does not exist on the page";isNaN(n)?3==a.length&&(g=e.getDataDefinitionBySourceCollectionName(a[0],a[1],a[2])):g=e.getDataDefinitionById(n);q=g.load&&g.load.match(/(session|visitor)/i)&&g.storage&&g.storage.get?g.storage.get(g):
    d(g);0<b.length&&f[ensightenOptions.ns].reportException(new c.DataDefinitionException(b,"Error resolving data definitions synchronously: "+b));return q};c.dataDefinitions={};c.dataDefinitionsBySourceCollName={};e.defineEngine=function(a,d){var b,e=["get","set","remove","clear","all"];c.engines[a]=d;if(!d.returnsPromise)for(b=0;b<e.length;b++){var k=e[b];d[k]=f[ensightenOptions.ns].when.lift(d[k])}};e.storage={instance:{set:function(a,d){},get:function(a){return c.getSync(a.id)}},page:{set:function(a,
    d){},get:function(a){return c.data[a.id]}},session:{set:function(a,d){var b=e.storage.session.get({id:a}),c=new Date,k=c.getTime();c.setTime(k+18E5);null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d,{expires:c.toGMTString()});b={expires:c.getTime(),value:d};f[ensightenOptions.ns].data.local.utils.set(a,b)},get:function(a){var d=f[ensightenOptions.ns].data.cookie.utils.get(a.id),b=f.JSON&&f.JSON.stringify?f.JSON:f[ensightenOptions.ns].JSON;b=b||{};var c=new Date;c=c.getTime();if(null===
    d){try{var e=b.parse(f[ensightenOptions.ns].data.local.utils.get(a.id))}catch(n){e=null}null!=e&&(e.expires=+e.expires,c<=e.expires?d=e.value:""==e.expires&&e.value!=p?d=e.value:f[ensightenOptions.ns].data.local.utils.remove(a.id))}return d}},visitor:{set:function(a,d){var b=e.storage.session.get({id:a});null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d);f[ensightenOptions.ns].data.local.utils.set(a,{expires:"",value:d})},get:function(a){return e.storage.session.get(a)}}};e.getEngine=
    e.engine=function(a){return a?c.engines[a]||{get:m,set:m,remove:m,clear:m,all:m}:c.engines};e.all=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").all()};e.get=function(a,d,b){d=d||"memory";b=b||{};-1<a.indexOf(",")?(a=a.split(","),a=c.normalizeInputArgs(a)):a=c.normalizeInputArgs(a);return b.wait?c.getWait(a.key,f[ensightenOptions.ns].data.engine(d),b):c.data&&c.data.hasOwnProperty(a.key)?f[ensightenOptions.ns].data.engine(d).get(a.key):c.getWaitForKey(a.key,f[ensightenOptions.ns].data.engine(d),
    b)};c.getWait=function(a,d,b){var c=+new Date,k=f[ensightenOptions.ns].when.defer(),n=function(){var c=d.get(a);if(-1===b.wait)return c;c.then(function(a){b.setCheck(a)?k.resolve(a):setTimeout(g,b.interval)},function(a){setTimeout(g,b.interval)})},g=function(){var a=+new Date-c;-1!==b.wait&&a<b.wait?n():k.reject("Timeout")};b.interval=b.interval||500;b.wait=b.wait||5E3;e.utils.isArray(a)?b.setCheck=b.setCheck||function(a){for(var b=!0,d=0;d<a.length;d++)b=b&&!!a[d];return b}:b.setCheck=b.setCheck||
    function(a){return!!a};n();return k.promise};c.getWaitForKey=function(a,d,b){var e=f[ensightenOptions.ns].when.defer(),k=function(){if(c.data&&c.data.hasOwnProperty(a)){var g=d.get(a);if(-1===b.wait)return g;g.then(function(a){e.resolve(a)},function(a){e.reject(a)})}else setTimeout(n,b.interval)},n=function(){k()};b.interval=b.interval||100;b.wait=b.wait||1;k();return e.promise};e.set=function(a,d,b){var e=c.normalizeInputArgs(a,d);Array.prototype.slice.call(arguments);return f[ensightenOptions.ns].data.engine(b||
    "memory").set(e.key,e.val)};e.remove=function(a,d){return f[ensightenOptions.ns].data.engine(d||"memory").remove(a)};e.clear=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").clear()};e.define=function(a,d){d&&(a.name=d.id||d.name);if(!a.name)return f[ensightenOptions.ns].when.reject(Error("Invalid parameters: missing 'name'"));a.id=a.name;var b=a.load||"page";a.load=a.load||"javascript";a.load=-1<a.load.indexOf("javascript")?a.load:a.load+",javascript";a.trigger=a.trigger||function(){return f[ensightenOptions.ns].when.resolve()};
    a.priv=a.priv||!1;a.collection=a.collection||"Data Layer";a.persist=f[ensightenOptions.ns].data.engine("memory");a.storage=e.storage[b.toLowerCase()]||e.storage.page;var h=a.extract||function(){return document},k=a.transform||function(a){return a},n=function(b,d){var c=[];c.push(a.persist.set(b,d));a.storage.set(a.id,d);"object"==typeof f[ensightenOptions.ns].data.dataExport&&f[ensightenOptions.ns].data.dataExport(b,d,a.collection);f[ensightenOptions.ns].when.all(c).then(function(a){g.resolve(a)},
    function(a){g.reject(a)})},g=f[ensightenOptions.ns].when.defer();try{var q=a.trigger()}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition trigger: '+a.dataDefName+", ID:"+a.id+". Using bottom of body trigger.")),q=f[ensightenOptions.ns].data.bottomOfBodyTrigger()}q.then(function(){g.resolve(f[ensightenOptions.ns].when.reduce([function(){try{return h()}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,
    '"'+r+'" error caught in Data Definition extractor: '+a.dataDefName+", ID:"+a.id+".")),null}}(),function(){try{return k.apply(this,arguments)}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition transformer: '+a.dataDefName+", ID "+a.id+".")),null}},n],function(b,d,c,e){if(1==c)return d(b);2==c&&d(a.name,b)}))},function(a){g.reject(a)});c.dataDefinitions[a.id]=a;c.dataDefinitionsBySourceCollName[""+a.source+"."+a.collection+
    "."+a.dataDefName]=a;return g.promise};e.checkConditions=function(a){var d,b={lt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+b)),!1):d<e},gt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+
    b)),!1):d>e},eql:function(a,b){return a==b},exists:function(a,b){return null==a||a==p||""==a?!1:!0},re:function(a,b,d){b=new RegExp(b,d?"i":"");try{return a.match(b)}catch(q){return!1}},starts:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,"^"+d,c)},ends:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,d+"$",c)},contains:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,".*"+d+".*",c)}};b.is=b.eql;b["starts with"]=b.starts;b["ends with"]=b.ends;b["is greater than"]=b.gt;b["is less than"]=
    b.lt;b.matches=b.re;for(d=0;d<a.values.length;d++){var h=(a.customComparator?a.customComparator[d]?a.customComparator[d]:b[a.comparators[d]]:b[a.comparators[d]])(a.values[d],a.compareTo[d],a.caseInsensitive?a.caseInsensitive[d]||!1:!1);a.not[d]&&(h=!h);if(!h)return!1}return!0};e.triggerPromise=function(a,d,b){b=b||5E3;var c=+new Date,e=f[ensightenOptions.ns].when.defer();(function(){var f=a();f!=d?e.resolve(f):+new Date-c<b?setTimeout(arguments.callee,200):e.reject("timed out")})();return e.promise};
    e.timeoutPromise=function(a,d){var b=f[ensightenOptions.ns].when.defer();d=d||800;a.then(b.resolve,b.reject);setTimeout(function(){b.reject(Error("timed out"))},d);return b.promise};e.delayTrigger=function(a){a=a||10;var d=f[ensightenOptions.ns].when.defer();setTimeout(function(){d.resolve()},a);return d.promise};e.delayUntilTrigger=function(a,d,b,c){b=b||null;c=c||200;var e=+new Date,h=f[ensightenOptions.ns].when.defer();(function(){var g=a();g!=d?h.resolve(g):b?+new Date-e<b?setTimeout(arguments.callee,
    c):h.reject("timed out"):setTimeout(arguments.callee,c)})();return h.promise};c.applyTrigger=function(a){var d=f[ensightenOptions.ns].when.defer();a(function(){d.resolve(!0)});return d.promise};e.immediateTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindImmediate)};e.bottomOfBodyTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMParsed)};e.whenValueExistsTrigger=function(){return f[ensightenOptions.ns].when.resolve(this.extract())};e.afterEnsightenCompleteTrigger=
    function(){return c.applyTrigger(f[ensightenOptions.ns].bindPageSpecificCompletion)};e.afterElementsDownloadedTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMLoaded)};e.getAllDataDefinitionsOnCurrentPage=function(){return c.dataDefinitions};e.getAllDataDefinitionsOnCurrentPage_S_C_N=function(){return c.dataDefinitionsBySourceCollName};e.getDataDefinitionById=function(a){return c.dataDefinitions[a||-1]||{}};e.getDataDefinitionBySourceCollectionName=function(a,d,b){return c.dataDefinitionsBySourceCollName[""+
    a+"."+d+"."+b]||{}};e.getDataDefinitionByPercentSyntax=function(a){a=(""+a).split("_");return 1>a.length?{}:c.dataDefinitions[a[1]]||{}};e.resolve=function(a,d){var b=this,h=null;if(!c.checkForInvalidDataDefinitions(a))if(d)f[ensightenOptions.ns].bindDataDefinitionComplete(function(){var e=c.collectAvailableDataDefinitions(a);e.isInvalid||f[ensightenOptions.ns].when.all(e.promises).then(function(e){try{d.apply(b,e)}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+
    a+". Details: "+r))}},function(b){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+a+". Details: "+b))})});else{h=[];var k=a;e.utils.isArray(a)||(k=[a]);for(var m=0;m<k.length;m++)h.push(c.getSync(k[m]));return h=e.utils.isArray(a)?h:h[0]}};e.extract=function(a,d){var b="",c=function(a,b){var d=~b.indexOf("#")?b.split("#")[1]:"",c=d?0:~b.indexOf("[")?parseInt(b.match(/\[(\d+)\]/)[1]):0,e=(d?b.split("#")[0]:c?b.split("[")[0]:b).toLowerCase();
    if(a==document&&"html"==e&&0==c)return document.getElementsByTagName("html")[0];if(~b.indexOf("#"))return document.getElementById(b.split("#")[1]);var g=a.firstChild;if(!g)return null;var f=0;for(c=0!=c?c-1:c;g;){if(1==g.nodeType){if(g.tagName.toLowerCase()==e&&""!=d&&g.id==d||g.tagName.toLowerCase()==e&&f==c&&""==d)return g;g.tagName.toLowerCase()==e&&f++}g=g.nextSibling}},e=function(a,b){a=a.split("/");for(var d=c(b||document,a[1]),e=2;e<a.length;e++){if(null==d)return null;d=c(d,a[e])}return d},
    h=function(){for(var a={},b=f.document.getElementsByTagName("META")||[],d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";0!==e.length&&(a[e]=b[d].content)}return a}(),g=function(a){var b=h[a];if(b)return b;b=f.document.getElementsByTagName("META")||[];for(var d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";if(a==e)return b[d].content}},q=function(a){return(val=(new RegExp("&"+a+"=([^&]*)")).exec(f.location.search.replace(/^\?/,"&")))?val[0].split("=")[1]:
    ""},r=function(a){return(val=(new RegExp("^"+a+"=.*|;\\s*"+a+"=.*")).exec(f.document.cookie))?val[0].split("=")[1].split(";")[0]:""},m=function(a){(a=l(a))&&a.nodeType&&1==a.nodeType&&(a=a.value||a.innerHTML||"");return a.toString().replace(/\n|\r|\s\s+/g,"")||""},l=function(a){var b="";if(0==a.indexOf("/HTML/BODY"))b=e(a);else try{b=eval(a)}catch(A){b=""}return b};try{return d?"meta"==d?b=g(a):"cookie"==d?b=r(a):"param"==d?b=q(a):"content"==d?b=m(a):"event"==d?b=l(a):"var"==d&&(b=f[a]):b=g(a)||r(a)||
    q(a)||m(a)||l(a)||f[a]||"",b||""}catch(x){return""}};if("undefined"==typeof h)var h={exports:{}};return e}(window),window[ensightenOptions.ns].data.defineEngine("store",function(){function f(a){return function(){var d=Array.prototype.slice.call(arguments,0);d.unshift(b);k.appendChild(b);b.addBehavior("#default#userData");b.load(h);d=a.apply(store,d);k.removeChild(b);return d}}function p(a){return a.replace(l,"___")}var l=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),c={},e=window,m=e.document,
    h="localStorage",a,d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.set=function(a,b){};c.get=function(a){};c.remove=function(a){};c.clear=function(){};try{if(h in e&&e[h]){var b=e[h];c.set=function(a,c){var e,g=window.JSON&&window.JSON.stringify?window.JSON:window[ensightenOptions.ns].JSON;if(d(a)){var f=0;for(e=a.length;f<e;f++)b.setItem(a[f],"string"===typeof c[f]?c[f]:g.stringify(c[f]))}else b.setItem(a,"string"===typeof c?c:g.stringify(c))};c.get=function(a){if(d(a)){var c=
    {},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=b.getItem(a[f]);return c}return b.getItem(a)};c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)b.removeItem(a[e])}else b.removeItem(a)};c.clear=function(){b.clear()};c.all=function(){return b}}else if("globalStorage"in e&&e.globalStorage)b=e.globalStorage[e.location.hostname],c.set=function(a,c){if(d(a)){var e;var f=0;for(e=a.length;f<e;f++)b[a[f]]=c[f]}else b[a]=c},c.get=function(a){if(d(a)){var c={},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=
    b[a[f]]&&b[a[f]].value;return c}return b[a]&&b[a].value},c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)delete b[a[e]]}else delete b[a]},c.clear=function(){for(var a in b)delete b[a]},c.all=function(){return b};else if(m.documentElement.addBehavior){try{var t=new ActiveXObject("htmlfile");t.open();t.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>');t.close();var k=t.w.frames[0].document;b=k.createElement("div")}catch(g){b=m.createElement("div"),
    k=m.body}c.set=f(function(a,b,e){if(d(b)){var f;var g=0;for(f=b.length;g<f;g++){fixedKey=p(b[g]);if(void 0===e[g])return c.remove(fixedKey);a.setAttribute(fixedKey,e[g]);a.save(h)}}else{fixedKey=p(b);if(void 0===e)return c.remove(fixedKey);a.setAttribute(fixedKey,e);a.save(h)}});c.get=f(function(a,b){if(d(b)){var c={},e;var f=0;for(e=b.length;f<e;f++){var g=p(b[f]);c[b[f]]=a.getAttribute(g)}return c}b=p(b);return a.getAttribute(b)});c.remove=f(function(a,b){if(d(b)){var c;var e=0;for(c=b.length;e<
    c;e++)a.removeAttribute(p(b[e])),a.save(h)}else b=p(b),a.removeAttribute(b),a.save(h)});c.clear=f(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(h);for(var d=0,c;c=b[d];d++)a.removeAttribute(c.name);a.save(h)});c.all=f(function(a){for(var b=a.XMLDocument.documentElement.attributes,d={},c=0,e;e=b[c];++c){var f=p(e.name);d[e.name]=a.getAttribute(f)}return d})}}catch(g){}var n={};for(a in c)n[a]=c[a];n.testStorage=function(){try{var a="tk_"+Math.ceil(5E7*Math.random());n.set(a,"test");
    if("test"===n.get(a))return n.remove(a),!0}catch(q){}return!1};c.utils=n;return window[ensightenOptions.ns].data.local=c}()),window[ensightenOptions.ns].data.defineEngine("cookie",function(f,p){var l=function(){return l.get.apply(l,arguments)},c=l.utils={isArray:Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},isPlainObject:window[ensightenOptions.ns].data.utils.isPlainObject,toArray:function(c){return Array.prototype.slice.call(c)},getKeys:Object.keys||function(c){var e=
    [],f="";for(f in c)c.hasOwnProperty(f)&&e.push(f);return e},escape:function(c){return String(c).replace(/[,;"\\=\s%]/g,function(c){return encodeURIComponent(c)})},retrieve:function(c,f){return null==c?f:c},getAllCookies:function(){if(""===f.cookie)return{};for(var c=f.cookie.split("; "),m={},h=0,a=c.length;h<a;h++){var d=c[h].split("=");m[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return m},set:function(e,m,h){h=h||-1;if(c.isPlainObject(e))for(var a in e)e.hasOwnProperty(a)&&l.set(a,e[a],
    m);else if(c.isArray(e)){var d;a=0;for(d=e.length;a<d;a++)l.set(e[a],m[a],h)}else{a=h.expires!==p?h.expires:l.defaults.expires||"";"number"===typeof a&&(a=new Date(a));a=c.isPlainObject(a)&&"toGMTString"in a?";expires="+a.toGMTString():c.isPlainObject(a)&&a instanceof Date?";expires="+a.toUTCString():";expires="+a;d=(d=h.path||l.defaults.path)?";path="+d:"";var b=h.domain||l.defaults.domain;b=b?";domain="+b:"";h=h.secure||l.defaults.secure?";secure":"";f.cookie=c.escape(e)+"="+c.escape(m)+a+d+b+h}},
    get:function(e,f){f=f||p;var h=c.getAllCookies();if(c.isArray(e)){for(var a={},d=0,b=e.length;d<b;d++)a[e[d]]=c.retrieve(h[e[d]],f),a[e[d]]===p&&(a[e[d]]=null);return a}a=c.retrieve(h[e],f);return a===p?null:a},getGMTString:function(c){var e=new Date;e.setTime(e.getTime()+864E5*c);return e.toGMTString()}};l.defaults={path:"/",expires:c.getGMTString(90)};l.set=function(e,f){c.set(e,f)};l.remove=function(e){e=c.isArray(e)?e:c.toArray(arguments);for(var f=0,h=e.length;f<h;f++)c.set(e[f],"",{expires:-1})};
    l.clear=function(){return l.remove(c.getKeys(c.getAllCookies()))};l.get=function(e,f){return c.get(e,f)};l.all=function(){return c.getAllCookies()};l.utils=c;return window[ensightenOptions.ns].data.cookie=l}(document)));
		
window[ensightenOptions.ns].ensEvent||(window[ensightenOptions.ns].ensEvent=function(p,u){var k={queue:{},pollQueue:{},pushTrigger:function(b,c){if("[object Array]"===Object.prototype.toString.call(b)){for(var g=0;g<b.length;g++)k.pushTrigger(b[g],c);return!0}if("string"!=typeof b)return!1;this.queue[b]=this.queue[b]||{fn:[]};"function"==typeof c&&this.queue[b].fn.push(c);return!0},callTrigger:function(b,c,g){if("string"!=typeof b)return!1;b=k.queue[b];if("object"==typeof b&&b.fn&&b.fn.length&&(0!=
b.fireOnFirstSet&&c==u||c!=u&&0!=b.fireOnUpdate))for(c=0;c<b.fn.length;c++)try{b.fn[c].call(this)}catch(n){p[ensightenOptions.ns].reportException(n)}},setPollOptions:function(b,c,g){this.queue[b]=this.queue[b]||{fn:[]};this.queue[b].fireOnFirstSet=c;this.queue[b].fireOnUpdate=g},callPoll:function(b,c,g,p,r){if("string"==typeof b&&c&&c.length&&!(1>c.length)){for(var n=0;n<c.length;n++)k.setPollOptions(c[n],p,r);k.pushWatch(b,c,g)}},pushWatch:function(b,c,g){this.pollQueue[b]||(this.pollQueue[b]={previousVal:u,
eventArr:[],valueFn:g});this.pollQueue[b].eventArr=this.pollQueue[b].eventArr.concat(c);this.pollQueue[b].valueFn=g},globalWatch:function(){setInterval(function(){for(var b in k.pollQueue){var c=k.pollQueue[b],g=c.valueFn(b);if(c.previousVal!==g&&null!==g&&""!==g){for(var n=0;n<c.eventArr.length;n++)k.callTrigger.call(p,c.eventArr[n],c.previousVal,g);k.pollQueue[b].previousVal=g}}},500)}};k.globalWatch();return{add:function(b,c){return k.pushTrigger(b,c)},get:function(b){return k.queue[b]},trigger:function(b,
c){return k.callTrigger.call(c||p,b)},poll:function(b,c,g,n,r){r=r||p[ensightenOptions.ns].data.resolve;return k.callPoll(b,c,r,g,n)}}}(window),function(p,u,k){u[p]=k()}("qwery",window[ensightenOptions.ns],function(){function p(){this.c={}}function u(a){return H.g(a)||H.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function k(a,d){for(var e=0,f=a.length;e<f;e++)d(a[e])}function b(a){for(var d=[],e=0,f=a.length;e<f;++e)l(a[e])?d=d.concat(a[e]):d[d.length]=a[e];return d}function c(a){for(var d=0,e=a.length,f=[];d<
e;d++)f[d]=a[d];return f}function g(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function n(a,d,e,f,b,h,l,c,g,k,y){var I,B,m;if(1!==this.nodeType||d&&"*"!==d&&this.tagName&&this.tagName.toLowerCase()!==d||e&&(I=e.match(Q))&&I[1]!==this.id)return!1;if(e&&(m=e.match(R)))for(a=m.length;a--;)if(!u(m[a].slice(1)).test(this.className))return!1;if(g&&v.pseudos[g]&&!v.pseudos[g](this,y))return!1;if(f&&!l)for(B in g=this.attributes,g)if(Object.prototype.hasOwnProperty.call(g,B)&&(g[B].name||B)==
b)return this;return f&&!x(h,S(this,b)||"",l)?!1:this}function r(a){return J.g(a)||J.s(a,a.replace(T,"\\$1"))}function x(a,d,e){switch(a){case "=":return d==e;case "^=":return d.match(w.g("^="+e)||w.s("^="+e,"^"+r(e),1));case "$=":return d.match(w.g("$="+e)||w.s("$="+e,r(e)+"$",1));case "*=":return d.match(w.g(e)||w.s(e,r(e),1));case "~=":return d.match(w.g("~="+e)||w.s("~="+e,"(?:^|\\s+)"+r(e)+"(?:\\s+|$)",1));case "|=":return d.match(w.g("|="+e)||w.s("|="+e,"^"+r(e)+"(-|$)",1))}return 0}function q(a,
d){var e=[],f=[],b,h,l=d,c=C.g(a)||C.s(a,a.split(K)),g=a.match(L);if(!c.length)return e;var m=(c=c.slice(0)).pop();c.length&&(b=c[c.length-1].match(M))&&(l=N(d,b[1]));if(!l)return e;var y=m.match(E);var v=l!==d&&9!==l.nodeType&&g&&/^[+~]$/.test(g[g.length-1])?function(a){for(;l=l.nextSibling;)1==l.nodeType&&(y[1]?y[1]==l.tagName.toLowerCase():1)&&(a[a.length]=l);return a}([]):l.getElementsByTagName(y[1]||"*");b=0;for(m=v.length;b<m;b++)if(h=n.apply(v[b],y))e[e.length]=h;if(!c.length)return e;k(e,
function(a){t(a,c,g)&&(f[f.length]=a)});return f}function t(a,d,e,b){function l(a,b,c){for(;c=U[e[b]](c,a);)if(f(c)&&n.apply(c,d[b].match(E)))if(b){if(h=l(c,b-1,c))return h}else return c}var h;return(h=l(a,d.length-1,a))&&(!b||z(h,b))}function f(a,d){return a&&"object"===typeof a&&(d=a.nodeType)&&(1==d||9==d)}function h(a){var d=[],e;var f=0;a:for(;f<a.length;++f){for(e=0;e<d.length;++e)if(d[e]==a[f])continue a;d[d.length]=a[f]}return d}function l(a){return"object"===typeof a&&isFinite(a.length)}
function N(a,d,e){return 9===a.nodeType?a.getElementById(d):a.ownerDocument&&((e=a.ownerDocument.getElementById(d))&&z(e,a)&&e||!z(a,a.ownerDocument)&&F('[id="'+d+'"]',a)[0])}function v(a,d){var e,h;var g=d?"string"==typeof d?v(d)[0]:!d.nodeType&&l(d)?d[0]:d:m;if(!g||!a)return[];if(a===window||f(a))return!d||a!==window&&f(g)&&z(a,g)?[a]:[];if(a&&l(a))return b(a);if(e=a.match(V)){if(e[1])return(h=N(g,e[1]))?[h]:[];if(e[2])return c(g.getElementsByTagName(e[2]));if(W&&e[3])return c(g.getElementsByClassName(e[3]))}return F(a,
g)}function y(a,d){return function(e){var f,b;O.test(e)?9!==a.nodeType&&((b=f=a.getAttribute("id"))||a.setAttribute("id",b="__qwerymeupscotty"),d(a.parentNode||a,'[id="'+b+'"]'+e,!0),f||a.removeAttribute("id")):e.length&&d(a,e,!1)}}var m=document,D=m.documentElement,F,Q=/#([\w\-]+)/,R=/\.[\w\-]+/g,M=/^#([\w\-]+)$/,X=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,Y=/^\s+|\s*([,\s\+~>]|$)\s*/g,A=/[\s>\+~]/,P=/(?![\s\w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,T=/([.*+?\^=!:${}()|\[\]\/\\])/g,
V=new RegExp(M.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),L=new RegExp("("+A.source+")"+P.source,"g"),K=new RegExp(A.source+P.source),E=new RegExp(/^(\*|[a-z0-9]+)?(?:([\.#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*~]?=)['"]?([ \w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),U={" ":function(a){return a&&a!==D&&a.parentNode},">":function(a,d){return a&&a.parentNode==d.parentNode&&a.parentNode},"~":function(a){return a&&
a.previousSibling},"+":function(a,d,e,f){return a?(e=g(a))&&(f=g(d))&&e==f&&e:!1}};p.prototype={g:function(a){return this.c[a]||void 0},s:function(a,d,e){d=e?new RegExp(d):d;return this.c[a]=d}};var H=new p,J=new p,w=new p,C=new p,z="compareDocumentPosition"in D?function(a,d){return 16==(d.compareDocumentPosition(a)&16)}:"contains"in D?function(a,d){d=9===d.nodeType||d==window?D:d;return d!==a&&d.contains(a)}:function(a,d){for(;a=a.parentNode;)if(a===d)return 1;return 0},S=function(){var a=m.createElement("p");
return(a.innerHTML='<a href="#x">x</a>',"#x"!=a.firstChild.getAttribute("href"))?function(a,e){return"class"===e?a.className:"href"===e||"src"===e?a.getAttribute(e,2):a.getAttribute(e)}:function(a,e){return a.getAttribute(e)}}(),W=!!m.getElementsByClassName,Z=m.querySelector&&m.querySelectorAll,aa=function(a,d){var e=[],f,b;try{if(9===d.nodeType||!O.test(a))return c(d.querySelectorAll(a));k(f=a.split(","),y(d,function(a,d){b=a.querySelectorAll(d);1==b.length?e[e.length]=b.item(0):b.length&&(e=e.concat(c(b)))}));
return 1<f.length&&1<e.length?h(e):e}catch(ba){}return G(a,d)},G=function(a,d){var e=[],f,b;a=a.replace(Y,"$1");if(f=a.match(X)){var l=u(f[2]);f=d.getElementsByTagName(f[1]||"*");var c=0;for(b=f.length;c<b;c++)l.test(f[c].className)&&(e[e.length]=f[c]);return e}k(f=a.split(","),y(d,function(a,f,h){l=q(f,a);c=0;for(b=l.length;c<b;c++)if(9===a.nodeType||h||z(l[c],d))e[e.length]=l[c]}));return 1<f.length&&1<e.length?h(e):e};A=function(a){"undefined"!==typeof a.useNativeQSA&&(F=a.useNativeQSA?Z?aa:G:
G)};A({useNativeQSA:!0});v.configure=A;v.uniq=h;v.is=function(a,d,e){if(f(d))return a==d;if(l(d))return!!~b(d).indexOf(a);for(var c=d.split(","),h;d=c.pop();)if(h=C.g(d)||C.s(d,d.split(K)),d=d.match(L),h=h.slice(0),n.apply(a,h.pop().match(E))&&(!h.length||t(a,h,d,e)))return!0;return!1};v.pseudos={};return v}),function(){function p(f,b,c){n||(n=window[ensightenOptions.ns].qwery);var h=n;if((h=h.call(c,b,c))&&0<h.length){if("_root"==b)f=c;else if(f===c)f=void 0;else{b:{for(var l=h.length,g=0;g<l;g++)if(f===
h[g]){h=!0;break b}h=!1}h||(f.parentNode?(r++,f=p(f.parentNode,b,c)):f=void 0)}return f}return!1}function u(f,b,c,g){q[f.id]||(q[f.id]={});q[f.id][b]||(q[f.id][b]={});q[f.id][b][c]||(q[f.id][b][c]=[]);q[f.id][b][c].push(g)}function k(f,b,c,g){if(g||c)if(g)for(var h=0;h<q[f.id][b][c].length;h++){if(q[f.id][b][c][h]===g){q[f.id][b][c].pop(h,1);break}}else delete q[f.id][b][c];else q[f.id][b]={}}function b(b,c,l){if(q[b][l]){var f=c.target||c.srcElement,h,k,m={},n=k=0;r=0;for(h in q[b][l])q[b][l].hasOwnProperty(h)&&
(k=p(f,h,t[b].element))&&g.matchesEvent(l,t[b].element,k,"_root"==h,c)&&(r++,q[b][l][h].match=k,m[r]=q[b][l][h]);c.stopPropagation=function(){c.cancelBubble=!0};for(k=0;k<=r;k++)if(m[k])for(n=0;n<m[k].length;n++){if(!1===m[k][n].call(m[k].match,c)){g.cancel(c);return}if(c.cancelBubble)return}}}function c(c,h,l,n){function f(c){return function(f){b(p,f,c)}}c instanceof Array||(c=[c]);l||"function"!=typeof h||(l=h,h="_root");var p=this.id,m;for(m=0;m<c.length;m++)q[p]&&q[p][c[m]]||g.addEvent(this,c[m],
f(c[m])),n?k(this,c[m],h,l):u(this,c[m],h,l);return this}function g(b,c,l,k){if("string"==typeof b&&"function"==typeof c||"string"==typeof c)g(document).on(b,c,l,k||!1);if(!(this instanceof g)){for(var f in t)if(t[f].element===b)return t[f];x++;t[x]=new g(b,x);t[x]._on=t[x].on;t[x].on=function(b,c,f,g){var h="function"==typeof c?c:f;if("function"==typeof c?f:g)b=[b],"string"==typeof c&&b.push(c),b.push(function(b){return function(c){c.defaultPrevented||window[ensightenOptions.ns].Delegate.load(this);
if(this.nodeName&&"a"!=this.nodeName.toLowerCase())return b.call(this);"undefined"!=typeof c.preventDefault?c.preventDefault():c.returnValue=!1;b.call(this)}}(h)),this._on.apply(this,b);else return this._on.call(this,b,c,f)};return t[x]}this.element=b;this.id=c}var n,r=0,x=0,q={},t={};g.prototype.on=function(b,g,l){return c.call(this,b,g,l)};g.prototype.off=function(b,g,l){return c.call(this,b,g,l,!0)};g.cancel=function(b){b.preventDefault();b.stopPropagation()};g.addEvent=function(b,c,g){b.element.addEventListener(c,
g,"blur"==c||"focus"==c)};g.matchesEvent=function(){return!0};g.load=function(b){setTimeout(function(b,c){return function(){if(b.nodeName&&"a"==b.nodeName.toLowerCase()){if(c&&/^javascript\s*:/.test(c))return(new Function(unescape(c))).call(window);c&&(window.location.href=c)}}}(b,b.href||""),750)};window[ensightenOptions.ns].Delegate=g}(),function(p){var u=p.addEvent;p.addEvent=function(k,b,c){if(k.element.addEventListener)return u(k,b,c);"focus"==b&&(b="focusin");"blur"==b&&(b="focusout");k.element.attachEvent("on"+
b,c)};p.cancel=function(k){k.preventDefault&&k.preventDefault();k.stopPropagation&&k.stopPropagation();k.returnValue=!1;k.cancelBubble=!0}}(window[ensightenOptions.ns].Delegate),window[ensightenOptions.ns].on=window[ensightenOptions.ns].Delegate);
TMS.dataDefinitionIds = [56496,54164,64212,1349,69910,60812,65101,67676,65660];/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

  Adobe Visitor API for JavaScript version: 2.3.0
  Copyright 1996-2015 Adobe, Inc. All Rights Reserved
  More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <http://feross.org>
 @license  MIT
 ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
TMS.bindDependencyImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;ensClientConfig={"info":{"name":"delta","publishPath":"mobilewebdev","clientId":912},"cookieTypes":["Advertising"],"getCookie":function(key){return this.defaultGetCookie.apply(this,arguments)},"setCookie":function(key,value){var cookieName=this.clientName.toUpperCase()+this.ensightenPrivacy+this._parseCookieSuffix(key),isSecure=window.location.protocol==="https:",sameSite=isSecure?"None":
"Lax",cookieDomain=this.cookieDomain,expires=(new Date((new Date).setDate((new Date).getDate()+30))).toUTCString();switch(key){case "MODAL_VIEWED":case "Advertising":case "Analytics":case "Enhanced Functionality":expires=window.ensCloseBanner?"":expires;break;default:console.log("Ensighten tried to set value: "+value+" to cookie named: "+key);return}var cookieString=cookieName+"\x3d"+encodeURIComponent(value)+(expires?";expires\x3d"+expires:"")+";path\x3d/;domain\x3d"+cookieDomain+(isSecure?";Secure":
"")+(sameSite?";SameSite\x3d"+sameSite:"");document.cookie=cookieString;return cookieString},"onConsent":function(key,value){console.log(key);console.log(value)},"whitelist":{"default":[{"tag":".*.launchdarkly.com","displayName":"Launch Darkly","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":".*.execute-api.us-east-1.amazonaws.com","displayName":"AWS","paths":["/.*/flight-details"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"openlandingpagestage.smallbizvoices.com",
"displayName":"","vendorId":"","timeout":300},{"tag":"test.accdab.net","displayName":"Accertify","vendorId":"","timeout":300},{"tag":"amazonaws.com","displayName":"Amazon","paths":["/analytics/wQjkCwX7UJ"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"dlt1223.dynatrace-managed.com","displayName":"Dynatrace","vendorId":"","timeout":300},{"tag":"xcheck-embedded.s3.amazonaws.com","displayName":"xCheck","vendorId":"","timeout":300},{"tag":"magroup-online.com","displayName":"Allianz Europe",
"vendorId":"","timeout":300},{"tag":"cardinalcommerce.com","displayName":"Cardinal Commerce","vendorId":"","timeout":300},{"tag":"allianzworldwidepartners.com","displayName":"Allianz Partners","vendorId":"","timeout":300},{"tag":"azcontent.us","displayName":"Allianz Content","vendorId":"","timeout":300},{"tag":"allianz-assistance.com","displayName":"Allianz Argentina","vendorId":"","timeout":300},{"tag":"allianztravel-info.com","displayName":"Allianz Argentina","vendorId":"","timeout":300},{"tag":"api.allianz-assistance.ca",
"displayName":"Allianz Canada","vendorId":"","timeout":300},{"tag":"insurance.allianz-assistance.ca","displayName":"Allianz Canada","vendorId":"","timeout":300},{"tag":"cdn1-sandbox.affirm.com","displayName":"","vendorId":"","timeout":300},{"tag":".*dynatrace-managed.com.*","displayName":"Dynatrace","vendorId":"","timeout":300},{"tag":".*\\.akamaihd\\.net.*","displayName":"Akamai","vendorId":"","timeout":300},{"tag":"lpcdn.lpsnmedia.net","displayName":"","vendorId":"","timeout":300},{"tag":"sandbox.affirm.com",
"displayName":"","vendorId":"","timeout":300},{"tag":"tracker.affirm.com","displayName":"","vendorId":"","timeout":300},{"tag":"c.go-mpulse.net","displayName":"","vendorId":"","timeout":300},{"tag":"assets.adobedtm.com","displayName":"","vendorId":"","timeout":300},{"tag":"js.locuslabs.com","displayName":"","vendorId":"","timeout":300},{"tag":"assets.locuslabs.com","displayName":"","vendorId":"","timeout":300},{"tag":"img.locuslabs.com","displayName":"","vendorId":"","timeout":300},{"tag":"api.locuslabs.com",
"displayName":"","vendorId":"","timeout":300},{"tag":"en-si-content-delta.onelink-translations.com","displayName":"","vendorId":"","timeout":300},{"tag":"merchantacsstag.cardinalcommerce.com","displayName":"Cardinal Commerce","vendorId":"","timeout":300},{"tag":".*\\.ensighten\\.com.*","displayName":"Ensighten","vendorId":"","timeout":300},{"tag":"delta-api\\.xcheck\\.co","displayName":"XCheck","vendorId":"","timeout":300},{"tag":"fonts\\.gstatic\\.com","displayName":"Google fonts","vendorId":"",
"timeout":300},{"tag":"(4seeresults\\.com|foreseeresults\\.com|(wellsfargo|microsoft|targetimg3)\\.com|firstchoice\\.co.uk)","displayName":"ForeSee Results","vendorId":"","timeout":300},{"tag":"s.go-mpulse.net","displayName":"","vendorId":"","timeout":300},{"tag":"sandboxorigin-pqgemapp.americanexpress.com.affirm.com","displayName":"","vendorId":"","timeout":300},{"tag":"reports.itasoftware.com","displayName":"","vendorId":"","timeout":300},{"tag":"online.americanexpress.com","displayName":"","vendorId":"",
"timeout":300},{"tag":"maps.gstatic.com","displayName":"","vendorId":"","timeout":300},{"tag":"maps.google.com","displayName":"","vendorId":"","timeout":300},{"tag":"dxp-cardapp-qa.americanexpress.com","displayName":"","vendorId":"","timeout":300},{"tag":"gateway.americas.allianz-assistance.com","displayName":"","vendorId":"","timeout":300},{"tag":"fonts.gstatic.com","displayName":"","vendorId":"","timeout":300},{"tag":"fonts.googleapis.com","displayName":"","vendorId":"","timeout":300},{"tag":"dl.fltmaps.com",
"displayName":"","vendorId":"","timeout":300},{"tag":"apply.americanexpress.com","displayName":"","vendorId":"","timeout":300},{"tag":"centinelapistag.cardinalcommerce.com","displayName":"","vendorId":"","timeout":300},{"tag":"e2qonline.americanexpress.com","displayName":"","vendorId":"","timeout":300},{"tag":"mcheckout-qa.americanexpress.com","displayName":"","vendorId":"","timeout":300},{"tag":"deltaairlines.tt.omtrdc.net","displayName":"","vendorId":"","timeout":300},{"tag":"en-si-delta.onelink-translations.com",
"displayName":"","vendorId":"","timeout":300},{"tag":"code\\.jquery\\.com","displayName":"jQuery","vendorId":"","timeout":300},{"tag":"www.deltavacations.com","displayName":"Delta Vacations","vendorId":"","timeout":300},{"tag":"(googleapis|gstatic)\\.com","displayName":"Google Maps","vendorId":"","timeout":300},{"tag":"(foresee\\.com|4seeresults\\.com|foreseeresults\\.com|(wellsfargo|microsoft|targetimg3)\\.com|firstchoice\\.co.uk)","displayName":"ForeSee Results","vendorId":"","timeout":300},{"tag":"ensighten\\.com",
"displayName":"Ensighten","vendorId":"","timeout":300},{"tag":"gateway\\.foresee\\.com","displayName":"ForeSee","vendorId":"","timeout":300},{"tag":"gateway\\.americas\\.allianz-assistance\\.com","displayName":"Allianz","vendorId":"","timeout":300},{"tag":"akastat.io","displayName":"aksat.io","vendorId":"","timeout":300},{"tag":"nexus-test\\.ensighten\\.com","displayName":"Ensighten Test","vendorId":"","timeout":300},{"tag":".*\\.googleapis\\.com","displayName":"Google Apis","vendorId":"","timeout":300},
{"tag":"analytics\\.foresee\\.com","displayName":"ForeSee","vendorId":"","timeout":300},{"tag":".*\\.akamaihd\\.net","displayName":"Akamai","vendorId":"","timeout":300},{"tag":".*\\.go-mpulse\\.net","displayName":"Akamai","vendorId":"","timeout":300},{"tag":"maps\\.googleapis\\.com","displayName":"Google Maps","vendorId":"","timeout":300},{"tag":".*\\.americanexpress\\.com","displayName":"Amex","vendorId":"","timeout":300},{"tag":"widgets\\.hotels\\.com","displayName":"Hotels","vendorId":"","timeout":300},
{"tag":"usage\\.trackjs\\.com","displayName":"TrackJS","vendorId":"","timeout":300},{"tag":"dlt-beacon.dynatrace-managed.com","displayName":"","vendorId":"","timeout":300},{"tag":"capture.trackjs.com","displayName":"","vendorId":"","timeout":300},{"tag":"cdn.trackjs.com","displayName":"","vendorId":"","timeout":300},{"tag":"static.mltvacations.com","displayName":"","vendorId":"","timeout":300},{"tag":"usage.trackjs.com","displayName":"","vendorId":"","timeout":300},{"tag":"vice-reporter-dev.sdiapi.com",
"displayName":"","vendorId":"","timeout":300},{"tag":"nexus.ensighten.com","displayName":"","vendorId":"","timeout":300},{"tag":"gateway.foresee.com","displayName":"","vendorId":"","timeout":300},{"tag":"r.turn.com","displayName":"Amobee","vendorId":"","timeout":300},{"tag":".*\\.affirm\\.com.*","displayName":"Affirm","vendorId":"","timeout":300},{"tag":"cdnjs.cloudflare.com","displayName":"Cloudflare","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"delta.celebrus.com",
"displayName":"","vendorId":"","timeout":300},{"tag":"analytics.foresee.com","displayName":"","vendorId":"","timeout":300},{"tag":"manage-api.ensighten.com","displayName":"","vendorId":"","timeout":300},{"tag":"ajax.googleapis.com","displayName":"","vendorId":"","timeout":300},{"tag":"nexus-test.ensighten.com","displayName":"","vendorId":"","timeout":300},{"tag":"code.jquery.com","displayName":"","vendorId":"","timeout":300},{"tag":"qwww.aexp-static.com","displayName":"","vendorId":"","timeout":300},
{"tag":"ens-activatesandbox.activate.ensighten.com","displayName":"","vendorId":"","timeout":300},{"tag":"manage.ensighten.com","displayName":"","vendorId":"","timeout":300},{"tag":"brain.foresee.com","displayName":"","vendorId":"","timeout":300},{"tag":"cdn.tt.omtrdc.net","displayName":"","vendorId":"","timeout":300},{"tag":"jp-content-delta.onelink-translations.com","displayName":"","vendorId":"","timeout":300},{"tag":"icm.aexp-static.com","displayName":"","vendorId":"","timeout":300},{"tag":"echeckout.americanexpress.com",
"displayName":"","vendorId":"","timeout":300},{"tag":"checkout.americanexpress.com","displayName":"","vendorId":"","timeout":300},{"tag":"nexus\\.ensighten\\.com","displayName":"Ensighten","vendorId":"","timeout":300},{"tag":"edge.adobedc.net","displayName":"","vendorId":"","timeout":300},{"tag":"p11.techlab-cdn.com","displayName":"Akamai","vendorId":"","timeout":300},{"tag":"liveperson.net","displayName":"","vendorId":"","timeout":300},{"tag":"lpsnmedia.net","displayName":"","vendorId":"","timeout":300},
{"tag":"requirements-api.joinsherpa.com","displayName":"","vendorId":"","timeout":300},{"tag":"api.maptiler.com","displayName":"","vendorId":"","timeout":300},{"tag":"maps.googleapis.com","displayName":"","vendorId":"","timeout":300},{"tag":"widgets.hotels.com","displayName":"","vendorId":"","timeout":300},{"tag":"xsell.expedia.com","displayName":"","vendorId":"","timeout":300},{"tag":"aexp-static.com","displayName":"Amex","vendorId":"","timeout":300},{"tag":".*stg-content\\.delta\\.com.*","displayName":"STG Content",
"vendorId":"","timeout":300},{"tag":"bermudaarrivalcard.com","displayName":"Bermuda Arrival Card","vendorId":"","timeout":300},{"tag":"tourismtax.bonairegov.com","displayName":"Bonaire Entry Tax Form","paths":["/form"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"exempt.gov.bs","displayName":"C17 Form Accompanied Baggage","vendorId":"","timeout":300},{"tag":"www.sars.gov.za","displayName":"South African Traveller Declaration","paths":["/travellerdeclaration"],"filter":"allowPaths","vendorId":"",
"timeout":300},{"tag":".*.delta.com","displayName":"Delta .com","vendorId":"","timeout":300},{"tag":".*\\.onelink-translations\\.com","displayName":"OneLink Translations","vendorId":"","timeout":300},{"tag":"www.deltavacations.com","displayName":"","vendorId":"","timeout":300},{"tag":"stg2.virginatlantic.com","displayName":"","vendorId":"","timeout":300},{"tag":"stg2-content.virginatlantic.com","displayName":"","vendorId":"","timeout":300},{"tag":"stg-content.virginatlantic.com","displayName":"",
"vendorId":"","timeout":300},{"tag":"stg2-author.vs01.vs.air4.com","displayName":"","vendorId":"","timeout":300},{"tag":"www.tsa.gov","displayName":"TSA","vendorId":"","timeout":300},{"tag":".*cdn-net.com","displayName":"CDN-Net","vendorId":"","timeout":300},{"tag":"answ-cld-res.cloudinary.com","displayName":"Cloudinary .com","vendorId":"","timeout":300},{"tag":"ensighten.zendesk.com","displayName":"Ensighten Zendesk","vendorId":"","timeout":300},{"tag":"delta-api-staging.xcheck.co","displayName":"XCheck Staging",
"vendorId":"","timeout":300},{"tag":"((\\.liveagentforsalesforce\\.com|force\\.com)|salesforceliveagent\\.com)","displayName":"SalesForce LiveAgent","vendorId":"","timeout":300},{"tag":"settings\\.luckyorange\\.net","displayName":"Lucky Orange Settings","vendorId":"","timeout":300},{"tag":"salespartnersaffiliation.api.sls-b2bmgmt-si.aws.delta.com","displayName":"Sales Partner Affiliation","vendorId":"","timeout":300},{"tag":"salespartnersaffiliation-api-.*.delta.com","displayName":"Sales Partner Affiliation API",
"paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"(capture-sscpxdmrtd-122337828767-us-.*.s3.amazonaws.com|capture-sscpxdmrtd-475152512169-us-.*.s3.amazonaws.com)","displayName":"Passport Scanning AWS","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"www.canada.ca","displayName":"Canada Border Services","paths":["/en/border-services-agency/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"prod.accdab.net","displayName":"Prod Accertify",
"paths":["/cdn/cs/7pHsEPgnRSZ-l2JOqrqGiMRtS0c"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"delta.com","displayName":"Delta First Party"},{"tag":"173bf10d.akstat.io","displayName":"Akamai mPulse","vendorId":"","timeout":300},{"tag":"assets.xcheck.co"},{"tag":"auction-deltapointsstg1.oc1.servicecdi.com"},{"tag":"stg-content.delta.com","displayName":"Staging Content","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"injected-entry.js"},{"tag":"cdn.smartvel.com"},
{"tag":"cdn.jsdelivr.net"},{"tag":"api.smartvel.com"},{"tag":".*?akstat\\.io.*","displayName":"Akamai","vendorId":"","timeout":300},{"tag":"dev.deltatmobile.com"},{"tag":"deltadev2.112.2o7.net"},{"tag":"deltad8stg.prod.acquia-sites.com"},{"tag":"deltauat-web01.nutravel.com"},{"tag":"akamai.io","displayName":"Akamai","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"api.rollbar.com"},{"tag":"(si|dev|prod)\\.accdab\\.net","displayName":"Revenue Protection","paths":["/.*"],"filter":"allowPaths",
"vendorId":"","timeout":300},{"tag":"pplus-merge-plus-2811.mvc.branch.paramountplus.com"},{"tag":"p58697-mono-fronted-nx-akjq-monopage.apps.dl-rosa01-1d.5nzh.p1.openshiftapps.com"},{"tag":"si.deltatmobile.com"},{"tag":"forexprod-sandbox.dl.alipaydev.com"},{"tag":"www.store1stage.c1.localvaf.com"},{"tag":"apps.apple.com"},{"tag":"delta-www.baynote.net"},{"tag":"endlesspaper.net"},{"tag":"excel.officeapps.live.com"},{"tag":"local.paramountplus.com"},{"tag":"pplus-merge-plus-2757.mvc.branch.paramountplus.com"},
{"tag":"pplus-signup-plus-2757.shared.branch.paramountplus.com"},{"tag":"statics.teams.cdn.office.net"},{"tag":"test-www.paramountplus.com"},{"tag":"test.ipg-online.com"},{"tag":"twitter.com"},{"tag":"webportal.edicomgroup.com"},{"tag":"www.clearme.com"},{"tag":"www.skymilescruises.com"},{"tag":"www.skyteam.com"},{"tag":"www.treasury.gov"},{"tag":"delta.experiencecloud.adobe.com"},{"tag":"mytrips-api-si.vs01.vs.air4.com"},{"tag":"stg.virginatlantic.com"},{"tag":"tms.virginatlantic.com"},{"tag":"purchasingpower.experiencecloud.adobe.com"},
{"tag":"t27676-mono-fronted-nx-m0wi-monopage.apps.dl-rosa01-1d.5nzh.p1.openshiftapps.com"},{"tag":"sales.allianz-assistance.ca"},{"tag":"lookup.hotels.com"},{"tag":"y41088-mono-fronted-nx-oiq1-monopage.apps.dl-rosa01-poc.9460.p1.openshiftapps.com"},{"tag":"js.radar.com","displayName":"Radar - Autocomplete","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"radar.com"},{"tag":"api.radar.io"},{"tag":"unpkg.com","displayName":"NLX - SDK","paths":["/@nlxai/journey-manager/lib/index.umd.js"],
"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"contactus-attachment-bucket-prod.s3.amazonaws.com","displayName":"AWS - Contact Us","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"www.etravelprotection.com"},{"tag":"sdk.joinsherpa.io","displayName":"Sherpa Map SDK","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"map.joinsherpa.io","displayName":"Sherpa Map","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"niaspeedy.immigration.gov.tw",
"displayName":"Taiwan Immigration","paths":["/webacard.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":".*cbp.*\\.gov$","displayName":"Customs and Border Protection","vendorId":"","timeout":300},{"tag":".*doc-capture-fn.*s3\\.amazonaws\\.com","displayName":"AWS - Passport Scan Function","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"adobedc.demdex.net","displayName":"Adobe Experience Platform","vendorId":"","timeout":300},{"tag":"contactus-attachment-bucket-si.s3.amazonaws.com",
"displayName":"AWS - Contact Us - SI","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"cdn.skypack.dev","displayName":"NLX - SDK v2","paths":["/@nlxai/journey-manager?min"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"triggers.mm.nlx.ai","displayName":"NLX - Triggers","paths":[""],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":".*.nlx.ai","displayName":"","vendorId":"","timeout":300},{"tag":"mm.nlx.ai","displayName":"NLX - Step Tracking","paths":["/v1/track"],
"filter":"allowPaths"},{"tag":"maps.xcheck.co"},{"tag":"gateway.flowcode.com","displayName":"Flowcode","paths":[""],"filter":"allowPaths"},{"tag":"generator.flowcode.com","displayName":"Flowcode MFA","purposeIds":["1","3","5"],"featureIds":["1","2"],"legIntPurposeIds":["7","8","9"],"dataDeclaration":["1","2","3","6","7","10","11"],"vendorId":"92"},{"tag":"cdn.cookielaw.org","displayName":"CookieLaw CDN","paths":["/.*"],"filter":"allowPaths"},{"tag":"sso-uat.lxc.points.com","displayName":"","paths":["/.*"],
"filter":"allowPaths","vendorId":"","timeout":300},{"tag":".*\\.smetrics.delta.com.*","displayName":"Adobe Analytics","vendorId":"","timeout":300},{"tag":"qualtrics.com","displayName":"Qualtrics","vendorId":"","timeout":300},{"tag":"deltaairlines\\.tt\\.omtrdc\\.net.*","displayName":"Adobe Target","vendorId":"","timeout":300},{"tag":".*\\-deltaairlines-tt-omtrdc-net\\.onelink-translations\\.com","displayName":"Adobe Target International","vendorId":"","timeout":300},{"tag":"deltaairlines.sc.omtrdc.net",
"displayName":"Adobe Target","vendorId":"","timeout":300},{"tag":".*deltaairlines\\.tt.omtrdc\\.net.*","displayName":"Adobe Target","vendorId":"","timeout":300},{"tag":"commentsandcomplaints-capability-cs-aws-(prod|stg).s3.amazonaws.com","displayName":"AWS - Reimbursement","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"s3-dl-travel-health-docs-config-us.+?.s3.amazonaws.com","displayName":"AWS - Travel Health Docs","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},
{"tag":"www.entry.sx","displayName":"St. Maarten Immigration","vendorId":"","timeout":300},{"tag":"declaraciondeviajero.ana.gob.pa","displayName":"Panama Customs","vendorId":"","timeout":300},{"tag":"static.deltavacations.com","displayName":"Delta Vacations Images","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"static-.*.deltavacations.com","displayName":"Delta Vacations Images","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300}],"Advertising":[{"tag":".*(b90|b91|b92)\\.yahoo\\.co\\.jp",
"displayName":"Japanese Yahoo Tags","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"bing\\\\.com","displayName":"Bing Ads Universal Event Tracking","vendorId":"","timeout":300},{"tag":"(doubleclick|2mdn|w55c|nr-data|esm1|adform|adspeed|linkstorm|krxd|akamaihd|everesttech)\\.net|(googletagservices|adnxs|mathtag|adsafeprotected|smartadserver|gwallet|tubemogul|serving-sys|mediaplex|googlesyndication|acuityplatform|netmng|atdmt|brand-server|googleadservices|vindicosuite|doubleverify|flashtalking|reddit|startribune|zedo|adition|adlegend|imrworldwide|turn|turner|lowermybills|adventive|mediaforge)\\.com|selectmedia\\.asia|weborama\\.fr|(intelliad|superrtl)\\.de",
"displayName":"DoubleClick","vendorId":"","timeout":300},{"tag":"bat\\.bing\\.com","displayName":"Bing","vendorId":"","timeout":300},{"tag":"bing\\.com","displayName":"Bing Ads Universal Event Tracking","vendorId":"","timeout":300},{"tag":".*ad\\.doubleclick\\.net/ddm/activity/src.(4215534|8788548|5236503|4215534|5693903|5236503|5693909).*","displayName":"DoubleClick","vendorId":"","timeout":300},{"tag":"(\\.doubleclick\\.net$|(google|googleadservices|gstatic)\\.com)","displayName":"DoubleClick Floodlight",
"vendorId":"","timeout":300},{"tag":"facebook\\.com|facebook\\.net","displayName":"Facebook Custom Audiences","vendorId":"","timeout":300},{"tag":"facebook.com","displayName":"Facebook","vendorId":"","timeout":300},{"tag":"(googleadservices\\.com|(googlesyndication|google)\\.com)","displayName":"Google AdSense","vendorId":"","timeout":300},{"tag":".*googleadservices\\.com/pagead/conversion/(1072374139|870173160|1070441522|805826975|865799198|865799198|1072374139)/.*","displayName":"Google Ad Services",
"vendorId":"","timeout":300},{"tag":".*\\.gstatic\\.com","displayName":"Google","vendorId":"","timeout":300},{"tag":"apis\\.google\\.com","displayName":"Google","vendorId":"","timeout":300},{"tag":".*googleads\\.g\\.doubleclick.net/pagead/viewthroughconversion/(1072374139|870173160|1070441522|805826975|865799198|865799198|1072374139)/.*","displayName":"Google DoubleClick","vendorId":"","timeout":300},{"tag":"yahoo.co.jp","displayName":"Japanese Yahoo Tags","vendorId":"","timeout":300},{"tag":".*(b90|b92)\\.yahoo\\.co\\.jp/(conv.js|js/s_retargeting\\.js).*",
"displayName":"Japanese Yahoo Tags","vendorId":"","timeout":300},{"tag":"www.kayak.com","displayName":"Kayak","vendorId":"","timeout":300},{"tag":"stats.ipinyou.com","displayName":"iPinYou","vendorId":"","timeout":300},{"tag":"sp.analytics.yahoo.com","displayName":"Yahoo","vendorId":"","timeout":300},{"tag":"b90.yahoo.co.jp","displayName":"Yahoo","vendorId":"","timeout":300},{"tag":".*sp\\\\.analytics\\\\.yahoo\\\\.com.spp\\\\.pl?.a\x3d(10000|1000174609467)..yp\x3d(439631|10044814|10044813).*","displayName":"Yahoo! Web Analytics",
"vendorId":"","timeout":300},{"tag":"tkpi.delta.com","displayName":"Threads","vendorId":"","timeout":300},{"tag":"virginatlantic\\.demdex\\.net.*","displayName":"Virgin Atlantic DMP","vendorId":"","timeout":300},{"tag":"virginatlantic.demdex.net","displayName":"VA DMP","vendorId":"","timeout":300},{"tag":"events.xg4ken.com","displayName":"Kenshoo","vendorId":"","timeout":300},{"tag":"services.xg4ken.com","displayName":"Kenshoo","vendorId":"","timeout":300},{"tag":"resources.xg4ken.com","displayName":"Kenshoo",
"vendorId":"","timeout":300},{"tag":"3.xg4ken.com","displayName":"Kenshoo","vendorId":"","timeout":300},{"tag":"dc.ads.linkedin.com","displayName":"","vendorId":"","timeout":300},{"tag":"www.facebook.com","displayName":"Facebook","vendorId":"","timeout":300},{"tag":"gum.criteo.com","displayName":"","vendorId":"","timeout":300},{"tag":"www.youtube.com","displayName":"Youtube","vendorId":"","timeout":300},{"tag":"tracking.admarketplace.net","displayName":"Admarketplace","vendorId":"","timeout":300},
{"tag":"sslwidget\\.criteo\\.com","displayName":"Criteo","vendorId":"","timeout":300},{"tag":"\\.criteo\\.(com|net)","displayName":"Criteo","vendorId":"","timeout":300},{"tag":"ct.pinterest.com","displayName":"","vendorId":"","timeout":300},{"tag":"s\\.amazon-adsystem\\.com","displayName":"Amazon","vendorId":"","timeout":300},{"tag":"secure\\.adnxs\\.com","displayName":"AppNexus","vendorId":"","timeout":300},{"tag":"(\\.adnxs\\.com|(yieldoptimizer|mookie1)\\.com)","displayName":"AppNexus","vendorId":"",
"timeout":300},{"tag":".*s\\.yimg\\.jp/images/listing/tool/cv/conversion.js.*","displayName":"Booking Yahoo tags","vendorId":"","timeout":300},{"tag":"c212.net","displayName":"Cision","vendorId":"","timeout":300},{"tag":"login.dotomi.com","displayName":"Conversant - dotomi","paths":["/.*"],"filter":"allowPaths","vendorId":"","timeout":300},{"tag":"(.*google-analytics\\.com.*$|.*doubleclick\\.net.*)","displayName":"Google Analytics","vendorId":"","timeout":300},{"tag":"www.googletraveladservices.com",
"displayName":"Google Flights","vendorId":"","timeout":300},{"tag":"a.tribalfusion.com","displayName":"Expontential","vendorId":"","timeout":300},{"tag":"semasio.com","displayName":"Semasio GmbH","vendorId":"","timeout":300},{"tag":"analytics.skyscanner.net","displayName":"SkyScanner","vendorId":"","timeout":300},{"tag":"insight.adsrvr.org","displayName":"Trade Desk","vendorId":"","timeout":300},{"tag":"analytics.twitter.com","displayName":"Twitter Analytics","paths":["/.*"],"filter":"allowPaths",
"vendorId":"","timeout":300},{"tag":"68794910.akstat.io","displayName":"AKStat Analytics","vendorId":"","timeout":300},{"tag":"t.co","displayName":"Twitter","vendorId":"","timeout":300},{"tag":".*\\.quantummetric.com","displayName":"Quantum Metric","vendorId":"","timeout":300},{"tag":"rts.persado.com"},{"tag":"px.ads.linkedin.com"},{"tag":"uip.semasio.net"},{"tag":"delta.demdex.net","displayName":"","vendorId":"","timeout":300},{"tag":"fast.delta.demdex.net","displayName":"","vendorId":"","timeout":300},
{"tag":"dpm.demdex\\.net","displayName":"Adobe Visitor ID","vendorId":"","timeout":300},{"tag":"delta\\.demdex\\.net","displayName":"Delta Demdex","vendorId":"","timeout":300},{"tag":"aexp\\.demdex\\.net","displayName":"Amex Demdex","vendorId":"","timeout":300},{"tag":"dpm\\.demdex\\.net","displayName":"Demdex","vendorId":"","timeout":300},{"tag":"c.tvpixel.com"},{"tag":"p.tvpixel.com","paths":["/.*"],"filter":"allowPaths"},{"tag":"fast.wistia.com"},{"tag":"www.agentmaxonline.com"},{"tag":"www.delta.com",
"displayName":"Gateway Testing","vendorId":"","timeout":300},{"tag":"login-ds.dotomi.com"},{"tag":"id.b2b.yahooinc.com","displayName":"Yahoo Marketing","vendorId":"","timeout":300},{"tag":"dataxonline.yahoo.com","displayName":"Yahoo Marketing","vendorId":"","timeout":300}]},"defaultEnv":"","globalPrivacyControlCategories":["Advertising"],"featureToggles":{"enableReporting":true,"enableAllowedDomainsReporting":true,"enableFiltering":true,"enablePrivacyNotice":false,"shouldNotAutoShowBanner":false,
"includePrivacyNoticeCustomConfig":false,"privacyNoticeCustomConfig":null,"enableConsentModal":true,"includeConsentModalCustomConfig":false,"consentModalCustomConfig":null,"shouldNotAutoShowModal":true,"enableTCF":false,"requireSSL":true,"showTrustedDomains":false,"enableDataMonitoring":true,"usesWhitelist":true,"consentWidget":false,"enableEnvironmentMatching":true,"allowPerTagOptOut":false,"enableGdprModal":false,"enableCSSMonitoring":false,"monitorFormAction":false,"monitorAnchorTags":false,"enableButtonMonitoring":false,
"enableInputMonitoring":false,"enableAreaMonitoring":false,"enableWindowOpenOverride":false,"enableServiceWorker":true,"enableAsyncEnvironments":false,"enableDoNotSellModal":false,"autoDoNotSellAllCategories":false,"enableDeleteDataModal":false,"enableRequestDataModal":false,"showRequestDataOnConsentModal":false,"disableDefaultStyles":true,"disableEscapeKeyboardCommands":false,"enableTagKiller":false,"honorGlobalPrivacyControl":true,"enableGoogleConsent":false,"isObservingStyle":false},"sslConfig":{"sslEnforcementMode":"Block"},
"libraryPackage":"enterprise","dataMonitoring":{"mode":"mask","blockURLParamsRegex":[{"name":"E-Mail","regex":"[\\w.]+@[\\w-]+\\.[a-zA-Z]{2,3}\\.?([a-zA-Z]{2,3})?"},{"name":"Amex","regex":"^3[47][0-9]{13}$"},{"name":"Diners","regex":"^3(?:0[0-5]|[68][0-9])[0-9]{11}$"},{"name":"Discover","regex":"^6(?:011|5[0-9]{2})[0-9]{12}$"},{"name":"Visa","regex":"^4[0-9]{12}(?:[0-9]{3})?$"},{"name":"Union Pay","regex":"^(62[0-9]{14,17})$"},{"name":"MasterCard","regex":"^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$"},
{"name":"JCB","regex":"^(?:2131|1800|35\\d{3})\\d{11}$"},{"name":"Skymiles Number","regex":"^\\d{10}$"}],"domainsAllowed":["dlt1223.dynatrace-managed.com","cdn1-sandbox.affirm.com",".*dynatrace-managed.com.*",".*\\.akamaihd\\.net.*","sandbox.affirm.com","tracker.affirm.com","assets.adobedtm.com","en-si-content-delta.onelink-translations.com","online.americanexpress.com","dxp-cardapp-qa.americanexpress.com","apply.americanexpress.com","e2qonline.americanexpress.com","mcheckout-qa.americanexpress.com",
"deltaairlines.tt.omtrdc.net","en-si-delta.onelink-translations.com",".*\\.akamaihd\\.net",".*\\.americanexpress\\.com","usage\\.trackjs\\.com","dlt-beacon.dynatrace-managed.com","capture.trackjs.com","cdn.trackjs.com","usage.trackjs.com","nexus.ensighten.com",".*\\.affirm\\.com.*","delta.celebrus.com","manage-api.ensighten.com","nexus-test.ensighten.com","manage.ensighten.com","jp-content-delta.onelink-translations.com","echeckout.americanexpress.com","checkout.americanexpress.com",".*.delta.com",
".*\\.onelink-translations\\.com","stg2.virginatlantic.com","stg2-content.virginatlantic.com","stg-content.virginatlantic.com","adobedc.demdex.net",".*\\.smetrics.delta.com.*",".*\\-deltaairlines-tt-omtrdc-net\\.onelink-translations\\.com","delta.demdex.net","fast.delta.demdex.net","dpm.demdex\\.net","delta\\.demdex\\.net","aexp\\.demdex\\.net","dpm\\.demdex\\.net"],"maskCharacter":"*","processRequestBody":true,"monitorBase64Data":false},"environmentConfigs":[{"name":"PII PCI Policy","countryCode":"us",
"languageCode":"en-US","requireSSL":true,"enableCSSMonitoring":false,"monitorAnchorTags":true,"monitorFormAction":true,"enableButtonMonitoring":true,"enableInputMonitoring":true,"enableAreaMonitoring":true,"enableWindowOpenOverride":true,"enableServiceWorker":false,"sslEnforcementMode":"Block","enableFiltering":false,"condition":{"type":"jsVar","key":"ensPrivacy","value":"true","shouldBePositive":true,"operator":"contains","caseInsensitive":false,"_or":{"type":"url","value":"review-pay|express-checkout|resetPassword|forgotLogin",
"shouldBePositive":true,"operator":"regexp","caseInsensitive":true}},"optVals":{"Advertising":1},"translation":{"notificationBannerContent":"Notification Banner Content","notificationBannerAllowAll":"Notification Banner Allow All","notificationBannerDenyAll":"Notification Banner Deny All","notificationBannerPreferences":"Notification Banner Preferences","consentTitle":"Privacy Settings","consentDescription":"In order to provide with the best experience possible we might sometimes track information about you. Sometimes this may involve writing a cookie. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience.",
"consentWidgetCopy":"Privacy Settings","tcf2Modal":{"title":"Privacy Settings","description":"In order to provide the best experience possible, we might sometimes track information about you. This may involve sending personal data such as advertising identifiers, information about your interests, and your IP address to third parties for processing. This information may be stored and/or accessed by this site and third parties through the use of cookies, device identifiers or other device data. You can view a list of the third parties by clicking the View All Vendors link or Advanced Settings button. We use this information for things like experience enrichment, analytics, and targeted advertising. We recommend allowing these functions in order to get the most out of your experience. In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Advanced Settings. Your consent choices are *service-specific* to this site. You can change your preferences anytime by clicking on the Personal Settings button at the bottom of the page.",
"advancedSettings":"Advanced","viewAllVendors":"View All Vendors","withdrawConsent":"Withdraw Consent","accept":"Accept"},"tcf2PurpAndFeaturesModal":{"title":"Purposes \x26 Features","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.","save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2VendorModal":{"title":"Vendors","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.",
"save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2LegitimateInterestsModal":{"title":"Legitimate Interest","description":"In order to provide with the best experience possible third parties are processing your data based in legitimate interest. This may involve sending personal data such as advertising identifiers, information about your interests and your IP address to third parties for processing. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience. You have the right to object to such processing and can do so here. Your consent choices are *service-specific* to this site.",
"legitimateInterestPurposes":"Legitimate Interest Purposes","save":"Save","objectToAll":"Object to All","cancel":"Cancel"},"tcf2Shared":{"purposes":"Purposes","features":"Features","specialPurposes":"Special Purposes","specialFeatures":"Special Features","vendors":"Vendors","privacyPolicy":"Privacy Policy","moreInfo":"More Info","notAffiliated":"Not Affiliated with the IAB"},"save":"Save","cancel":"Cancel","close":"Notification Banner Close","cookies":{"Advertising":{"title":"Advertising","description":"test"}}},
"dataMonitoring":{"mode":"mask","blockURLParamsRegex":[{"name":"E-Mail","regex":"[\\w.]+@[\\w-]+\\.[a-zA-Z]{2,3}\\.?([a-zA-Z]{2,3})?"},{"name":"Amex","regex":"^3[47][0-9]{13}$"},{"name":"Diners","regex":"^3(?:0[0-5]|[68][0-9])[0-9]{11}$"},{"name":"Discover\t","regex":"^6(?:011|5[0-9]{2})[0-9]{12}$"},{"name":"JCB","regex":"^(?:2131|1800|35\\d{3})\\d{11}$"},{"name":"Mastercard","regex":"^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$"},{"name":"Visa","regex":"^4[0-9]{12}(?:[0-9]{3})?$"},
{"name":"Skymiles Number","regex":"Skymiles Number"}],"domainsAllowed":["virginatlantic\\.demdex\\.net.*","virginatlantic.demdex.net"],"maskCharacter":"~","processRequestBody":false,"monitorBase64Data":false},"enablePrivacyNotice":false,"enableConsentModal":false,"showTrustedDomains":false,"enableTCF":false,"allowPerTagOptOut":false,"shouldNotAutoShowModal":false,"enableDoNotSellModal":false,"autoDoNotSellAllCategories":false,"enableRequestDataModal":false,"enableDeleteDataModal":false,"consentWidget":false,
"enableGoogleConsent":false,"honorGlobalPrivacyControl":true,"globalPrivacyControlCategories":[],"bannerConfig":{"ensAcceptAll":{"show":false},"ensRejectAll":{"show":false},"ensOpenModal":{"show":false},"ensCloseBanner":{"show":true}},"includePrivacyNoticeCustomConfig":false,"includeConsentModalCustomConfig":false,"consentModalConfig":{"ensConsentAcceptAll":{"show":false},"ensConsentRejectAll":{"show":false},"ensSaveModal":{"show":true},"ensCloseModal":{"show":true}}},{"name":"EU Region","languageCode":"en",
"condition":{"type":"cookie","key":"prefUI","value":"(-al|-at|-ba|-be|-bg|-ch|-cy|-cz|-dk|-de|-es|-eu|-fi|-fr|-gb|-gr|-hr|-hu|-ie|-is|-it|-lv|-li|-lt|-lu|-me|-mk|-mt|-nl|-no|-pl|-pt|-ro|-rs|-si|-sk|-se|-tr|-xk|de-undefined|pt-undefined|es-undefined|it-undefined|fr-undefined|-ng)$","shouldBePositive":true,"operator":"regexp","caseInsensitive":false,"_or":{"type":"url","value":"(\\/al|\\/at|\\/ba|\\/be|\\/bg|\\/ch|\\/cy|\\/cz|\\/dk|\\/de|\\/es|\\/eu|\\/fi|\\/fr|\\/gb|\\/gr|\\/hr|\\/hu|\\/ie|\\/is|\\/it|\\/lv|\\/li|\\/lt|\\/lu|\\/me|\\/mk|\\/mt|\\/nl|\\/no|\\/pl|\\/pt|\\/ro|\\/rs|\\/si|\\/sk|\\/se|\\/tr|\\/xk|\\/ng)\\/",
"shouldBePositive":true,"operator":"regexp","caseInsensitive":false}},"optVals":{"Advertising":0},"translation":{"notificationBannerContent":"Notification Banner Content","notificationBannerAllowAll":"Notification Banner Allow All","notificationBannerDenyAll":"Notification Banner Deny All","notificationBannerPreferences":"Notification Banner Preferences","consentTitle":"Privacy Settings","consentDescription":"Delta may track information using cookies to provide you with the best possible experience on our website. We may use this information for enhanced functionality, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience.",
"consentWidgetCopy":"Privacy Settings","tcf2Modal":{"title":"Privacy Settings","description":"In order to provide the best experience possible, we might sometimes track information about you. This may involve sending personal data such as advertising identifiers, information about your interests, and your IP address to third parties for processing. This information may be stored and/or accessed by this site and third parties through the use of cookies, device identifiers or other device data. You can view a list of the third parties by clicking the View All Vendors link or Advanced Settings button. We use this information for things like experience enrichment, analytics, and targeted advertising. We recommend allowing these functions in order to get the most out of your experience. In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Advanced Settings. Your consent choices are *service-specific* to this site. You can change your preferences anytime by clicking on the Personal Settings button at the bottom of the page.",
"advancedSettings":"Advanced","viewAllVendors":"View All Vendors","withdrawConsent":"Withdraw Consent","accept":"Accept"},"tcf2PurpAndFeaturesModal":{"title":"Purposes \x26 Features","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.","save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2VendorModal":{"title":"Vendors","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.",
"save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2LegitimateInterestsModal":{"title":"Legitimate Interest","description":"In order to provide with the best experience possible third parties are processing your data based in legitimate interest. This may involve sending personal data such as advertising identifiers, information about your interests and your IP address to third parties for processing. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience. You have the right to object to such processing and can do so here. Your consent choices are *service-specific* to this site.",
"legitimateInterestPurposes":"Legitimate Interest Purposes","save":"Save","objectToAll":"Object to All","cancel":"Cancel"},"tcf2Shared":{"purposes":"Purposes","features":"Features","specialPurposes":"Special Purposes","specialFeatures":"Special Features","vendors":"Vendors","privacyPolicy":"Privacy Policy","moreInfo":"More Info","notAffiliated":"Not Affiliated with the IAB"},"save":"Save","cancel":"Cancel","close":"Notification Banner Close","cookies":{"Advertising":{"title":"Advertising","description":"Advertising cookies enable us to understand your interests so that we can show you relevant offers and personalized ads."}}},
"enablePrivacyNotice":false,"enableConsentModal":true,"showTrustedDomains":false,"enableTCF":false,"allowPerTagOptOut":false,"shouldNotAutoShowModal":false,"enableDoNotSellModal":false,"autoDoNotSellAllCategories":false,"enableRequestDataModal":false,"enableDeleteDataModal":false,"consentWidget":false,"enableGoogleConsent":false,"honorGlobalPrivacyControl":true,"globalPrivacyControlCategories":[],"bannerConfig":{"ensAcceptAll":{"show":false},"ensRejectAll":{"show":false},"ensOpenModal":{"show":false},
"ensCloseBanner":{"show":true}},"includePrivacyNoticeCustomConfig":false,"includeConsentModalCustomConfig":false,"consentModalConfig":{"ensConsentAcceptAll":{"show":false},"ensConsentRejectAll":{"show":false},"ensSaveModal":{"show":true},"ensCloseModal":{"show":true}}},{"name":"China","countryCode":"cn","languageCode":"zh-CN","condition":{"type":"cookie","key":"prefUI","value":"cn","shouldBePositive":true,"operator":"contains","caseInsensitive":false,"_or":{"type":"url","key":"","value":"zh.delta",
"shouldBePositive":true,"operator":"contains","caseInsensitive":false,"_or":{"type":"url","key":"","value":".com/cn","shouldBePositive":true,"operator":"contains","caseInsensitive":false,"_or":{"type":"url","key":"","value":"zt.delta","shouldBePositive":true,"operator":"contains","caseInsensitive":false,"_or":{"type":"cookie","key":"prefUI","value":"zt","shouldBePositive":true,"operator":"contains","caseInsensitive":false,"_or":{"type":"cookie","key":"prefUI","value":"hk","shouldBePositive":true,
"operator":"contains","caseInsensitive":false}}}}}},"optVals":{"Advertising":0},"translation":{"notificationBannerContent":"\u901a\u77e5\u6a2a\u5e45\u5185\u5bb9","notificationBannerAllowAll":"\u901a\u77e5\u6a2a\u5e45\u5168\u90e8\u5141\u8bb8","notificationBannerDenyAll":"\u901a\u77e5\u6a2a\u5e45\u5168\u90e8\u62d2\u7edd","notificationBannerPreferences":"\u901a\u77e5\u6a2a\u5e45\u9996\u9009\u9879","consentTitle":"\u9690\u79c1\u8bbe\u7f6e","consentDescription":"\u4e3a\u4e86\u5c3d\u53ef\u80fd\u63d0\u4f9b\u6700\u4f73\u4f53\u9a8c\uff0c\u6211\u4eec\u6709\u65f6\u53ef\u80fd\u4f1a\u8ddf\u8e2a\u60a8\u7684\u4fe1\u606f\u3002\u6709\u65f6\u8fd9\u53ef\u80fd\u6d89\u53ca\u5199\u4e00\u4e2a cookie\u3002\u6211\u4eec\u5c06\u8fd9\u4e9b\u4fe1\u606f\u7528\u4e8e\u4f53\u9a8c\u4e30\u5bcc\u3001\u5206\u6790\u548c\u5b9a\u5411\u5e7f\u544a\u7b49\u7528\u9014\u3002\u6211\u4eec\u5efa\u8bae\u5141\u8bb8\u4f7f\u7528\u8fd9\u4e9b\u529f\u80fd\u6765\u5145\u5206\u5229\u7528\u60a8\u7684\u4f53\u9a8c\u3002",
"tcf2Modal":{"title":"\u9690\u79c1\u8bbe\u7f6e","description":"\u4e3a\u4e86\u5c3d\u53ef\u80fd\u63d0\u4f9b\u6700\u4f73\u4f53\u9a8c\uff0c\u6211\u4eec\u6709\u65f6\u53ef\u80fd\u4f1a\u8ddf\u8e2a\u60a8\u7684\u4fe1\u606f\u3002\u8fd9\u53ef\u80fd\u6d89\u53ca\u5c06\u8bf8\u5982\u5e7f\u544a\u6807\u8bc6\u7b26\u3001\u6709\u5173\u60a8\u7684\u5174\u8da3\u7684\u4fe1\u606f\u4ee5\u53ca\u60a8\u7684 IP \u5730\u5740\u4e4b\u7c7b\u7684\u4e2a\u4eba\u6570\u636e\u53d1\u9001\u7ed9\u7b2c\u4e09\u65b9\u8fdb\u884c\u5904\u7406\u3002\u672c\u7f51\u7ad9\u548c\u7b2c\u4e09\u65b9\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 cookie\u3001\u8bbe\u5907\u6807\u8bc6\u7b26\u6216\u5176\u4ed6\u8bbe\u5907\u6570\u636e\u6765\u5b58\u50a8\u548c/\u6216\u8bbf\u95ee\u8fd9\u4e9b\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5355\u51fb \u201c\u67e5\u770b\u6240\u6709\u4f9b\u5e94\u5546\u201d \u94fe\u63a5\u6216 \u201c\u9ad8\u7ea7\u8bbe\u7f6e\u201d \u6309\u94ae\u6765\u67e5\u770b\u7b2c\u4e09\u65b9\u5217\u8868\u3002\u6211\u4eec\u5c06\u8fd9\u4e9b\u4fe1\u606f\u7528\u4e8e\u4e30\u5bcc\u4f53\u9a8c\u3001\u5206\u6790\u548c\u5b9a\u5411\u5e7f\u544a\u4e4b\u7c7b\u7684\u4e8b\u60c5\u3002\u6211\u4eec\u5efa\u8bae\u60a8\u5141\u8bb8\u4f7f\u7528\u8fd9\u4e9b\u529f\u80fd\uff0c\u4ee5\u4fbf\u5145\u5206\u5229\u7528\u60a8\u7684\u4f53\u9a8c\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e09\u65b9\u51fa\u4e8e\u5408\u6cd5\u5229\u76ca\u5904\u7406\u60a8\u7684\u6570\u636e\u3002\u60a8\u6709\u6743\u53cd\u5bf9\u6b64\u7c7b\u5904\u7406\uff0c\u4e5f\u53ef\u4ee5\u5728\u9ad8\u7ea7\u8bbe\u7f6e\u4e2d\u8fd9\u6837\u505a\u3002\u60a8\u5bf9\u672c\u7f51\u7ad9\u7684\u540c\u610f\u9009\u62e9\u662f*\u7279\u5b9a\u670d\u52a1*\u3002\u60a8\u53ef\u4ee5\u968f\u65f6\u901a\u8fc7\u70b9\u51fb\u9875\u9762\u5e95\u90e8\u7684\u4e2a\u4eba\u8bbe\u7f6e\u6309\u94ae\u6765\u66f4\u6539\u60a8\u7684\u504f\u597d\u3002",
"advancedSettings":"\u9ad8\u7ea7","viewAllVendors":"\u67e5\u770b\u6240\u6709\u4f9b\u5e94\u5546","withdrawConsent":"\u64a4\u56de\u540c\u610f","accept":"\u63a5\u53d7"},"tcf2PurpAndFeaturesModal":{"title":"\u76ee\u7684\u548c\u7279\u70b9","description":"\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e09\u65b9\u51fa\u4e8e\u5408\u6cd5\u5229\u76ca\u5904\u7406\u60a8\u7684\u6570\u636e\u3002\u60a8\u6709\u6743\u53cd\u5bf9\u6b64\u7c7b\u5904\u7406\uff0c\u4e5f\u53ef\u4ee5\u5728 \u201c\u5408\u6cd5\u5229\u76ca\u201d \u9009\u9879\u5361\u4e2d\u8fd9\u6837\u505a\u3002",
"save":"\u4fdd\u5b58","allowAll":"\u5168\u90e8\u5141\u8bb8","cancel":"\u53d6\u6d88"},"tcf2VendorModal":{"title":"\u4f9b\u5e94\u5546","description":"\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e09\u65b9\u51fa\u4e8e\u5408\u6cd5\u5229\u76ca\u5904\u7406\u60a8\u7684\u6570\u636e\u3002\u60a8\u6709\u6743\u53cd\u5bf9\u6b64\u7c7b\u5904\u7406\uff0c\u4e5f\u53ef\u4ee5\u5728 \u201c\u5408\u6cd5\u5229\u76ca\u201d \u9009\u9879\u5361\u4e2d\u8fd9\u6837\u505a\u3002","save":"\u4fdd\u5b58","allowAll":"\u5168\u90e8\u5141\u8bb8",
"cancel":"\u53d6\u6d88"},"tcf2LegitimateInterestsModal":{"title":"\u5408\u6cd5\u6743\u76ca","description":"\u4e3a\u4e86\u5c3d\u53ef\u80fd\u63d0\u4f9b\u6700\u4f73\u4f53\u9a8c\uff0c\u7b2c\u4e09\u65b9\u51fa\u4e8e\u5408\u6cd5\u5229\u76ca\u5904\u7406\u60a8\u7684\u6570\u636e\u3002\u8fd9\u53ef\u80fd\u6d89\u53ca\u5c06\u8bf8\u5982\u5e7f\u544a\u6807\u8bc6\u7b26\u3001\u6709\u5173\u60a8\u7684\u5174\u8da3\u7684\u4fe1\u606f\u4ee5\u53ca\u60a8\u7684 IP \u5730\u5740\u4e4b\u7c7b\u7684\u4e2a\u4eba\u6570\u636e\u53d1\u9001\u7ed9\u7b2c\u4e09\u65b9\u8fdb\u884c\u5904\u7406\u3002\u6211\u4eec\u5c06\u8fd9\u4e9b\u4fe1\u606f\u7528\u4e8e\u4f53\u9a8c\u4e30\u5bcc\u3001\u5206\u6790\u548c\u5b9a\u5411\u5e7f\u544a\u7b49\u7528\u9014\u3002\u6211\u4eec\u5efa\u8bae\u5141\u8bb8\u4f7f\u7528\u8fd9\u4e9b\u529f\u80fd\u6765\u5145\u5206\u5229\u7528\u60a8\u7684\u4f53\u9a8c\u3002\u60a8\u6709\u6743\u53cd\u5bf9\u6b64\u7c7b\u5904\u7406\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u6b64\u5904\u8fd9\u6837\u505a\u3002\u60a8\u5bf9\u672c\u7f51\u7ad9\u7684\u540c\u610f\u9009\u62e9\u662f*\u7279\u5b9a\u670d\u52a1*\u3002",
"legitimateInterestPurposes":"\u5408\u6cd5\u5229\u76ca\u76ee\u7684","save":"\u4fdd\u5b58","objectToAll":"\u5411\u6240\u6709\u4eba\u63d0\u51fa\u5f02\u8bae","cancel":"\u53d6\u6d88"},"tcf2Shared":{"purposes":"\u76ee\u7684","features":"\u7279\u5f81","specialPurposes":"\u7279\u6b8a\u7528\u9014","specialFeatures":"\u7279\u6b8a\u529f\u80fd","vendors":"\u4f9b\u5e94\u5546","privacyPolicy":"\u9690\u79c1\u653f\u7b56","moreInfo":"\u66f4\u591a\u4fe1\u606f","notAffiliated":"\u4e0d\u96b6\u5c5e\u4e8e IAB","legitimateInterestClaim":"",
"retentionDays":"","dataDeclaration":"","illustrations":"","deviceStorageDetails":""},"save":"\u4fdd\u5b58","cancel":"\u53d6\u6d88","close":"\u901a\u77e5\u6a2a\u5e45\u5173\u95ed","cookies":{"Advertising":{"title":"Advertising","description":"You permit Delta to use your data for personalized content and offers."}}},"enablePrivacyNotice":false,"enableConsentModal":false,"showTrustedDomains":false,"enableTCF":false,"allowPerTagOptOut":false,"shouldNotAutoShowModal":false,"enableDoNotSellModal":false,
"autoDoNotSellAllCategories":false,"enableRequestDataModal":false,"enableDeleteDataModal":false,"consentWidget":false,"enableGoogleConsent":false,"honorGlobalPrivacyControl":true,"globalPrivacyControlCategories":[],"bannerConfig":{"ensAcceptAll":{"show":false},"ensRejectAll":{"show":false},"ensOpenModal":{"show":false},"ensCloseBanner":{"show":true}},"includePrivacyNoticeCustomConfig":false,"includeConsentModalCustomConfig":false,"consentModalConfig":{"ensConsentAcceptAll":{"show":false},"ensConsentRejectAll":{"show":false},
"ensSaveModal":{"show":true},"ensCloseModal":{"show":true}}},{"name":"Content Pages","countryCode":"us","languageCode":"en-US","condition":{"type":"url","key":"","value":"^(.*/content/www/.*|.*about-delta.*|.*accessible-travel-services.*|.*advisories.*|.*aircraft.*|.*airports.*|.*booking-information.*|.*change-cancel.*|.*check-in-security.*|.*children-infant-travel.*|.*corporate-travel.*|.*delta-sky-club.*|.*flight-deals.*|.*legal.*|.*need-help.*|.*pet-travel.*|.*special-circumstances.*|.*travel-gift-cards.*|.*404.*|.*baggage.*|.*/en_US/skymiles.*|.*delta-experience.*|.*en_US/(?!#).*|.*careers.*|.*campaigns.*|.*.skymiles/airline-credit-cards.*|.*skymiles/medallion-program.*|.*skymiles/program-resources.*|.*skymiles/how-to-.*|.*campaigns/featured-locations.*|.*delta-digital.*|.*/skymiles.*|.*coronavirus-update-center.*|.*travel-update-center.*|.*plan-your-next-trip.*|.*gift-cards.*|.*delta-vacations.*|.*travel-planning-center.*|.*covid-test-manager.*|.*flyready.*)$",
"shouldBePositive":true,"operator":"regexp","caseInsensitive":false,"_and":{"type":"jsVar","key":"ensPrivacy","value":"true","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-be","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-cz","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-dk","shouldBePositive":false,
"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-fr","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-de","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-gr","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-is","shouldBePositive":false,"operator":"contains",
"caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-ie","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-nl","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-es","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-se","shouldBePositive":false,"operator":"contains","caseInsensitive":false,
"_and":{"type":"cookie","key":"prefUI","value":"-ch","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-gb","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"jsVar","key":"window.gdpr","value":"true","shouldBePositive":false,"operator":"equals","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-eu","shouldBePositive":false,"operator":"contains","caseInsensitive":false}}}}}}}}}}}}}}}}},
"optVals":{"Advertising":1},"translation":{"notificationBannerContent":"Notification Banner Content","notificationBannerAllowAll":"Notification Banner Allow All","notificationBannerDenyAll":"Notification Banner Deny All","notificationBannerPreferences":"Notification Banner Preferences","consentTitle":"Privacy Settings","consentDescription":"In order to provide with the best experience possible we might sometimes track information about you. Sometimes this may involve writing a cookie. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience.",
"consentWidgetCopy":"Privacy Settings","tcf2Modal":{"title":"Privacy Settings","description":"In order to provide the best experience possible, we might sometimes track information about you. This may involve sending personal data such as advertising identifiers, information about your interests, and your IP address to third parties for processing. This information may be stored and/or accessed by this site and third parties through the use of cookies, device identifiers or other device data. You can view a list of the third parties by clicking the View All Vendors link or Advanced Settings button. We use this information for things like experience enrichment, analytics, and targeted advertising. We recommend allowing these functions in order to get the most out of your experience. In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Advanced Settings. Your consent choices are *service-specific* to this site. You can change your preferences anytime by clicking on the Personal Settings button at the bottom of the page.",
"advancedSettings":"Advanced","viewAllVendors":"View All Vendors","withdrawConsent":"Withdraw Consent","accept":"Accept"},"tcf2PurpAndFeaturesModal":{"title":"Purposes \x26 Features","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.","save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2VendorModal":{"title":"Vendors","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.",
"save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2LegitimateInterestsModal":{"title":"Legitimate Interest","description":"In order to provide with the best experience possible third parties are processing your data based in legitimate interest. This may involve sending personal data such as advertising identifiers, information about your interests and your IP address to third parties for processing. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience. You have the right to object to such processing and can do so here. Your consent choices are *service-specific* to this site.",
"legitimateInterestPurposes":"Legitimate Interest Purposes","save":"Save","objectToAll":"Object to All","cancel":"Cancel"},"tcf2Shared":{"purposes":"Purposes","features":"Features","specialPurposes":"Special Purposes","specialFeatures":"Special Features","vendors":"Vendors","privacyPolicy":"Privacy Policy","moreInfo":"More Info","notAffiliated":"Not Affiliated with the IAB"},"save":"Save","cancel":"Cancel","close":"Notification Banner Close","cookies":{"Advertising":{"title":"Advertising","description":"test"}}},
"enablePrivacyNotice":false,"enableConsentModal":false,"showTrustedDomains":false,"enableTCF":false,"allowPerTagOptOut":false,"shouldNotAutoShowModal":false,"enableDoNotSellModal":false,"autoDoNotSellAllCategories":false,"enableRequestDataModal":false,"enableDeleteDataModal":false,"consentWidget":false,"enableGoogleConsent":false,"honorGlobalPrivacyControl":true,"globalPrivacyControlCategories":[],"bannerConfig":{"ensAcceptAll":{"show":false},"ensRejectAll":{"show":false},"ensOpenModal":{"show":false},
"ensCloseBanner":{"show":true}},"includePrivacyNoticeCustomConfig":false,"includeConsentModalCustomConfig":false,"consentModalConfig":{"ensConsentAcceptAll":{"show":false},"ensConsentRejectAll":{"show":false},"ensSaveModal":{"show":true},"ensCloseModal":{"show":true}}},{"name":"Global Policy","languageCode":"en","condition":{"type":"url","key":"","value":"delta","shouldBePositive":true,"operator":"contains","caseInsensitive":false,"_and":{"type":"jsVar","key":"ensPrivacy","value":"true","shouldBePositive":false,
"operator":"equals","caseInsensitive":false,"_and":{"type":"url","key":"","value":"/eu/","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-be","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-cz","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-dk","shouldBePositive":false,"operator":"contains",
"caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-fr","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-de","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-gr","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-is","shouldBePositive":false,"operator":"contains","caseInsensitive":false,
"_and":{"type":"cookie","key":"prefUI","value":"-ie","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-nl","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-es","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-se","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie",
"key":"prefUI","value":"-ch","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"cookie","key":"prefUI","value":"-gb","shouldBePositive":false,"operator":"contains","caseInsensitive":false,"_and":{"type":"jsVar","key":"browserIE","value":"true","shouldBePositive":false,"operator":"equals","caseInsensitive":false,"_and":{"type":"url","key":"","value":"seat-map","shouldBePositive":false,"operator":"contains","caseInsensitive":false}}}}}}}}}}}}}}}}}},"optVals":{"Advertising":1},
"translation":{"notificationBannerContent":"Notification Banner Content","notificationBannerAllowAll":"Notification Banner Allow All","notificationBannerDenyAll":"Notification Banner Deny All","notificationBannerPreferences":"Notification Banner Preferences","consentTitle":"Privacy Settings","consentDescription":"In order to provide with the best experience possible we might sometimes track information about you. Sometimes this may involve writing a cookie. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience.",
"consentWidgetCopy":"Privacy Settings","tcf2Modal":{"title":"Privacy Settings","description":"In order to provide the best experience possible, we might sometimes track information about you. This may involve sending personal data such as advertising identifiers, information about your interests, and your IP address to third parties for processing. This information may be stored and/or accessed by this site and third parties through the use of cookies, device identifiers or other device data. You can view a list of the third parties by clicking the View All Vendors link or Advanced Settings button. We use this information for things like experience enrichment, analytics, and targeted advertising. We recommend allowing these functions in order to get the most out of your experience. In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Advanced Settings. Your consent choices are *service-specific* to this site. You can change your preferences anytime by clicking on the Personal Settings button at the bottom of the page.",
"advancedSettings":"Advanced","viewAllVendors":"View All Vendors","withdrawConsent":"Withdraw Consent","accept":"Accept"},"tcf2PurpAndFeaturesModal":{"title":"Purposes \x26 Features","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.","save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2VendorModal":{"title":"Vendors","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.",
"save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2LegitimateInterestsModal":{"title":"Legitimate Interest","description":"In order to provide with the best experience possible third parties are processing your data based in legitimate interest. This may involve sending personal data such as advertising identifiers, information about your interests and your IP address to third parties for processing. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience. You have the right to object to such processing and can do so here. Your consent choices are *service-specific* to this site.",
"legitimateInterestPurposes":"Legitimate Interest Purposes","save":"Save","objectToAll":"Object to All","cancel":"Cancel"},"tcf2Shared":{"purposes":"Purposes","features":"Features","specialPurposes":"Special Purposes","specialFeatures":"Special Features","vendors":"Vendors","privacyPolicy":"Privacy Policy","moreInfo":"More Info","notAffiliated":"Not Affiliated with the IAB"},"save":"Save","cancel":"Cancel","close":"Notification Banner Close","cookies":{"Advertising":{"title":"Advertising","description":"test"}}},
"dataMonitoring":{"mode":"mask","blockURLParamsRegex":[{"name":"Amex","regex":"^3[47][0-9]{13}$"},{"name":"Diners","regex":"^3(?:0[0-5]|[68][0-9])[0-9]{11}$"},{"name":"Discover","regex":"^6(?:011|5[0-9]{2})[0-9]{12}$"},{"name":"JCB","regex":"^(?:2131|1800|35\\d{3})\\d{11}$"},{"name":"Mastercard","regex":"^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$"},{"name":"Skymiles Number","regex":"^\\d{10}$"},{"name":"Visa","regex":"^4[0-9]{12}(?:[0-9]{3})?$"}],"domainsAllowed":["dlt1223.dynatrace-managed.com",
"cdn1-sandbox.affirm.com",".*dynatrace-managed.com.*",".*\\.akamaihd\\.net.*","sandbox.affirm.com","tracker.affirm.com","assets.adobedtm.com",".*\\.smetrics.delta.com.*","en-si-content-delta.onelink-translations.com","online.americanexpress.com","dxp-cardapp-qa.americanexpress.com","apply.americanexpress.com","e2qonline.americanexpress.com","mcheckout-qa.americanexpress.com","deltaairlines.tt.omtrdc.net","en-si-delta.onelink-translations.com",".*\\.akamaihd\\.net",".*\\-deltaairlines-tt-omtrdc-net\\.onelink-translations\\.com",
".*\\.americanexpress\\.com","usage\\.trackjs\\.com","dlt-beacon.dynatrace-managed.com","capture.trackjs.com","cdn.trackjs.com","usage.trackjs.com","nexus.ensighten.com",".*\\.affirm\\.com.*","delta.celebrus.com","manage-api.ensighten.com","nexus-test.ensighten.com","manage.ensighten.com","jp-content-delta.onelink-translations.com","echeckout.americanexpress.com","checkout.americanexpress.com",".*.delta.com",".*\\.onelink-translations\\.com","stg2.virginatlantic.com","stg2-content.virginatlantic.com",
"stg-content.virginatlantic.com","adobedc.demdex.net","delta.demdex.net","fast.delta.demdex.net","dpm.demdex\\.net","delta\\.demdex\\.net","aexp\\.demdex\\.net","dpm\\.demdex\\.net"],"maskCharacter":"~","processRequestBody":false,"monitorBase64Data":false},"enablePrivacyNotice":false,"enableConsentModal":false,"showTrustedDomains":false,"enableTCF":false,"allowPerTagOptOut":false,"shouldNotAutoShowModal":false,"enableDoNotSellModal":false,"autoDoNotSellAllCategories":false,"enableRequestDataModal":false,
"enableDeleteDataModal":false,"consentWidget":false,"enableGoogleConsent":false,"honorGlobalPrivacyControl":true,"globalPrivacyControlCategories":[],"bannerConfig":{"ensAcceptAll":{"show":false},"ensRejectAll":{"show":false},"ensOpenModal":{"show":false},"ensCloseBanner":{"show":true}},"includePrivacyNoticeCustomConfig":false,"includeConsentModalCustomConfig":false,"consentModalConfig":{"ensConsentAcceptAll":{"show":false},"ensConsentRejectAll":{"show":false},"ensSaveModal":{"show":true},"ensCloseModal":{"show":true}}},
{"name":"South Korea","languageCode":"en","condition":{"type":"cookie","key":"prefUI","value":"-kr","shouldBePositive":true,"operator":"contains","caseInsensitive":true,"_or":{"type":"url","value":"/kr/","shouldBePositive":true,"operator":"contains","caseInsensitive":true,"_or":{"type":"jsVar","key":"OneTrust.geolocationResponse.countryCode","value":"kr","shouldBePositive":true,"operator":"equals","caseInsensitive":true}}},"optVals":{"Advertising":0},"translation":{"notificationBannerContent":"Notification Banner Content",
"notificationBannerAllowAll":"Notification Banner Allow All","notificationBannerDenyAll":"Notification Banner Deny All","notificationBannerPreferences":"Notification Banner Preferences","consentTitle":"Privacy Settings","consentDescription":"In order to provide with the best experience possible we might sometimes track information about you. Sometimes this may involve writing a cookie. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience.",
"consentWidgetCopy":"Privacy Settings","tcf2Modal":{"title":"Privacy Settings","description":"In order to provide the best experience possible, we might sometimes track information about you. This may involve sending personal data such as advertising identifiers, information about your interests, and your IP address to third parties for processing. This information may be stored and/or accessed by this site and third parties through the use of cookies, device identifiers or other device data. You can view a list of the third parties by clicking the View All Vendors link or Advanced Settings button. We use this information for things like experience enrichment, analytics, and targeted advertising. We recommend allowing these functions in order to get the most out of your experience. In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Advanced Settings. Your consent choices are *service-specific* to this site. You can change your preferences anytime by clicking on the Personal Settings button at the bottom of the page.",
"advancedSettings":"Advanced","viewAllVendors":"View All Vendors","withdrawConsent":"Withdraw Consent","accept":"Accept"},"tcf2PurpAndFeaturesModal":{"title":"Purposes \x26 Features","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.","save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2VendorModal":{"title":"Vendors","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.",
"save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2LegitimateInterestsModal":{"title":"Legitimate Interest","description":"In order to provide with the best experience possible third parties are processing your data based in legitimate interest. This may involve sending personal data such as advertising identifiers, information about your interests and your IP address to third parties for processing. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience. You have the right to object to such processing and can do so here. Your consent choices are *service-specific* to this site.",
"legitimateInterestPurposes":"Legitimate Interest Purposes","save":"Save","objectToAll":"Object to All","cancel":"Cancel"},"tcf2Shared":{"purposes":"Purposes","features":"Features","specialPurposes":"Special Purposes","specialFeatures":"Special Features","vendors":"Vendors","privacyPolicy":"Privacy Policy","moreInfo":"More Info","notAffiliated":"Not Affiliated with the IAB"},"save":"Save","cancel":"Cancel","close":"Notification Banner Close","cookies":{"Advertising":{"title":"a","description":"a"}}},
"bannerConfig":{"ensAcceptAll":{"show":false},"ensRejectAll":{"show":false},"ensOpenModal":{"show":false},"ensCloseBanner":{"show":true}},"consentModalConfig":{"ensConsentAcceptAll":{"show":false},"ensConsentRejectAll":{"show":false},"ensSaveModal":{"show":true},"ensCloseModal":{"show":true}}}]};if(Bootstrapper.ensightenOptions.publishPath)ensClientConfig.info.publishPath=Bootstrapper.ensightenOptions.publishPath;if(Bootstrapper.ensightenOptions.nexus){ensClientConfig.info.nexus=Bootstrapper.ensightenOptions.nexus;
if(Bootstrapper.ensightenOptions.nexus==="nexus.ensighten.com"||Bootstrapper.ensightenOptions.nexus==="nexus-test.ensighten.com")ensClientConfig.info.reporting="data.privacy.ensighten.com";else ensClientConfig.info.reporting=Bootstrapper.ensightenOptions.nexus}},4096943,[4097446],767627,[767631]);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;TMS.registerDataDefinition(function(){TMS.data.define({extract:function(){try{var value="; "+document.cookie;var parts=value.split("; pref\x3d");if(parts.length==2){var cookieValue=decodeURIComponent(parts.pop().split(";").shift());if(cookieValue)return cookieValue}return"en-us"}catch(exp){return"en-us"}},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.immediateTrigger,
dataDefName:"Country-Lang Pref Cookie",collection:"Cookie Data",source:"Manage",priv:"false"},{id:"54164"})},54164)},-1,-1);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;TMS.registerDataDefinition(function(){TMS.data.define({extract:function anon(){var country=Bootstrapper.Cookies.get("prefUI")&&Bootstrapper.Cookies.get("prefUI").split("-")&&Bootstrapper.Cookies.get("prefUI").split("-")[1]&&Bootstrapper.Cookies.get("prefUI").split("-")[1].toLowerCase()||Bootstrapper.Cookies.get("pref")&&Bootstrapper.Cookies.get("pref").split("-")&&Bootstrapper.Cookies.get("pref").split("-")[1]&&
Bootstrapper.Cookies.get("pref").split("-")[1].toLowerCase(),region="us";var us=/ca|mx|us/,eu=/al|at|ba|be|bg|ch|cy|cz|dk|de|es|eu|fi|fr|gb|gr|hr|hu|ie|is|it|lv|li|lt|lu|me|mk|mt|nl|no|pl|pt|ro|rs|si|sk|se|tr|xk/,lac=/ag|aq|bs|bm|ky|cu|do|d|ht|jm|an|pr|pr|kn|lc|sx|tc|vi|car|ar|bz|br|cl|co|cr|ec|sv|gt|hn|ni|pa|pe|lac/,apac=/au|cn|hk|in|jp|pw|ph|sg|kr|apac/,mea=/gh|il|ng|sn|za|ae|mea/;if(us.test(country))region=country;else if(eu.test(country))region="eu";else if(lac.test(country))region="lac";else if(apac.test(country))region=
"apac";else if(mea.test(country))region="mea";return region},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Region",collection:"global",source:"Manage",priv:"false"},{id:"64212"})},64212)},-1,-1);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;if(document.location.pathname.indexOf("/delta-vacation")<0&&document.location.pathname.indexOf("/vacations/")<0){window.setVisitorIDService=function(){var visitorObj={"trackingServer":"metrics.delta.com","cookieLifetime":33696E3,"cookieDomain":""};if("smetrics.delta.com")visitorObj.trackingServerSecure="smetrics.delta.com";if("metrics.delta.com")visitorObj.marketingCloudServer="metrics.delta.com";
if("smetrics.delta.com")visitorObj.marketingCloudServerSecure="smetrics.delta.com";if(3E4)visitorObj.loadTimeout=3E4;!function e(t,i,n){function r(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u;}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return r(i||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var a="function"==typeof require&&
require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){(function(i){e("./utils/polyfills");var n=e("./strategies/LocalVisitor"),r=e("./strategies/ProxyVisitor"),a=e("./strategies/PlaceholderVisitor"),s=e("./utils/callbackRegistryFactory"),o=e("./Message"),l=e("./enums"),u=l.MESSAGES;t.exports=function(e,t,l,c){function d(e){Object.assign(I,e)}function f(e){Object.assign(I.state,e),I.callbackRegistry.executeAll(I.state)}function g(e){if(!A.isInvalid(e)){v=!1;var t=A.parse(e);I.setStateAndPublish(t.state)}}
function _(e){!v&&C&&(v=!0,A.send(c,e))}function m(){d(new n(l._generateID)),I.getMarketingCloudVisitorID(),I.callbackRegistry.executeAll(I.state,!0),i.removeEventListener("message",p)}function p(e){if(!A.isInvalid(e)){var t=A.parse(e);v=!1,i.clearTimeout(this.timeout),i.removeEventListener("message",p),d(new r(I)),i.addEventListener("message",g),I.setStateAndPublish(t.state),I.callbackRegistry.hasCallbacks()&&_(u.GETSTATE)}}function h(){C&&postMessage?(i.addEventListener("message",p),_(u.HANDSHAKE),
this.timeout=setTimeout(m,250)):m()}function S(){i.s_c_in||(i.s_c_il=[],i.s_c_in=0),I._c="Visitor",I._il=i.s_c_il,I._in=i.s_c_in,I._il[I._in]=I,i.s_c_in++}function D(){function e(e){0!==e.indexOf("_")&&"function"==typeof l[e]&&(I[e]=function(){})}Object.keys(l).forEach(e),I.getSupplementalDataID=l.getSupplementalDataID}var I=this,C=t.whitelistParentDomain;I.state={},I.version=l.version,I.marketingCloudOrgID=e;var v=!1,A=new o(e,C);I.callbackRegistry=s(),I.findField=function(e,t){if(I.state[e])return t(I.state[e]),
I.state[e]},I.messageParent=_,I.setStateAndPublish=f,function(){S(),D(),d(new a(I)),h()}()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Message":2,"./enums":4,"./strategies/LocalVisitor":5,"./strategies/PlaceholderVisitor":6,"./strategies/ProxyVisitor":7,"./utils/callbackRegistryFactory":8,"./utils/polyfills":10}],2:[function(e,t,i){var n=e("./enums"),r=n.MESSAGES,a={0:"prefix",1:"orgID",2:"state"};t.exports=function(e,t){this.parse=
function(e){try{var t={};return e.data.split("|").forEach(function(e,i){if(void 0!==e)t[a[i]]=2!==i?e:JSON.parse(e)}),t}catch(e){}},this.isInvalid=function(i){var n=this.parse(i);if(!n||Object.keys(n).length<2)return!0;var a=e!==n.orgID,s=!t||i.origin!==t,o=-1===Object.keys(r).indexOf(n.prefix);return a||s||o},this.send=function(i,n,r){var a=n+"|"+e;r&&r===Object(r)&&(a+="|"+JSON.stringify(r));try{i.postMessage(a,t)}catch(e){}}}},{"./enums":4}],3:[function(e,t,i){(function(i){function n(){function e(){o.windowLoaded=
!0}i.addEventListener?i.addEventListener("load",e):i.attachEvent&&i.attachEvent("onload",e),o.codeLoadEnd=(new Date).getTime()}var r=e("./ChildVisitor"),a=e("./Message"),s=e("./utils/makeChildMessageListener"),o=function(e,t){function n(e){function t(e,t){e&&e.match(p.VALID_VISITOR_ID_REGEX)&&t(e)}t(e[D],f.setMarketingCloudVisitorID),f._setFieldExpire(k,-1),t(e[E],f.setAnalyticsVisitorID)}function r(e){e=e||{},f._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",f._supplementalDataIDCurrentConsumed=
e.supplementalDataIDCurrentConsumed||{},f._supplementalDataIDLast=e.supplementalDataIDLast||"",f._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){for(var t="",i=0,n=e.length;i<n;i++){var r=e[i],a=r[0],s=r[1];null!=s&&s!==L&&(t=function(e,t,i){return i=i?i+="|":i,i+=e+"\x3d"+encodeURIComponent(t)}(a,s,t))}return function(e){var t=P.getTimestampInSeconds();return e=e?e+="|":e,e+="TS\x3d"+t}(t)}function l(e){var t=e.minutesToLive,i="";return f.idSyncDisableSyncs&&(i=
i||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(i=i||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(i=i||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(i=i||"Error: config.minutesToLive needs to be a positive number")),{error:i,ttl:t}}function u(e){for(var t=0,i=e.length;t<i;t++)if(!p.POSITIVE_INT_REGEX.test(e[t]))return!1;return!0}function c(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}
function d(e,t){for(var i=0;i<e.length;i++){var n=parseInt(e[i],10),r=parseInt(t[i],10);if(n>r)return 1;if(r>n)return-1}return 0}if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID");var f=this;f.version="2.3.0";var g=i,_=g.Visitor;_.version=f.version,g.s_c_in||(g.s_c_il=[],g.s_c_in=0),f._c="Visitor",f._il=g.s_c_il,f._in=g.s_c_in,f._il[f._in]=f,g.s_c_in++,f._log={requests:[]};var m=g.document,p={POST_MESSAGE_ENABLED:!!g.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864E5,
ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,POSITIVE_INT_REGEX:/^\d+$/,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,HAS_JSON_STRINGIFY:window.JSON===Object(window.JSON)&&"function"==typeof window.JSON.stringify},h=function(e){return!Object.prototype[e]};f._hash=function(e){var t,i,n=0;if(e)for(t=0;t<e.length;t++)i=e.charCodeAt(t),n=(n<<5)-n+i,n&=n;return n},f._generateID=function(e,t){var i,n,r="0123456789",a="",
s="",o=8,l=10,u=10;if(t===D&&(N.isClientSideMarketingCloudVisitorID=!0),1===e){for(r+="ABCDEF",i=0;i<16;i++)n=Math.floor(Math.random()*o),a+=r.substring(n,n+1),n=Math.floor(Math.random()*o),s+=r.substring(n,n+1),o=16;return a+"-"+s}for(i=0;i<19;i++)n=Math.floor(Math.random()*l),a+=r.substring(n,n+1),0===i&&9===n?l=3:(1===i||2===i)&&10!==l&&n<2?l=10:i>2&&(l=10),n=Math.floor(Math.random()*u),s+=r.substring(n,n+1),0===i&&9===n?u=3:(1===i||2===i)&&10!==u&&n<2?u=10:i>2&&(u=10);return a+s},f._getDomain=
function(e){var t;if(!e&&g.location&&(e=g.location.hostname),t=e)if(/^[0-9.]+$/.test(t))t="";else{var i=",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,",
n=t.split("."),r=n.length-1,a=r-1;if(r>1&&n[r].length<=2&&(2===n[r-1].length||i.indexOf(","+n[r]+",")<0)&&a--,a>0)for(t="";r>=a;)t=n[r]+(t?".":"")+t,r--}return t},f.cookieRead=function(e){e=encodeURIComponent(e);var t=(";"+m.cookie).split(" ").join(";"),i=t.indexOf(";"+e+"\x3d"),n=i<0?i:t.indexOf(";",i+1);return i<0?"":decodeURIComponent(t.substring(i+2+e.length,n<0?t.length:n))},f.cookieWrite=function(e,t,i){var n,r=f.cookieLifetime;if(t=""+t,r=r?(""+r).toUpperCase():"",i&&"SESSION"!==r&&"NONE"!==
r)if(n=""!==t?parseInt(r||0,10):-60)i=new Date,i.setTime(i.getTime()+1E3*n);else{if(1===i){i=new Date;var a=i.getYear();i.setYear(a+2+(a<1900?1900:0))}}else i=0;return e&&"NONE"!==r?(m.cookie=encodeURIComponent(e)+"\x3d"+encodeURIComponent(t)+"; path\x3d/;"+(i?" expires\x3d"+i.toGMTString()+";":"")+(f.cookieDomain?" domain\x3d"+f.cookieDomain+";":""),f.cookieRead(e)===t):0},f._callbackList=null,f._callCallback=function(e,t){try{"function"==typeof e?e.apply(g,t):e[1].apply(e[0],t)}catch(e){}},f._registerCallback=
function(e,t){t&&(null==f._callbackList&&(f._callbackList={}),void 0==f._callbackList[e]&&(f._callbackList[e]=[]),f._callbackList[e].push(t))},f._callAllCallbacks=function(e,t){if(null!=f._callbackList){var i=f._callbackList[e];if(i)for(;i.length>0;)f._callCallback(i.shift(),t)}},f._addQuerystringParam=function(e,t,i,n){var r=encodeURIComponent(t)+"\x3d"+encodeURIComponent(i),a=P.parseHash(e),s=P.hashlessUrl(e);if(-1===s.indexOf("?"))return s+"?"+r+a;var o=s.split("?"),l=o[0]+"?",u=o[1];return l+
P.addQueryParamAtLocation(u,r,n)+a},f._extractParamFromUri=function(e,t){var i=new RegExp("[\\?\x26#]"+t+"\x3d([^\x26#]*)"),n=i.exec(e);if(n&&n.length)return decodeURIComponent(n[1])},f._parseAdobeMcFromUrl=function(e){var t=e||g.location.href;try{var i=f._extractParamFromUri(t,p.ADOBE_MC);if(i)return P.parsePipeDelimetedKeyValues(i)}catch(e){}},f._parseAdobeMcSdidFromUrl=function(e){var t=e||g.location.href;try{var i=f._extractParamFromUri(t,p.ADOBE_MC_SDID);if(i)return P.parsePipeDelimetedKeyValues(i)}catch(e){}},
f._attemptToPopulateSdidFromUrl=function(t){var i=f._parseAdobeMcSdidFromUrl(t),n=1E9;i&&i.TS&&(n=P.getTimestampInSeconds()-i.TS),i&&i.SDID&&i[I]===e&&n<f.sdidParamExpiry&&(f._supplementalDataIDCurrent=i.SDID,f._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},f._attemptToPopulateIdsFromUrl=function(){var t=f._parseAdobeMcFromUrl();if(t&&t.TS){var i=P.getTimestampInSeconds(),r=i-t.TS;if(Math.floor(r/60)>p.ADOBE_MC_TTL_IN_MIN||t[I]!==e)return;n(t)}},f.resetState=function(e){e?f._mergeServerState(e):
r()},f._mergeServerState=function(e){if(e)try{if(e=function(e){return P.isObject(e)?e:P.parseJSON(e)}(e),e[f.marketingCloudOrgID]){var t=e[f.marketingCloudOrgID];!function(e){P.isObject(e)&&f.setCustomerIDs(e)}(t.customerIDs),r(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.");}},f._timeout=null,f._loadData=function(e,t,i,n){t=f._addQuerystringParam(t,"d_fieldgroup",e,1),n.url=f._addQuerystringParam(n.url,"d_fieldgroup",e,1),n.corsUrl=f._addQuerystringParam(n.corsUrl,"d_fieldgroup",
e,1),N.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===f._requestProcs.corsMetadata.corsType?f._requestProcs.fireCORS(n,i,e):f.useCORSOnly||f._loadJSONP(e,t,i)},f._loadJSONP=function(e,t,i){var n,r=0,a=0;if(t&&m){for(n=0;!r&&n<2;){try{r=m.getElementsByTagName(n>0?"HEAD":"head"),r=r&&r.length>0?r[0]:0}catch(e){r=0}n++}if(!r)try{m.body&&(r=m.body)}catch(e){r=0}if(r)for(n=0;!a&&n<2;){try{a=m.createElement(n>0?"SCRIPT":"script")}catch(e){a=0}n++}}if(!t||!r||!a)return void(i&&i());a.type=
"text/javascript",a.src=t,r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a);var s=f.loadTimeout;i&&(null==f._timeout&&(f._timeout={}),f._timeout[e]=setTimeout(function(){i(!0)},s)),f._log.requests.push(t)},f._clearTimeout=function(e){null!=f._timeout&&f._timeout[e]&&(clearTimeout(f._timeout[e]),f._timeout[e]=0)},f._isAllowedDone=!1,f._isAllowedFlag=!1,f.isAllowed=function(){return f._isAllowedDone||(f._isAllowedDone=!0,(f.cookieRead(f.cookieName)||f.cookieWrite(f.cookieName,"T",1))&&(f._isAllowedFlag=
!0)),f._isAllowedFlag},f._fields=null,f._fieldsExpired=null;var S="MC",D="MCMID",I="MCORGID",C="MCCIDH",v="MCSYNCS",A="MCSYNCSOP",y="MCIDTS",M="MCOPTOUT",b="A",E="MCAID",O="AAM",T="MCAAMLH",k="MCAAMB",L="NONE";f._settingsDigest=0,f._getSettingsDigest=function(){if(!f._settingsDigest){var e=f.version;f.audienceManagerServer&&(e+="|"+f.audienceManagerServer),f.audienceManagerServerSecure&&(e+="|"+f.audienceManagerServerSecure),f._settingsDigest=f._hash(e)}return f._settingsDigest},f._readVisitorDone=
!1,f._readVisitor=function(){if(!f._readVisitorDone){f._readVisitorDone=!0;var e,t,i,n,r,a,s=f._getSettingsDigest(),o=!1,l=f.cookieRead(f.cookieName),u=new Date;if(null==f._fields&&(f._fields={}),l&&"T"!==l)for(l=l.split("|"),l[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==s&&(o=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)t=l[e].split("-"),i=t[0],n=l[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),o&&(i===C&&(n=""),r>0&&(r=u.getTime()/1E3-60)),i&&n&&(f._setField(i,
n,1),r>0&&(f._fields["expire"+i]=r+(a?"s":""),(u.getTime()>=1E3*r||a&&!f.cookieRead(f.sessionCookieName))&&(f._fieldsExpired||(f._fieldsExpired={}),f._fieldsExpired[i]=!0)));!f._getField(E)&&P.isTrackingServerPopulated()&&(l=f.cookieRead("s_vi"))&&(l=l.split("|"),l.length>1&&l[0].indexOf("v1")>=0&&(n=l[1],e=n.indexOf("["),e>=0&&(n=n.substring(0,e)),n&&n.match(p.VALID_VISITOR_ID_REGEX)&&f._setField(E,n)))}},f._appendVersionTo=function(e){var t="vVersion|"+f.version,i=e?f._getCookieVersion(e):null;
return i?P.areVersionsDifferent(i,f.version)&&(e=e.replace(p.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},f._writeVisitor=function(){var e,t,i=f._getSettingsDigest();for(e in f._fields)h(e)&&f._fields[e]&&"expire"!==e.substring(0,6)&&(t=f._fields[e],i+=(i?"|":"")+e+(f._fields["expire"+e]?"-"+f._fields["expire"+e]:"")+"|"+t);i=f._appendVersionTo(i),f.cookieWrite(f.cookieName,i,1)},f._getField=function(e,t){return null==f._fields||!t&&f._fieldsExpired&&f._fieldsExpired[e]?null:f._fields[e]},f._setField=function(e,
t,i){null==f._fields&&(f._fields={}),f._fields[e]=t,i||f._writeVisitor()},f._getFieldList=function(e,t){var i=f._getField(e,t);return i?i.split("*"):null},f._setFieldList=function(e,t,i){f._setField(e,t?t.join("*"):"",i)},f._getFieldMap=function(e,t){var i=f._getFieldList(e,t);if(i){var n,r={};for(n=0;n<i.length;n+=2)r[i[n]]=i[n+1];return r}return null},f._setFieldMap=function(e,t,i){var n,r=null;if(t){r=[];for(n in t)h(n)&&(r.push(n),r.push(t[n]))}f._setFieldList(e,r,i)},f._setFieldExpire=function(e,
t,i){var n=new Date;n.setTime(n.getTime()+1E3*t),null==f._fields&&(f._fields={}),f._fields["expire"+e]=Math.floor(n.getTime()/1E3)+(i?"s":""),t<0?(f._fieldsExpired||(f._fieldsExpired={}),f._fieldsExpired[e]=!0):f._fieldsExpired&&(f._fieldsExpired[e]=!1),i&&(f.cookieRead(f.sessionCookieName)||f.cookieWrite(f.sessionCookieName,"1"))},f._findVisitorID=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&
(e=L),e&&(e===L||e.match(p.VALID_VISITOR_ID_REGEX))||(e="")),e},f._setFields=function(e,t){if(f._clearTimeout(e),null!=f._loading&&(f._loading[e]=!1),N.fieldGroupObj[e]&&N.setState(e,!1),e===S){!0!==N.isClientSideMarketingCloudVisitorID&&(N.isClientSideMarketingCloudVisitorID=!1);var i=f._getField(D);if(!i||f.overwriteCrossDomainMCIDAndAID){if(!(i="object"==typeof t&&t.mid?t.mid:f._findVisitorID(t))){if(f._use1stPartyMarketingCloudServer&&!f.tried1stPartyMarketingCloudServer)return f.tried1stPartyMarketingCloudServer=
!0,void f.getAnalyticsVisitorID(null,!1,!0);i=f._generateID(0,D)}f._setField(D,i)}i&&i!==L||(i=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&f._setFields(O,t),f._use1stPartyMarketingCloudServer&&t.mid&&f._setFields(b,{id:t.id})),f._callAllCallbacks(D,[i])}if(e===O&&"object"==typeof t){var n=604800;void 0!=t.id_sync_ttl&&t.id_sync_ttl&&(n=parseInt(t.id_sync_ttl,10));var r=f._getField(T);r||(r=t.d_region,r||(r=t.dcs_region),r&&(f._setFieldExpire(T,n),f._setField(T,r))),r||(r=
""),f._callAllCallbacks(T,[r]);var a=f._getField(k);(t.d_blob||t.blob)&&(a=t.d_blob,a||(a=t.blob),f._setFieldExpire(k,n),f._setField(k,a)),a||(a=""),f._callAllCallbacks(k,[a]),!t.error_msg&&f._newCustomerIDsHash&&f._setField(C,f._newCustomerIDsHash)}if(e===b){var s=f._getField(E);s&&!f.overwriteCrossDomainMCIDAndAID||(s=f._findVisitorID(t),s?s!==L&&f._setFieldExpire(k,-1):s=L,f._setField(E,s)),s&&s!==L||(s=""),f._callAllCallbacks(E,[s])}if(f.idSyncDisableSyncs)w.idCallNotProcesssed=!0;else{w.idCallNotProcesssed=
!1;var o={};o.ibs=t.ibs,o.subdomain=t.subdomain,w.processIDCallData(o)}if(t===Object(t)){var l,u;f.isAllowed()&&(l=f._getField(M)),l||(l=L,t.d_optout&&t.d_optout instanceof Array&&(l=t.d_optout.join(",")),u=parseInt(t.d_ottl,10),isNaN(u)&&(u=7200),f._setFieldExpire(M,u,!0),f._setField(M,l)),f._callAllCallbacks(M,[l])}},f._loading=null,f._getRemoteField=function(e,t,i,n,r){var a,s="",o=P.isFirstPartyAnalyticsVisitorIDCall(e);if(f.isAllowed()){f._readVisitor(),s=f._getField(e,!0===x[e]);if(function(){return(!s||
f._fieldsExpired&&f._fieldsExpired[e])&&(!f.disableThirdPartyCalls||o)}()){if(e===D||e===M?a=S:e===T||e===k?a=O:e===E&&(a=b),a)return!t||null!=f._loading&&f._loading[a]||(null==f._loading&&(f._loading={}),f._loading[a]=!0,f._loadData(a,t,function(t){if(!f._getField(e)){t&&N.setState(a,!0);var i="";e===D?i=f._generateID(0,D):a===O&&(i={error_msg:"timeout"}),f._setFields(a,i)}},r)),f._registerCallback(e,i),s||(t||f._setFields(a,{id:L}),"")}else s||(e===D?(f._registerCallback(e,i),s=f._generateID(0,
D),f.setMarketingCloudVisitorID(s)):e===E?(f._registerCallback(e,i),s="",f.setAnalyticsVisitorID(s)):(s="",n=!0))}return e!==D&&e!==E||s!==L||(s="",n=!0),i&&n&&f._callCallback(i,[s]),s},f._setMarketingCloudFields=function(e){f._readVisitor(),f._setFields(S,e)},f.setMarketingCloudVisitorID=function(e){f._setMarketingCloudFields(e)},f._use1stPartyMarketingCloudServer=!1,f.getMarketingCloudVisitorID=function(e,t){if(f.isAllowed()){f.marketingCloudServer&&f.marketingCloudServer.indexOf(".demdex.net")<
0&&(f._use1stPartyMarketingCloudServer=!0);var i=f._getAudienceManagerURLData("_setMarketingCloudFields"),n=i.url;return f._getRemoteField(D,n,e,t,i)}return""},f._mapCustomerIDs=function(e){f.getAudienceManagerBlob(e,!0)},_.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},f._currentCustomerIDs={},f._customerIDsHashChanged=!1,f._newCustomerIDsHash="",f.setCustomerIDs=function(e){function t(){f._customerIDsHashChanged=!1}if(f.isAllowed()&&e){f._readVisitor();var i,n;for(i in e)if(h(i)&&(n=e[i]))if("object"==
typeof n){var r={};n.id&&(r.id=n.id),void 0!=n.authState&&(r.authState=n.authState),f._currentCustomerIDs[i]=r}else f._currentCustomerIDs[i]={id:n};var a=f.getCustomerIDs(),s=f._getField(C),o="";s||(s=0);for(i in a)h(i)&&(n=a[i],o+=(o?"|":"")+i+"|"+(n.id?n.id:"")+(n.authState?n.authState:""));f._newCustomerIDsHash=f._hash(o),f._newCustomerIDsHash!==s&&(f._customerIDsHashChanged=!0,f._mapCustomerIDs(t))}},f.getCustomerIDs=function(){f._readVisitor();var e,t,i={};for(e in f._currentCustomerIDs)h(e)&&
(t=f._currentCustomerIDs[e],i[e]||(i[e]={}),t.id&&(i[e].id=t.id),void 0!=t.authState?i[e].authState=t.authState:i[e].authState=_.AuthState.UNKNOWN);return i},f._setAnalyticsFields=function(e){f._readVisitor(),f._setFields(b,e)},f.setAnalyticsVisitorID=function(e){f._setAnalyticsFields(e)},f.getAnalyticsVisitorID=function(e,t,i){if(!P.isTrackingServerPopulated()&&!i)return f._callCallback(e,[""]),"";if(f.isAllowed()){var n="";if(i||(n=f.getMarketingCloudVisitorID(function(t){f.getAnalyticsVisitorID(e,
!0)})),n||i){var r=i?f.marketingCloudServer:f.trackingServer,a="";f.loadSSL&&(i?f.marketingCloudServerSecure&&(r=f.marketingCloudServerSecure):f.trackingServerSecure&&(r=f.trackingServerSecure));var s={};if(r){var o="http"+(f.loadSSL?"s":"")+"://"+r+"/id",l="d_visid_ver\x3d"+f.version+"\x26mcorgid\x3d"+encodeURIComponent(f.marketingCloudOrgID)+(n?"\x26mid\x3d"+encodeURIComponent(n):"")+(f.idSyncDisable3rdPartySyncing?"\x26d_coppa\x3dtrue":""),u=["s_c_il",f._in,"_set"+(i?"MarketingCloud":"Analytics")+
"Fields"];a=o+"?"+l+"\x26callback\x3ds_c_il%5B"+f._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields",s.corsUrl=o+"?"+l,s.callback=u}return s.url=a,f._getRemoteField(i?D:E,a,e,t,s)}}return""},f._setAudienceManagerFields=function(e){f._readVisitor(),f._setFields(O,e)},f._getAudienceManagerURLData=function(e){var t=f.audienceManagerServer,i="",n=f._getField(D),r=f._getField(k,!0),a=f._getField(E),s=a&&a!==L?"\x26d_cid_ic\x3dAVID%01"+encodeURIComponent(a):"";if(f.loadSSL&&f.audienceManagerServerSecure&&
(t=f.audienceManagerServerSecure),t){var o,l,u=f.getCustomerIDs();if(u)for(o in u)h(o)&&(l=u[o],s+="\x26d_cid_ic\x3d"+encodeURIComponent(o)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var c="http"+(f.loadSSL?"s":"")+"://"+t+"/id",d="d_visid_ver\x3d"+f.version+"\x26d_rtbd\x3djson\x26d_ver\x3d2"+(!n&&f._use1stPartyMarketingCloudServer?"\x26d_verify\x3d1":"")+"\x26d_orgid\x3d"+encodeURIComponent(f.marketingCloudOrgID)+"\x26d_nsid\x3d"+
(f.idSyncContainerID||0)+(n?"\x26d_mid\x3d"+encodeURIComponent(n):"")+(f.idSyncDisable3rdPartySyncing?"\x26d_coppa\x3dtrue":"")+(r?"\x26d_blob\x3d"+encodeURIComponent(r):"")+s,g=["s_c_il",f._in,e];return i=c+"?"+d+"\x26d_cb\x3ds_c_il%5B"+f._in+"%5D."+e,{url:i,corsUrl:c+"?"+d,callback:g}}return{url:i}},f.getAudienceManagerLocationHint=function(e,t){if(f.isAllowed())if(f.getMarketingCloudVisitorID(function(t){f.getAudienceManagerLocationHint(e,!0)})){var i=f._getField(E);if(!i&&P.isTrackingServerPopulated()&&
(i=f.getAnalyticsVisitorID(function(t){f.getAudienceManagerLocationHint(e,!0)})),i||!P.isTrackingServerPopulated()){var n=f._getAudienceManagerURLData(),r=n.url;return f._getRemoteField(T,r,e,t,n)}}return""},f.getLocationHint=f.getAudienceManagerLocationHint,f.getAudienceManagerBlob=function(e,t){if(f.isAllowed())if(f.getMarketingCloudVisitorID(function(t){f.getAudienceManagerBlob(e,!0)})){var i=f._getField(E);if(!i&&P.isTrackingServerPopulated()&&(i=f.getAnalyticsVisitorID(function(t){f.getAudienceManagerBlob(e,
!0)})),i||!P.isTrackingServerPopulated()){var n=f._getAudienceManagerURLData(),r=n.url;return f._customerIDsHashChanged&&f._setFieldExpire(k,-1),f._getRemoteField(k,r,e,t,n)}}return""},f._supplementalDataIDCurrent="",f._supplementalDataIDCurrentConsumed={},f._supplementalDataIDLast="",f._supplementalDataIDLastConsumed={},f.getSupplementalDataID=function(e,t){f._supplementalDataIDCurrent||t||(f._supplementalDataIDCurrent=f._generateID(1));var i=f._supplementalDataIDCurrent;return f._supplementalDataIDLast&&
!f._supplementalDataIDLastConsumed[e]?(i=f._supplementalDataIDLast,f._supplementalDataIDLastConsumed[e]=!0):i&&(f._supplementalDataIDCurrentConsumed[e]&&(f._supplementalDataIDLast=f._supplementalDataIDCurrent,f._supplementalDataIDLastConsumed=f._supplementalDataIDCurrentConsumed,f._supplementalDataIDCurrent=i=t?"":f._generateID(1),f._supplementalDataIDCurrentConsumed={}),i&&(f._supplementalDataIDCurrentConsumed[e]=!0)),i},_.OptOut={GLOBAL:"global"},f.getOptOut=function(e,t){if(f.isAllowed()){var i=
f._getAudienceManagerURLData("_setMarketingCloudFields"),n=i.url;return f._getRemoteField(M,n,e,t,i)}return""},f.isOptedOut=function(e,t,i){if(f.isAllowed()){t||(t=_.OptOut.GLOBAL);var n=f.getOptOut(function(i){var n=i===_.OptOut.GLOBAL||i.indexOf(t)>=0;f._callCallback(e,[n])},i);return n?n===_.OptOut.GLOBAL||n.indexOf(t)>=0:null}return!1},f.appendVisitorIDsTo=function(e){var t=p.ADOBE_MC,i=[[D,f._getField(D)],[E,f._getField(E)],[I,f.marketingCloudOrgID]],n=o(i);try{return f._addQuerystringParam(e,
t,n)}catch(t){return e}},f.appendSupplementalDataIDTo=function(e,t){if(!(t=t||f.getSupplementalDataID(P.generateRandomString(),!0)))return e;var i=p.ADOBE_MC_SDID,n="SDID\x3d"+encodeURIComponent(t)+"|";n+=I+"\x3d"+encodeURIComponent(f.marketingCloudOrgID)+"|",n+="TS\x3d"+P.getTimestampInSeconds();try{return f._addQuerystringParam(e,i,n)}catch(t){return e}},f._xd={postMessage:function(e,t,i){var n=1;t&&(p.POST_MESSAGE_ENABLED?i.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(i.location=t.replace(/#.*$/,
"")+"#"+ +new Date+n++ +"\x26"+e))},receiveMessage:function(e,t){var i;try{p.POST_MESSAGE_ENABLED&&(e&&(i=function(i){if("string"==typeof t&&i.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(i.origin))return!1;e(i)}),g.addEventListener?g[e?"addEventListener":"removeEventListener"]("message",i,!1):g[e?"attachEvent":"detachEvent"]("\u00e5",i))}catch(e){}}};var P={addListener:function(){return m.addEventListener?function(e,t,i){e.addEventListener(t,function(e){"function"==
typeof i&&i(e)},!1)}:m.attachEvent?function(e,t,i){e.attachEvent("on"+t,function(e){"function"==typeof i&&i(e)})}:void 0}(),map:function(e,t){if(Array.prototype.map)return e.map(t);if(void 0===e||null==e)throw new TypeError;var i=Object(e),n=i.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=new Array(n),a=arguments[1],s=0;s<n;s++)s in i&&(r[s]=t.call(a,i[s],s,i));return r},encodeAndBuildRequest:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)},parseHash:function(e){var t=
e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,i){var n=e.split("\x26");return i=null!=i?i:n.length,n.splice(i,0,t),n.join("\x26")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,i){if(e!==E)return!1;var n;return t||(t=f.trackingServer),i||(i=f.trackingServerSecure),!("string"!=typeof(n=f.loadSSL?i:t)||!n.length)&&(n.indexOf("2o7.net")<0&&n.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&
e===Object(e))},isLessThan:function(e,t){return f._compareVersions(e,t)<0},areVersionsDifferent:function(e,t){return 0!==f._compareVersions(e,t)},removeCookie:function(e){document.cookie=encodeURIComponent(e)+"\x3d; Path\x3d/; Expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"},isTrackingServerPopulated:function(){return!!f.trackingServer||!!f.trackingServerSecure},parseJSON:function(e,t){function i(e,n){var r,a,s=e[n];if(s&&"object"==typeof s)for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(a=i(s,
r),void 0!==a?s[r]=a:delete s[r]);return t.call(e,n,s)}if("object"==typeof JSON&&"function"==typeof JSON.parse)return JSON.parse(e,t);var n,r=/^[\],:{}\s]*$/,a=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(e=String(e),l.lastIndex=0,l.test(e)&&(e=e.replace(l,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),
r.test(e.replace(a,"@").replace(s,"]").replace(o,"")))return n=eval("("+e+")"),"function"==typeof t?i({"":n},""):n;throw new SyntaxError("JSON.parse");},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1E3)},parsePipeDelimetedKeyValues:function(e){for(var t={},i=e.split("|"),n=0,r=i.length;n<r;n++){var a=i[n].split("\x3d");t[a[0]]=decodeURIComponent(a[1])}return t},generateRandomString:function(e){e=e||5;for(var t="",i="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=i[Math.floor(Math.random()*
i.length)];return t}};f._helpers=P;var R={corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(g.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:
new g[this.corsMetadata.corsType]},fireCORS:function(e,t,i){function n(t){var i;try{if((i=JSON.parse(t))!==Object(i))return void r.handleCORSError(e,null,"Response is not JSON")}catch(t){return void r.handleCORSError(e,t,"Error parsing response as JSON")}try{for(var n=e.callback,a=g,s=0;s<n.length;s++)a=a[n[s]];a(i)}catch(t){r.handleCORSError(e,t,"Error forming callback function")}}var r=this;t&&(e.loadErrorHandler=t);try{var a=this.getCORSInstance();a.open("get",e.corsUrl+"\x26ts\x3d"+(new Date).getTime(),
!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(a.withCredentials=!0,a.timeout=f.loadTimeout,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4===this.readyState&&200===this.status&&n(this.responseText)}),a.onerror=function(t){r.handleCORSError(e,t,"onerror")},a.ontimeout=function(t){r.handleCORSError(e,t,"ontimeout")},a.send(),f._log.requests.push(e.corsUrl)}catch(t){this.handleCORSError(e,t,"try-catch")}},handleCORSError:function(e,t,i){f.CORSErrors.push({corsData:e,
error:t,description:i}),e.loadErrorHandler&&("ontimeout"===i?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};f._requestProcs=R;var w={THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t="http://fast.",i="?d_nsid\x3d"+f.idSyncContainerID+"#"+encodeURIComponent(m.location.href);return this.subdomain||(this.subdomain=
"nosubdomainreturned"),f.loadSSL&&(t=f.idSyncSSLUseAkamai?"https://fast.":"https://"),e=t+this.subdomain+".demdex.net/dest5.html"+i,this.iframeHost=this.getIframeHost(e),this.id="destination_publishing_iframe_"+this.subdomain+"_"+f.idSyncContainerID,e},checkDPIframeSrc:function(){var e="?d_nsid\x3d"+f.idSyncContainerID+"#"+encodeURIComponent(m.location.href);"string"==typeof f.dpIframeSrc&&f.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(f._subdomain||this.subdomain||(new Date).getTime())+
"_"+f.idSyncContainerID,this.iframeHost=this.getIframeHost(f.dpIframeSrc),this.url=f.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:p.POST_MESSAGE_ENABLED?null:100,jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,
readyToAttachIframe:function(){return!f.idSyncDisable3rdPartySyncing&&(this.doAttachIframe||f._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||f._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){n=document.createElement("iframe"),n.sandbox="allow-scripts allow-same-origin",n.title="Adobe ID Syncing iFrame",n.id=i.id,n.style.cssText="display: none; width: 0; height: 0;",n.src=i.url,i.newIframeCreated=!0,t(),document.body.appendChild(n)}
function t(){P.addListener(n,"load",function(){n.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,n=document.getElementById(this.id);n?"IFRAME"!==n.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==n.className?(this.originalIframeHasLoadedAlready=!1,t()):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=n,this.requestToProcess())):e(),this.iframe=n},requestToProcess:function(e){function t(){n.jsonForComparison.push(e),
n.jsonWaiting.push(e),n.processSyncOnPage(e)}var i,n=this;if(e===Object(e)&&e.ibs)if(p.HAS_JSON_STRINGIFY)if(i=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var r,a,s,o=!1;for(r=0,a=this.jsonForComparison.length;r<a;r++)if(s=this.jsonForComparison[r],i===JSON.stringify(s.ibs||[])){o=!0;break}o?this.jsonDuplicates.push(e):t()}else t();else t();if((this.receivedThirdPartyCookiesNotification||!p.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var l=this.jsonWaiting.shift();
this.process(l),this.requestToProcess()}!f.idSyncDisableSyncs&&this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){n.messageSendingInterval=p.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},processSyncOnPage:function(e){var t,i,n,r;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(n=0;n<i;n++)r=t[n],r.syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},
process:function(e){var t,i,n,r,a,s=encodeURIComponent,o=!1;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(o=!0,n=0;n<i;n++)r=t[n],a=[s("ibs"),s(r.id||""),s(r.tag||""),P.encodeAndBuildRequest(r.url||[],","),s(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,a.join("|")));o&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,i){var n="syncOnPage"===i,r=n?A:v;f._readVisitor();
var a,s,o=f._getField(r),l=!1,u=!1,c=Math.ceil((new Date).getTime()/p.MILLIS_PER_DAY);o?(a=o.split("*"),s=this.pruneSyncData(a,e.id,c),l=s.dataPresent,u=s.dataValid,l&&u||this.fireSync(n,e,t,a,r,c)):(a=[],this.fireSync(n,e,t,a,r,c))},pruneSyncData:function(e,t,i){var n,r,a,s=!1,o=!1;for(r=0;r<e.length;r++)n=e[r],a=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(s=!0,i<a?o=!0:(e.splice(r,1),r--)):i>=a&&(e.splice(r,1),r--);return{dataPresent:s,dataValid:o}},manageSyncsSize:function(e){if(e.join("*").length>
this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,i,n,r,a){var s=this;if(e){if("img"===t.tag){var o,l,u,c,d=t.url,g=f.loadSSL?"https:":"http:";for(o=0,l=d.length;o<l;o++){u=d[o],c=/^\/\//.test(u);var _=new Image;P.addListener(_,"load",function(e,t,i,n){return function(){s.onPagePixels[e]=null,f._readVisitor();var a,o=f._getField(r),l=[];if(o){a=o.split("*");var u,
c,d;for(u=0,c=a.length;u<c;u++)d=a[u],d.match("^"+t.id+"-")||l.push(d)}s.setSyncTrackingData(l,t,i,n)}}(this.onPagePixels.length,t,r,a)),_.src=(c?g:"")+u,this.onPagePixels.push(_)}}}else this.addMessage(i),this.setSyncTrackingData(n,t,r,a)},addMessage:function(e){var t=encodeURIComponent,i=t(f._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((p.POST_MESSAGE_ENABLED?"":i)+e)},setSyncTrackingData:function(e,t,i,n){e.push(t.id+"-"+(n+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),
f._setField(i,e.join("*"))},sendMessages:function(){var e,t=this;this.messages.length?p.POST_MESSAGE_ENABLED?(e=encodeURIComponent("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){f._xd.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,
i=/^---destpub-to-parent---/;"string"==typeof e&&i.test(e)&&(t=e.replace(i,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof f._subdomain&&f._subdomain.length?this.subdomain=f._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),
e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(f.idSyncAttachIframeOnWindowLoad?(_.windowLoaded||"complete"===m.readyState||"loaded"===m.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof f.idSyncIDCallResult?f.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof f.idSyncAfterIDCallResult&&f.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return f._forceSyncIDCall||!e||t-e>p.DAYS_BETWEEN_SYNC_ID_CALLS},
attachIframeASAP:function(){function e(){t.startedAttachingIframe||(document.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}};f._destinationPublishing=w,f.timeoutMetricsLog=[];var F,N={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case S:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case b:!1===t?!0!==this.AnalyticsIDCallTimedOut&&
(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case O:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};f.isClientSideMarketingCloudVisitorID=function(){return N.isClientSideMarketingCloudVisitorID},f.MCIDCallTimedOut=function(){return N.MCIDCallTimedOut},f.AnalyticsIDCallTimedOut=function(){return N.AnalyticsIDCallTimedOut},f.AAMIDCallTimedOut=function(){return N.AAMIDCallTimedOut},f.idSyncGetOnPageSyncInfo=function(){return f._readVisitor(),
f._getField(A)},f.idSyncByURL=function(e){var t=l(e||{});if(t.error)return t.error;var i,n,r=e.url,a=encodeURIComponent,s=w;return r=r.replace(/^https:/,"").replace(/^http:/,""),i=P.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),n=["ibs",a(e.dpid),"img",a(r),t.ttl,"",i],s.addMessage(n.join("|")),s.requestToProcess(),"Successfully queued"},f.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid\x3d"+e.dpid+"\x26dpuuid\x3d"+
e.dpuuid,f.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},f._compareVersions=function(e,t){if(e===t)return 0;var i=e.toString().split("."),n=t.toString().split(".");return u(i.concat(n))?(c(i,n),d(i,n)):NaN},f._getCookieVersion=function(e){e=e||f.cookieRead(f.cookieName);var t=p.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},f._resetAmcvCookie=function(e){var t=f._getCookieVersion();t&&!P.isLessThan(t,e)||P.removeCookie(f.cookieName)},e.indexOf("@")<0&&(e+="@AdobeOrg"),f.marketingCloudOrgID=
e,f.cookieName="AMCV_"+e,f.sessionCookieName="AMCVS_"+e,f.cookieDomain=f._getDomain(),f.cookieDomain===g.location.hostname&&(f.cookieDomain=""),f.loadSSL=g.location.protocol.toLowerCase().indexOf("https")>=0,f.loadTimeout=3E4,f.CORSErrors=[],f.marketingCloudServer=f.audienceManagerServer="dpm.demdex.net",f.sdidParamExpiry=30;var x={};if(x[T]=!0,x[k]=!0,t&&"object"==typeof t){var V;for(V in t)h(V)&&(f[V]=t[V]);f.idSyncContainerID=f.idSyncContainerID||0,f.resetBeforeVersion&&f._resetAmcvCookie(f.resetBeforeVersion),
f._attemptToPopulateIdsFromUrl(),f._attemptToPopulateSdidFromUrl(),f._readVisitor();var j=f._getField(y),U=Math.ceil((new Date).getTime()/p.MILLIS_PER_DAY);!f.idSyncDisableSyncs&&w.canMakeSyncIDCall(j,U)&&(f._setFieldExpire(k,-1),f._setField(y,U)),f.getMarketingCloudVisitorID(),f.getAudienceManagerLocationHint(),f.getAudienceManagerBlob(),f._mergeServerState(f.serverState)}else f._attemptToPopulateIdsFromUrl(),f._attemptToPopulateSdidFromUrl();if(!f.idSyncDisableSyncs){w.checkDPIframeSrc();var H=
function(){var e=w;e.readyToAttachIframe()&&e.attachIframe()};P.addListener(g,"load",function(){_.windowLoaded=!0,H()});try{f._xd.receiveMessage(function(e){w.receiveMessage(e.data)},w.iframeHost)}catch(e){}}f.whitelistIframeDomains&&p.POST_MESSAGE_ENABLED&&(f.whitelistIframeDomains=f.whitelistIframeDomains instanceof Array?f.whitelistIframeDomains:[f.whitelistIframeDomains],f.whitelistIframeDomains.forEach(function(t){var i=new a(e,t),n=s(f,i);f._xd.receiveMessage(n,t)}))};o.getInstance=function(e,
t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=i.s_c_il;if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r&&"Visitor"===r._c&&r.marketingCloudOrgID===e)return r}}();if(n)return n;var a=new o(e),s=a.isAllowed();return function(){i.s_c_il.splice(--i.s_c_in,1)}(),function(){try{return i.self!==i.parent}catch(e){return!0}}()&&!s&&i.parent?new r(e,t,a,i.parent):new o(e,t)},n(),i.Visitor=o,t.exports=o}).call(this,"undefined"!=
typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ChildVisitor":1,"./Message":2,"./utils/makeChildMessageListener":9}],4:[function(e,t,i){i.MESSAGES={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},i.STATE_KEYS_MAP={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},i.ASYNC_API_MAP={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",
MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut"},i.SYNC_API_MAP={CUSTOMERIDS:"getCustomerIDs"},i.ALL_APIS={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs"},i.FIELDGROUP_TO_FIELD={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"}},{}],5:[function(e,t,i){var n=e("../enums"),r=n.STATE_KEYS_MAP;t.exports=function(e){function t(){}function i(t,i){var n=this;return function(){var t=
e(0,r.MCMID),a={};return a[r.MCMID]=t,n.setStateAndPublish(a),i(t),t}}this.getMarketingCloudVisitorID=function(e){e=e||t;var n=this.findField(r.MCMID,e),a=i.call(this,r.MCMID,e);return void 0!==n?n:a()}}},{"../enums":4}],6:[function(e,t,i){var n=e("../enums"),r=n.ASYNC_API_MAP;t.exports=function(){Object.keys(r).forEach(function(e){this[r[e]]=function(t){this.callbackRegistry.add(e,t)}},this)}},{"../enums":4}],7:[function(e,t,i){var n=e("../enums"),r=n.MESSAGES,a=n.ASYNC_API_MAP,s=n.SYNC_API_MAP;
t.exports=function(){function e(){}function t(e,t){var i=this;return function(){return i.callbackRegistry.add(e,t),i.messageParent(r.GETSTATE),""}}function i(i){this[a[i]]=function(n){n=n||e;var r=this.findField(i,n),a=t.call(this,i,n);return void 0!==r?r:a()}}function n(t){this[s[t]]=function(){return this.findField(t,e)||{}}}Object.keys(a).forEach(i,this),Object.keys(s).forEach(n,this)}},{"../enums":4}],8:[function(e,t,i){function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||
[];var i=this.callbacks[e].push(t)-1;return function(){this.callbacks[e].splice(i,1)}},execute:function(e,t){if(this.callbacks[e]){t=void 0===t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var i=this.callbacks[e].shift();"function"==typeof i?i.apply(null,t):i instanceof Array&&i[1].apply(i[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!r.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var i=void 0!==e[t]?e[t]:"";this.execute(t,
i)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}var r=e("./utils");t.exports=n},{"./utils":11}],9:[function(e,t,i){var n=e("../enums"),r=e("./utils"),a=n.MESSAGES,s=n.ALL_APIS,o=n.ASYNC_API_MAP,l=n.FIELDGROUP_TO_FIELD;t.exports=function(e,t){function i(){var t={};return Object.keys(s).forEach(function(i){var n=s[i],a=e[n]();r.isValueEmpty(a)||(t[i]=a)}),t}function n(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(i){if(e._loading[i]){var n=
l[i];t.push(n)}}),t.length?t:null}function u(t){return function i(r){var a=n();if(a){var s=o[a[0]];e[s](i,!0)}else t()}}function c(e,n){var r=i();t.send(e,n,r)}function d(e){g(e),c(e,a.HANDSHAKE)}function f(e){u(function(){c(e,a.PARENTSTATE)})()}function g(i){function n(n){r.call(e,n),t.send(i,a.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=n}return function(e){if(!t.isInvalid(e))(t.parse(e).prefix===a.HANDSHAKE?d:f)(e.source)}}},{"../enums":4,"./utils":11}],
10:[function(e,t,i){Object.keys=Object.keys||function(e){var t=[];for(var i in e)t.hasOwnProperty.call(e,i)&&t.push(i);return t},Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=this,n=0,r=i.length;n<r;n++)e.call(t,i[n],n,i)},Object.assign=Object.assign||function(e,t){for(var i,n,r=1;r<arguments.length;++r){n=arguments[r];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},{}],11:[function(e,t,i){i.isObjectEmpty=function(e){return e===Object(e)&&0===
Object.keys(e).length},i.isValueEmpty=function(e){return""===e||i.isObjectEmpty(e)}},{}]},{},[1,2,3,4]);window.visitor=Visitor.getInstance("F0E65E09512D2CC50A490D4D@AdobeOrg",visitorObj)};$("html").prepend('\x3clink rel\x3d"preconnect" href\x3d"//dpm.demdex.net"\x3e\x3clink rel\x3d"preconnect" href\x3d"//delta.demdex.net"\x3e\x3clink rel\x3d"preconnect" href\x3d"//cm.everesttech.net"\x3e\x3clink rel\x3d"preconnect" href\x3d"//deltaairlines.tt.omtrdc.net"\x3e\x3clink rel\x3d"preconnect" href\x3d"//smetrics.delta.com"\x3e\x3clink rel\x3d"preconnect" href\x3d"//deltaairlines.sc.omtrdc.net"\x3e\x3clink rel\x3d"dns-prefetch" href\x3d"//dpm.demdex.net"\x3e\x3clink rel\x3d"dns-prefetch" href\x3d"//delta.demdex.net"\x3e\x3clink rel\x3d"dns-prefetch" href\x3d"//cm.everesttech.net"\x3e\x3clink rel\x3d"dns-prefetch" href\x3d"//deltaairlines.tt.omtrdc.net"\x3e\x3clink rel\x3d"dns-prefetch" href\x3d"//smetrics.delta.com"\x3e\x3clink rel\x3d"dns-prefetch" href\x3d"//deltaairlines.sc.omtrdc.net"\x3e');
window.setVisitorIDService()}},3929079,594160);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;TMS.registerDataDefinition(function(){TMS.data.define({extract:function(){var idp=window.idp||window.delta||"";if(typeof window.loginData!=="undefined"&&window.loginData!==null)loginData=window.loginData;else loginData=idp&&idp.dataLayer&&idp.dataLayer.digitalData.user.profile&&idp.dataLayer.digitalData.user.profile[0]&&idp.dataLayer.digitalData.user.profile[0].attributes;var corpCookie="",corpCookieOne=
"",corpCookieTwo="",accountType="personal";isLoggedIn=idp&&idp.dataLayer&&idp.dataLayer.digitalData.user.profile&&idp.dataLayer.digitalData.user.profile[0]&&idp.dataLayer.digitalData.user.profile[0].attributes&&idp.dataLayer.digitalData.user.profile[0].isLoggedIn;if(loginData&&loginData.loggedIn==false||loginData&&loginData.isLoggedIn==false){corpCookie=Bootstrapper.ensCookieUtils&&Bootstrapper.ensCookieUtils.get("account");if(corpCookie!==undefined&&corpCookie.length>0||corpCookieOne!==undefined&&
corpCookieOne.length>0&&corpCookieOne.split('isBusiness":')[1].indexOf("true")>-1)accountType="biz"}else if(loginData&&loginData.loggedIn==true||loginData&&loginData.isLoggedIn==true){corpCookie=Bootstrapper.ensCookieUtils&&Bootstrapper.ensCookieUtils.get("account");if(corpCookie!==undefined&&corpCookie.split('isBusiness":')[1].indexOf("true")>-1)accountType="biz";if(corpCookie!==undefined&&corpCookie.length>0&&corpCookie.split('isBusiness":')[1].indexOf("true")>-1)accountType="biz";if(corpCookie!==
undefined&&corpCookie.length>0&&corpCookie.split('isBusiness":')[1].indexOf("false")>-1||corpCookie==undefined)accountType="personal"}return accountType},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Business vs Personal",collection:"global",source:"Manage",priv:"false"},{id:"65101"})},65101)},-1,-1);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;TMS.registerDataDefinition(function(){TMS.data.define({extract:function(){return window.rhpr},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"isHomePage",collection:"Page",source:"Manage",priv:"false"},{id:"60812"})},60812)},-1,-1);
TMS.bindDOMLoaded(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;var ensVar0=function(){return window.idp&&idp.dataLayer&&idp.dataLayer.digitalData&&idp.dataLayer.digitalData.user&&idp.dataLayer.digitalData.user.profile&&idp.dataLayer.digitalData.user.profile.profileInfo&&idp.dataLayer.digitalData.user.profile.profileInfo.email||""};var is_valid_value=function(a){return String(typeof a)!=="undefined"&&a!==null&&a!==""};var sha256=function a(b){function c(a,b){return a>>>
b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\u0080";b[h]%64-56;)b+="\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+
(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};var is_sha256=function(a){return/[0-9a-f]{64}/i.test(a)};var get_cookie=Bootstrapper.Cookies?Bootstrapper.Cookies.get:function(a){var c=document.cookie.split(";");for(var i=0;i<c.length;i++){var b=c[i].trim().split("\x3d");
if(a===b[0]){b.shift();return decodeURIComponent(b.join("\x3d"))}}};var get_query_param=Bootstrapper.getQueryParam||function(key){var a=window.location.search.replace(/^\?/,"")?window.location.search.replace(/^\?/,"").split("\x26"):[];for(var i=0;i<a.length;i++){var b=a[i].split("\x3d");if(b[0]===key)return b[1]||""}};var tag_id="549759479856";var user_data={};if(ensVar0.call(this))user_data.em=ensVar0.call(this);if(get_cookie("uuid"))user_data.external_id=get_cookie("uuid");var config=JSON.parse(JSON.stringify(user_data));
config.np="ss-ensighten";!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var n=window.pintrk;n.queue=[],n.version="3.0";var t=document.createElement("script");t.async=!0,t.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}}("https://s.pinimg.com/ct/core.js");Bootstrapper.pintrk=Bootstrapper.pintrk||[];if(!~Bootstrapper.pintrk.indexOf(tag_id)){pintrk("load",tag_id,config);pintrk("page");Bootstrapper.pintrk.push(tag_id)}var event_name=
"pagevisit";var event_data={};if("")event_data.currency="";if(!event_data.event_id)event_data.event_id=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})}();if("")event_data.value=parseFloat("");pintrk("track",event_name,event_data);var sst_data={},click_id=get_query_param("epik")||get_cookie("_epik");sst_data.event_name=event_name;sst_data.event_time=Math.round((new Date).getTime()/1E3);sst_data.event_id=
event_data.event_id;sst_data.event_source_url=window.location.href;sst_data.user_data={};if(click_id)sst_data.user_data.click_id=click_id;for(var key in user_data)if(user_data[key]){var user_data_val=Array.isArray(user_data[key])?user_data[key]:[user_data[key]];var new_user_data_val=[];for(var i=0;i<user_data_val.length;i++){var current_val=user_data_val[i];if(current_val){current_val=is_sha256(current_val)?current_val:sha256(current_val);new_user_data_val.push(current_val)}}sst_data.user_data[key]=
new_user_data_val}sst_data.user_data.client_user_agent=navigator.userAgent;sst_data.custom_data={};if(event_data.currency)sst_data.custom_data.currency=event_data.currency;if(event_data.value)sst_data.custom_data.value=String(event_data.value);sst_data.custom_data.np=config.np;if(navigator.language)sst_data.language=navigator.language.split("-")[0].toLowerCase();Bootstrapper.SST=Bootstrapper.SST||[];Bootstrapper.SST.push({name:"pinterest_conversion_api_integration",data:sst_data,publishPath:"sst"})},
4087082,773103);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;Bootstrapper.privacy=Bootstrapper.privacy||{};Bootstrapper.privacy.templates={"COOKIE_MODAL_CSS":'.ensCenter {\n    text-align: center;\n}\n\n#ensModalWrapper {\n    border: 1px solid #333;\n    position: fixed;\n    max-width: 80%;\n    border: 1px solid #000;\n    display: none;\n    box-shadow: 5px 5px 5px grey;\n    background-color: #fff;\n    padding: 20px 0;\n    z-index: 9999;\n}\n\n.ensModal {\n    font-family: Roboto, "Helvetica Neue", Helvetica, Arial;\n}\n\n.ensModal input[type\x3d"checkbox"] {\n    position: absolute !important;\n    height: 1px;\n    width: 1px;\n    overflow: hidden;\n    clip: rect(1px, 1px, 1px, 1px);\n    white-space: nowrap; /* added line */\n}\n\n.ensModal input[type\x3d"checkbox"]:checked ~ .toggle {\n    background: #fff;\n    left: 36px;\n    transition: 0.5s;\n}\n\n.ensModal input[type\x3d"checkbox"]:checked ~ .switch {\n    background: #43a047;\n    transition: 0.5s;\n}\n\n.ensModal .switch {\n    display: block;\n    width: 50px;\n    height: 15px;\n    background: #939393;\n    border-radius: 10px;\n    position: absolute;\n    top: 0;\n    transition: 0.5s;\n}\n\n.ensModal .toggle {\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: white;\n    position: absolute;\n    top: -2px;\n    left: -2px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\n    transition: 0.5s;\n}\n\n.ensModal .card {\n    display: inline-block;\n    margin: 9px;\n    margin: 5px;\n    width: 50px;\n    height: 20px;\n    text-align: center;\n    position: relative;\n    float: right;\n}\n\n.ensModal {\n    font-size: 18px;\n    color: #333;\n    padding: 20px;\n}\n\n.ensToggleRow {\n    margin-bottom: 10px;\n}\n\n.ensToggleLabel {\n    margin-right: 5px;\n}\n\n.ensButtons {\n    clear: both;\n    margin-top: 15px;\n    float: right;\n}\n\n.ensButtons .button {\n    display: inline-block;\n    position: relative;\n    width: 120px;\n    height: 32px;\n    border-radius: 2px;\n    font-size: 0.9em;\n    background-color: #fff;\n    color: #646464;\n    margin-left: 20px;\n}\n\n.ensButtons .button.grey {\n    background-color: #eee;\n}\n\n.ensButtons .button.blue {\n    background-color: #2b5cac;\n    color: #fff;\n}\n\n.ensButtons .button.raised {\n    transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    transition-delay: 0.2s;\n    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n}\n\n.ensButtons .button.raised:active {\n    box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);\n    transition-delay: 0s;\n}\n\n.ensModal .ensTitle {\n    margin: 5px;\n    width: 95%;\n    color: #74736f;\n    position: absolute;\n    top: -5px;\n    left: -5px;\n    padding-left: 5%;\n    padding-top: 13px;\n    padding-bottom: 3px;\n    text-align: center;\n}\n\n.ensModal .consentDescription {\n    color: #333;\n    font-size: 14px;\n}\n\n.ensModal hr {\n    color: #c5c5c5;\n}\n\n.ensModal .description {\n    max-width: 600px;\n    font-size: 12px;\n    margin-top: 15px;\n    clear: both;\n}\n\n.ensToggleLabel.chevron::before {\n    border-style: solid;\n    border-width: 2px 2px 0 0;\n    content: "";\n    display: inline-block;\n    height: 8px;\n    margin: 0 5px 2px 0;\n    position: relative;\n    width: 8px;\n}\n\n.ensToggleLabel.chevron.right:before {\n    transform: rotate(45deg);\n}\n\n.ensToggleLabel.chevron.bottom:before {\n    margin-left: 2px;\n    margin-bottom: 3px;\n    transform: rotate(135deg);\n}\n\n.ensModal .ensTagsContent {\n    display: none;\n    padding: 0 0 0 20px;\n}\n\n.ensModal .tagContainer {\n    color: #676767;\n    padding: 7px 0 7px 7px;\n    font-size: 15px;\n}\n\n.contactInfoLink {\n    display: block;\n    margin-bottom: 4px;\n}\n\n.ensToggleRowWrapper {\n    max-height: 400px;\n    overflow: auto;\n}\n',"CONSENT_MODAL_HTML":'\x3cdiv class\x3d"ensModal" aria-label\x3d"Consent Configuration" data-nosnippet\x3d"true"\x3e\n    \x3cheader class\x3d"ensTitle" id\x3d"ensConsentTitle"\x3e\n    \x3c/header\x3e\n    \x3cdiv class\x3d"consentDescription" id\x3d"ensConsentDescription"\x3e\n    \x3c/div\x3e\n    \x3cdiv\x3e\x3c/div\x3e\n    \x3cbr /\x3e\n    \x3cdiv style\x3d"float: right"\x3e\n        \x3ca class\x3d"mdl-navigation__link closed" onclick\x3d"ensShowMore()" id\x3d"ensShowMoreLink" href\x3d"#"\n            style\x3d"text-decoration: underline"\x3eShow More\x3c/a\x3e\n    \x3c/div\x3e\n    \x3cdiv\x3e\x3cbr /\x3e\x3cbr /\x3e\x3c/div\x3e\n\n    \x3cdiv id\x3d"ensTagsTableContainer" style\x3d"max-height: 200px; overflow-y: scroll; display: none"\x3e\n        \x3ctable id\x3d"ensTagsTable" class\x3d"mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp"\n            style\x3d"width: 100%"\x3e\n            \x3ctr id\x3d"ensTagsTableTitleRow"\x3e\n                \x3cth class\x3d"mdl-data-table__cell--non-numeric"\x3eTag\x3c/th\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv id\x3d\'innerModal\' style\x3d\'padding:0 20px;\'\x3e\x3c/div\x3e',
"CONSENT_MODAL_CSS":'.ensCenter {\n    text-align: center;\n}\n\n#ensModalWrapper {\n    border: 1px solid #333;\n    position: fixed;\n    max-width: 60%;\n    border: 1px solid #000;\n    display: none;\n    box-shadow: 5px 5px 5px grey;\n    background-color: #fff;\n    padding: 20px 0;\n    z-index: 9999;\n}\n\n.ensModal {\n    font-family: Roboto, "Helvetica Neue", Helvetica, Arial;\n    min-width: 400px;\n    max-width: 400px;\n}\n\n.ensModal input[type\x3d"checkbox"] {\n    display: none;\n}\n\n.ensModal input[type\x3d"checkbox"]:checked ~ .toggle {\n    background: #fff;\n    left: 36px;\n    transition: 0.5s;\n}\n\n.ensModal input[type\x3d"checkbox"]:checked ~ .switch {\n    background: #43a047;\n    transition: 0.5s;\n}\n\n.ensModal .switch {\n    display: block;\n    width: 50px;\n    height: 15px;\n    background: #939393;\n    border-radius: 10px;\n    position: absolute;\n    top: 0;\n    transition: 0.5s;\n}\n\n.ensModal .toggle {\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: white;\n    position: absolute;\n    top: -2px;\n    left: -2px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\n    transition: 0.5s;\n}\n\n.ensModal .card {\n    display: inline-block;\n    margin: 9px;\n    margin: 5px;\n    width: 50px;\n    height: 20px;\n    text-align: center;\n    position: relative;\n    float: right;\n}\n\n.ensModal {\n    font-size: 18px;\n    color: #333;\n    padding: 20px 20px 0px 20px;\n}\n\n.ensToggleRow {\n    margin-bottom: 10px;\n}\n\n.ensToggleLabel {\n    margin-right: 5px;\n}\n\n.ensButtons {\n    clear: both;\n    margin-top: 15px;\n    float: right;\n}\n\n.ensButtons .button {\n    display: inline-block;\n    position: relative;\n    width: 120px;\n    height: 32px;\n    border-radius: 2px;\n    font-size: 0.9em;\n    background-color: #fff;\n    color: #646464;\n    margin-left: 20px;\n}\n\n.ensButtons .button.grey {\n    background-color: #eee;\n}\n\n.ensButtons .button.blue {\n    background-color: #2b5cac;\n    color: #fff;\n}\n\n.ensButtons .button.raised {\n    transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    transition-delay: 0.2s;\n    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n}\n\n.ensButtons .button.raised:active {\n    box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);\n    transition-delay: 0s;\n}\n\n.ensModal .ensTitle {\n    margin: 5px;\n    width: 95%;\n    color: #74736f;\n    position: absolute;\n    top: -5px;\n    left: -5px;\n    padding-left: 5%;\n    padding-top: 13px;\n    padding-bottom: 3px;\n    text-align: center;\n}\n\n.ensModal .consentDescription {\n    color: #333;\n    font-size: 14px;\n}\n\n.ensModal hr {\n    color: #c5c5c5;\n}\n\n.ensModal .description {\n    max-width: 600px;\n    font-size: 12px;\n    margin-top: 15px;\n    clear: both;\n}\n\n.mdl-shadow--2dp {\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n        0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n\n.mdl-data-table {\n    position: relative;\n    border: 1px solid rgba(0, 0, 0, 0.12);\n    border-collapse: collapse;\n    white-space: nowrap;\n    font-size: 13px;\n    background-color: #fff;\n}\n\n.mdl-data-table thead {\n    padding-bottom: 3px;\n}\n\ntr {\n    display: table-row;\n    vertical-align: inherit;\n    border-color: inherit;\n}\n\n.mdl-data-table td:first-of-type,\n.mdl-data-table th:first-of-type {\n    padding-left: 24px;\n}\n\n.mdl-data-table__cell--non-numeric.mdl-data-table__cell--non-numeric {\n    text-align: left;\n}\n\ntbody {\n    display: table-row-group;\n    vertical-align: middle;\n    border-color: inherit;\n}\n\n.mdl-data-table tbody tr {\n    position: relative;\n    height: 48px;\n    transition-duration: 0.28s;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-property: background-color;\n}\n\n.mdl-data-table td:first-of-type,\n.mdl-data-table th:first-of-type {\n    padding-left: 24px;\n}\n\n.mdl-data-table td,\n.mdl-data-table td .mdl-data-table__select {\n    vertical-align: middle;\n}\n\n.mdl-data-table td {\n    position: relative;\n    height: 48px;\n    border-top: 1px solid rgba(0, 0, 0, 0.12);\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n    padding: 12px 18px;\n    box-sizing: border-box;\n}\n\n.mdl-data-table th {\n    position: relative;\n    vertical-align: bottom;\n    text-overflow: ellipsis;\n    font-weight: 700;\n    line-height: 24px;\n    letter-spacing: 0;\n    height: 48px;\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.54);\n    padding-bottom: 8px;\n    box-sizing: border-box;\n}\n\n.mdl-data-table th {\n    padding: 0 18px 12px 18px;\n    text-align: right;\n}\n\n.mdl-navigation__link {\n    color: #424242;\n    margin: 0;\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 24px;\n    letter-spacing: 0;\n    opacity: 0.87;\n}\n',
"COOKIE_MODAL_HTML":"\x3cdiv class\x3d'ensModal' aria-label\x3d'Consent Configuration' data-nosnippet\x3d\"true\"\x3e\n    \x3cheader class\x3d'ensTitle' id\x3d'ensTitle'\x3e \x3c/header\x3e\n    \x3cdiv class\x3d'consentDescription' id\x3d'ensDescription'\x3e \x3c/div\x3e\n    \x3chr\x3e\n    \x3cdiv class\x3d'ensToggleRowWrapper'\x3e\n    \x3c/div\x3e\n\n    \x3ca id\x3d'ensDoNotSellModalLink' class\x3d'contactInfoLink' href\x3d'javascript:void(0)'\x3e \x3c/a\x3e\n    \x3ca id\x3d'ensRequestDataModalLink' class\x3d'contactInfoLink' href\x3d'javascript:void(0)'\x3e \x3c/a\x3e\n    \x3ca id\x3d'ensDeleteDataModalLink' class\x3d'contactInfoLink' href\x3d'javascript:void(0)'\x3e \x3c/a\x3e\n\n    \x3cdiv class\x3d'ensButtons'\x3e\n    \x3c/div\x3e\n\x3c/div\x3e"}},
4096110,767628);
TMS.bindDependencyImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;!function(i){var o={};function n(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},i[e].call(t.exports,t,t.exports,n),t.l=!0,t)).exports}n.m=i,n.c=o,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",
{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,
t,i){!function(a){function r(e){var t=o[e];return void 0!==t||(t=o[e]={exports:{}},i[e](t,t.exports,r)),t.exports}var i,o,l;e.exports=(i={686:()=>{},579:(e,t,i)=>{function o(e,t,i){var o;(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return String(e);i=i.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.");}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,
configurable:!0,writable:!0}):e[t]=i}i.d(t,{w:()=>n});class n{constructor(e){this.destination=e,o(this,"type",void 0),o(this,"start",+new Date),o(this,"end",-1),o(this,"source",null),o(this,"status",null),o(this,"reasons",[]),o(this,"dataPatterns",[]),o(this,"list",[]),o(this,"id",void 0),this.id=this.start+function(t){let i=0;if(null!=t&&0!=t.length)for(let e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i}(e)}addReason(e){this.reasons.push(e)}hasReason(e){return 0<this.reasons.length&&
(new RegExp(this.reasons.join("|"))).test(e)}numReasons(){return this.reasons.length}}},317:(e,t,i)=>{i.d(t,{l:()=>o});var c=i(616);function a(e,t,i){var o;(t="symbol"==typeof(o=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.");}(t))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):
e[t]=i}class s{constructor(e,t,i,o,n,s,r){this.activeList=e,this.shouldAddCategoryToList=t,this.environment=i,this.gatewayData=o,this.activeEnvironmentCategories=n,this.allowedTagsInLocalStorage=s,this.blockedTagsInLocalStorage=r,a(this,"tagsWithFiltersRegEx",void 0),a(this,"tagsWithAllowPaths",void 0),a(this,"tagsWithBlockPaths",void 0),a(this,"blockedTagListOverride",[]),a(this,"allowedTagListOverride",[]),a(this,"update",(e,t,i)=>{this.setGlobals(e,t,i)}),a(this,"allowRequest",(i,o,n)=>{let s=
n;if(""!==o&&this.tagsWithFiltersRegEx.test(i)){const n=this.blockedTagListOverride.some((e)=>(new RegExp(e.tag)).test(i)&&c.B.arrayToRegex(e.paths).test(o)),r=this.allowedTagListOverride.some((e)=>(new RegExp(e.tag)).test(i)&&c.B.arrayToRegex(e.paths).test(o));for(let t=0;t<this.tagsWithAllowPaths.length;t++)if((new RegExp(this.tagsWithAllowPaths[t].tag)).test(i)){let e=[];if(e=e.concat(this.tagsWithAllowPaths[t].paths),c.B.arrayToRegex(e).test(o))return s=!n;s=!1}for(let t=0;t<this.tagsWithBlockPaths.length;t++)if((new RegExp(this.tagsWithBlockPaths[t].tag)).test(i)){let e=
[];if(e=e.concat(this.tagsWithBlockPaths[t].paths),c.B.arrayToRegex(e).test(o))return s=!!r;s=!0}}return s}),a(this,"buildPathFilterList",(e,t,i,o)=>{let n=[],s=[],r=[];const a=(e)=>e.tag,l=(e)=>({tag:e.tag,paths:e.paths}),h=(e)=>{n.push.apply(n,this.extractTagsWithFilters(e,a)),r.push.apply(r,this.extractTagsWithFilters(e,l,"blockPaths")),s.push.apply(s,this.extractTagsWithFilters(e,l,"allowPaths"))};for(const c in e){const a=t[c];this.shouldAddCategoryToList(c,a)&&h(e[c]),i&&0<i.length&&(i.forEach((e)=>
this.allowedTagListOverride.push(e)),h(i),0<n.length)&&(n=this.pruneTagListFromLocalStorage(i,n,!0),s=this.pruneTagListFromLocalStorage(i,s,!0,"tag")),o&&0<o.length&&(o.forEach((e)=>this.blockedTagListOverride.push(e)),h(o),0<n.length)&&(n=this.pruneTagListFromLocalStorage(o,n,!1),r=this.pruneTagListFromLocalStorage(o,r,!1,"tag"))}return{regEx:c.B.arrayToRegex(n),allowPathTags:s,blockPathTags:r}}),a(this,"pruneTagListFromLocalStorage",(e,i,t,o)=>(c.B.isWhitelist(this.gatewayData,this.environment)===
t&&this.checkForFiltersToRemove(e).forEach((t)=>{i=i.filter((e)=>(e=null!=o?e[o]:e)!==t.tag)}),i)),a(this,"checkForFiltersToRemove",(e)=>e.filter((e)=>void 0===e.filter)),a(this,"setGlobals",(e,t,i)=>{this.activeEnvironmentCategories=e;e=this.buildPathFilterList(this.activeList,this.activeEnvironmentCategories,t,i);this.tagsWithAllowPaths=e.allowPathTags,this.tagsWithBlockPaths=e.blockPathTags,this.tagsWithFiltersRegEx=e.regEx}),this.setGlobals(n,s,r)}extractTagsWithFilters(e,t,i){let o=null!=i?(e)=>
e.filter===i:(e)=>void 0!==e.filter;return e.filter(o).map(t)}}function r(e,t,i){var o;(t="symbol"==typeof(o=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.");}(t))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}class o{constructor(e,t,i){var o=3<arguments.length&&void 0!==
arguments[3]?arguments[3]:[],n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];this.environment=e,this.gatewayData=t,this.activeEnvironmentCategories=i,this.allowedUrls=o,this.blockedUrls=n,r(this,"activeList",void 0),r(this,"listRegex",new RegExp("a^")),r(this,"pathFilterManager",void 0),r(this,"usesAllowlist",!0),r(this,"usesPathFilter",!1),r(this,"isInitialized",!1),r(this,"alwaysAllowedListRegex",new RegExp("a^")),r(this,"defaultCategory","default"),r(this,"allowRequest",(e,t,i)=>{var o=
this.getListRegex();let n=!1;if(!1===this.usesAllowlist?o.test&&!o.test(e)&&(n=!0):o.test&&o.test(e)&&(n=!0),!(n=null!=this.pathFilterManager?this.pathFilterManager.allowRequest(e,i,n):n)){t.addReason(this.usesAllowlist?"Whitelist":"Blacklist");const i=this.findMatchedCategories(e);t.list=i,this.gatewayData.enableBotAndFraudProtection&&t.addReason(this.gatewayData.enableBotAndFraudProtectionReason)}return n}),r(this,"updateListValues",(e,t,i)=>{this.buildListRegex(this.environment,e,t,i),this.usesPathFilter&&
null==this.pathFilterManager&&(this.pathFilterManager=new s(this.getList(),this.shouldAddToListRegex,this.environment,this.gatewayData,this.activeEnvironmentCategories,this.allowedUrls,this.blockedUrls)),null!=this.pathFilterManager&&this.pathFilterManager.update(e,t,i)}),r(this,"updateEnvironment",(e,t,i,o)=>{this.environment=e,this.updateListValues(t,i,o)}),r(this,"getListRegex",()=>this.listRegex),r(this,"getList",()=>this.activeList),r(this,"getAlwaysAllowedListRegex",()=>this.alwaysAllowedListRegex),
r(this,"getTranslatedList",()=>{var e=this.getList(),t=e;for(const i in e)"default"!==i&&(t[i]=this.getCategoryTranslations(e[i]));return t}),r(this,"buildListRegex",(e,t,i,o)=>{this.setUsesAllowlist(e),this.setActiveList(e),this.usesAllowlist&&this.buildListRegexForAlwaysAllowedDomains();var n=this.getList();let s=[];for(const e in n){const i=t[e];this.shouldAddToListRegex(e,i)&&(s=s.concat(this.getObjectVals(n[e],"tag")))}this.usesAllowlist?(i&&0<i.length&&(s=s.concat(this.getObjectVals(i,"tag"))),
o&&0<o.length&&(s=s.filter((e)=>-1===this.getObjectVals(o,"tag").indexOf(e)))):(o&&0<o.length&&(s=s.concat(this.getObjectVals(o,"tag"))),i&&0<i.length&&(s=s.filter((e)=>-1===this.getObjectVals(i,"tag").indexOf(e))));e=this.usesAllowlist?"i":void 0;this.listRegex=c.B.arrayToRegex(s,e)}),r(this,"shouldAddToListRegex",(e,t)=>{let i=!1;var o=this.gatewayData.enableBotAndFraudProtection;return e===this.defaultCategory?i=!0:this.usesAllowlist?o?i=!1:"1"!==t&&(t&&"0"===t||!this.isEnvironmentCategoryEnabled(e,
1))||(i=!0):!o&&"0"!==t&&(t&&"1"===t||!this.isEnvironmentCategoryEnabled(e,0))||(i=!0),i}),r(this,"isEnvironmentCategoryEnabled",(e,t)=>this.environment&&this.environment.optVals[e]===t),r(this,"getObjectVals",(t,i)=>{var o=[];for(let e=0;e<t.length;e++){var n=t[e][i];""!==n&&void 0!==n&&null!=n&&o.push(n),t.filter&&(this.usesPathFilter=!0)}return o}),r(this,"setUsesAllowlist",(e)=>{this.usesAllowlist=c.B.isWhitelist(this.gatewayData,e)}),r(this,"setActiveList",(e)=>{if(this.usesAllowlist?e&&Object.prototype.hasOwnProperty.call(e,
"whitelist")?this.activeList=e.whitelist:this.activeList=this.gatewayData.whitelist||{}:e&&Object.prototype.hasOwnProperty.call(e,"blacklist")?this.activeList=e.blacklist:this.activeList=this.gatewayData.blacklist||{},Object.prototype.hasOwnProperty.call(this.activeList,this.defaultCategory)||!0!==this.usesAllowlist||(this.activeList[this.defaultCategory]=[]),this.usesAllowlist){var t=this.gatewayData.info.nexus,i=this.gatewayData.info.reporting,o=[location.hostname,t,i],n=(t)=>0===this.activeList[this.defaultCategory].filter(function(e){return e.tag===
t}).length;for(let e=0;e<o.length;e++)n(o[e])&&this.activeList[this.defaultCategory].push({tag:o[e]});c.B.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,e,"enableTCF")&&(n("ensighten.mgr.consensu.org")&&this.activeList[this.defaultCategory].push({tag:"ensighten.mgr.consensu.org"}),n("iab.ensighten.com"))&&this.activeList[this.defaultCategory].push({tag:"iab.ensighten.com"})}}),r(this,"findMatchedCategories",(t)=>{var i=[],o=this.getList();for(const s in o)for(let e=0;e<o[s].length;e++){var n=
o[s][e].tag;t.match(n)&&i.push(s)}return 0===i.length&&i.push(this.usesAllowlist?"Whitelist":"Blacklist"),i}),r(this,"buildListRegexForAlwaysAllowedDomains",()=>{var e=this.getList()&&this.getList()[this.defaultCategory]||[],e=this.getObjectVals(e,"tag");this.alwaysAllowedListRegex=c.B.arrayToRegex(e,"i")}),r(this,"getCategoryTranslations",(i)=>{if(this.environment.translation&&this.environment.translation.purposes)for(let t=0;t<i.length;t++){var o=[];if(i[t].purpose)for(let e=0;e<i[t].purpose.length;e++)o.push(this.environment.translation.purposes[i[t].purpose[e]]);
i[t].purpose=o}return i}),this.buildListRegex(e,i,o,n),this.usesPathFilter&&(this.pathFilterManager=new s(this.getList(),this.shouldAddToListRegex,this.environment,this.gatewayData,this.activeEnvironmentCategories,this.allowedUrls,this.blockedUrls))}}},775:(e,t,i)=>{i.d(t,{M:()=>m});var n=i(579),d=i(616);function o(e,t,i){var o;(t="symbol"==typeof(o=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;
throw new TypeError("@@toPrimitive must return a primitive value.");}(t))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(t={}).Block="Block",t.Rewrite="Rewrite";var s=t;class r{constructor(e,t){o(this,"gatewayData",void 0),o(this,"environment",void 0),o(this,"sslEnforcementMode",void 0),o(this,"insecureProtocolRegex",/http:|ws:/i),this.gatewayData=e,this.environment=t,this.sslEnforcementMode=this.fallbackOrReturnEnforcementMode()}updateEnvironment(e){this.environment=
e,this.sslEnforcementMode=this.fallbackOrReturnEnforcementMode()}allowRequest(e,t,i){let o=!0;return d.B.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"requireSSL")&&((o="https:"===e&&this.insecureProtocolRegex.test(t)?!1:o)||i.addReason("SSL")),o}shouldRewriteProtocol(e,t){t=d.B.getUrl(e.destination,t).protocol;let i=!1;return i=!this.insecureProtocolRegex.test(t)||this.sslEnforcementMode!==s.Rewrite||e.hasReason("Whitelist")||e.hasReason("Blacklist")||!e.hasReason("SSL")?
i:!0}rewriteProtocol(e){return(e=e.replace(/^http:\/\//i,"https://")).replace(/^ws:\/\//i,"wss://")}fallbackOrReturnEnforcementMode(){return this.gatewayData.sslConfig||this.environment&&this.environment.sslEnforcementMode?d.B.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.sslConfig,this.environment,"sslEnforcementMode"):s.Block}}var a,t=i(711),l=i.n(t);function h(e,t,i){var o;(t="symbol"==typeof(o=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);
t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.");}(t))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}class c{constructor(e,t,i){this.enabled=e,this.dataMonitoringParams=t,this.environment=i,h(this,"blockURLParamsRegex",void 0),h(this,"activeMonitoringParams",void 0),h(this,"dataMonitoringAllowedDomainsRegex",void 0),h(this,"mode",void 0),h(this,"maskCharacter",void 0),h(this,
"base64Pattern",/((?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?)/g),this.updateEnvironment(i)}validateActivateMonitoring(e){return null!=e&&(e.mode=e.mode||"block",e.blockURLParamsRegex=e.blockURLParamsRegex||[],e.domainsAllowed=e.domainsAllowed||[],e.monitorBase64Data=e.monitorBase64Data||!1,e.maskCharacter=e.maskCharacter||"~",e.processRequestBody=e.processRequestBody||!1),e}getActiveMonitoringParams(){return this.environment&&Object.prototype.hasOwnProperty.call(this.environment,
"dataMonitoring")?this.validateActivateMonitoring(this.environment.dataMonitoring):this.validateActivateMonitoring(this.dataMonitoringParams)||{}}updateEnvironment(e){this.environment=e,this.activeMonitoringParams=this.getActiveMonitoringParams();e=this.getBlockURLParamsRegexArray(this.activeMonitoringParams);this.blockURLParamsRegex=d.B.arrayToRegex(e),this.dataMonitoringAllowedDomainsRegex=d.B.arrayToRegex(this.activeMonitoringParams.domainsAllowed),this.mode=this.activeMonitoringParams.mode||"block",
this.maskCharacter=this.activeMonitoringParams.maskCharacter||"~"}isDataPatternReported(e){return null!=e.blockURLParamsRegex&&0<e.blockURLParamsRegex.length&&"string"==typeof e.blockURLParamsRegex[0].regex}allowRequest(t,e,i){let o=!0;var n=t.destination;if(this.enabled){var s=d.B.decodeUriComponent(n);if(o=(o=this.activeMonitoringParams.monitorBase64Data?!this.checkForBase64Data(n,t):o)&&!this.blockURLParamsRegex.test(s),this.activeMonitoringParams.processRequestBody&&i){let e=i;e instanceof FormData?
e=this.formDataToString(e):e instanceof URLSearchParams&&(e=e.toString()),o=(o=this.activeMonitoringParams.monitorBase64Data&&"string"==typeof e?!this.checkForBase64Data(e,t):o)&&!this.blockURLParamsRegex.test(e),this.findMatchedDataPatterns(this.activeMonitoringParams.blockURLParamsRegex,t,e)}(o=!1===o&&0<this.activeMonitoringParams.domainsAllowed.length?this.dataMonitoringAllowedDomainsRegex.test(e):o)||(t.addReason("DATA_MONITORING"),this.isDataPatternReported(this.activeMonitoringParams)&&this.findMatchedDataPatterns(this.activeMonitoringParams.blockURLParamsRegex,
t,s))}return o}getMaskedUrl(e){return e&&this.editQueryString(e,d.B.repeatString(this.maskCharacter,10))}getRedactedUrl(e){return e&&this.editQueryString(e,"")}getMaskedData(e){return e&&this.editData(e,d.B.repeatString(this.maskCharacter,10))}getRedactedData(e){return e&&this.editData(e,"")}shouldMaskData(e){let t=!1;return t="mask"===this.mode&&e.hasReason("DATA_MONITORING")?!0:t}shouldRedactData(e){let t=!1;return t="redact"===this.mode&&e.hasReason("DATA_MONITORING")?!0:t}shouldMaskUrl(e){let t=
!1;return t="mask"!==this.mode||e.hasReason("Whitelist")||e.hasReason("Blacklist")||!e.hasReason("DATA_MONITORING")?t:!0}shouldRedactUrl(e){let t=!1;return t="redact"!==this.mode||e.hasReason("Whitelist")||e.hasReason("Blacklist")||!e.hasReason("DATA_MONITORING")?t:!0}editPath(t,i,o){var n=(t=-1<t.indexOf(";")?this.editSemiColonDelimitedPath(t,i,o):t).split("/");for(let e=0;e<n.length;e++)if(""!==n[e]&&this.blockURLParamsRegex.test&&this.blockURLParamsRegex.test(n[e]))n[e]=n[e].replace(this.blockURLParamsRegex,
i),n[e]=d.B.encodeUriComponent(n[e]),"redact"===this.mode&&""===n[e]&&(n.splice(e,1),e--);else if(this.activeMonitoringParams.monitorBase64Data&&4<n[e].length&&this.base64Pattern.test(n[e]))try{const o=l().decode(n[e]);this.blockURLParamsRegex.test&&this.blockURLParamsRegex.test(o)&&(n[e]=n[e].replace(this.base64Pattern,i),n[e]=d.B.encodeUriComponent(n[e]),"redact"===this.mode)&&""===n[e]&&(n.splice(e,1),e--)}catch(t){}return n.join("/")}formDataToString(e){var t=[];let i,o,n;for(i=e.entries();!(o=
i.next()).done&&(n=o.value);)t.push(n[0]+"\x3d"+n[1]);return t.join("\x26")}editBase64String(e,t){let i=e;var o,n=e.match(this.base64Pattern);for(const s in n)n[s].length<4||(o=l().decode(n[s]),this.blockURLParamsRegex.test(o)&&(i=e.replace(n[s],t)));return i}editData(o,n){if(this.activeMonitoringParams.processRequestBody)if(o instanceof String||"string"==typeof o){if(this.activeMonitoringParams.monitorBase64Data&&(o=this.editBase64String(o,n)),this.blockURLParamsRegex.test&&"string"==typeof o)for(;this.blockURLParamsRegex.test(o);)o=
o.replace(this.blockURLParamsRegex,n)}else if(o instanceof FormData){var s=new FormData;let e,t,i;for(e=o.entries();!(t=e.next()).done&&(i=t.value);){const o=this.editData(i[0],n),a=this.editData(i[1],n);s.append(o,a)}o=s}else if(o instanceof URLSearchParams){var r=new URLSearchParams;let e,t,i;for(e=o.entries();!(t=e.next()).done&&(i=t.value);){const o=this.editData(i[0],n),l=this.editData(i[1],n);r.append(o,l)}o=r}return o}editQueryString(e,t){if(!this.enabled||!d.B.isValidUrl(e))return e;var i=
"redact"===this.mode;let o=t,n=(""===t&&(o=""),e.split("?")[1]);t=d.B.getUrl(e);if(t.pathname=this.editPath(t.pathname,o,i),"string"==typeof n&&""!==n){const e=(n=this.activeMonitoringParams.monitorBase64Data?this.editBase64String(n,o):n).split("\x26");0<e.length&&(t.search=this.editSearchParams(e,o,i),i)&&""===t.search&&(t.href=t.href.replace("?",""))}return t.href}getBlockURLParamsRegexArray(t){var i=[];if(!this.isDataPatternReported(t))return t.blockURLParamsRegex||[];for(let e=0;e<t.blockURLParamsRegex.length;e++)i.push(t.blockURLParamsRegex[e].regex);
return i}findMatchedDataPatterns(t,i,o){for(let e=0;e<t.length;e++){var n=new RegExp(t[e].regex);if(n.test&&n.test(o)){const o=t[e].name;i.dataPatterns.push(o)}}}checkForBase64Data(e,t){var i=e.match(this.base64Pattern);for(const e in i)if(!(i[e].length<4)){var o=l().decode(i[e]);if(this.blockURLParamsRegex.test(o))return this.findMatchedDataPatterns(this.activeMonitoringParams.blockURLParamsRegex,t,o),t.dataPatterns.push("base64"),!0}return!1}editSemiColonDelimitedPath(e,a,l){let i=e.split("/");
i=i.filter(function(e){return"string"==typeof e&&""!==e});e="";const h=this;return d.B.each(i,function(e,t){const r=e.split(";");d.B.each(r,function(e,t){e=e.split("\x3d");let i=e[0];e=e[1]||"";let o,n=d.B.decodeUriComponent(e),s="";if("string"==typeof i&&""!==i&&h.blockURLParamsRegex.test)for(;h.blockURLParamsRegex.test(i);)o=!!l,i=i.replace(h.blockURLParamsRegex,a);if("string"==typeof n&&""!==n&&h.blockURLParamsRegex.test)for(;h.blockURLParamsRegex.test(n);)o=!!l,n=n.replace(h.blockURLParamsRegex,
a);"string"==typeof i&&"string"==typeof n&&(n=d.B.encodeUriComponent(n),s+=o&&l?"":""!==n||o?i+"\x3d"+n:i),""===s?r.splice(t,1):r[t]=s}),i[t]=r.join(";")}),e+=i.join("/")}editSearchParams(e,n,s){let r="";e=e.filter(function(e){return"string"==typeof e&&""!==e});const a=this;return d.B.each(e,function(e){e=e.split("\x3d");let t=e[0];e=e[1]||"";let i,o=d.B.decodeUriComponent(e);if("string"==typeof t&&""!==t&&a.blockURLParamsRegex.test)for(;a.blockURLParamsRegex.test(t);)i=!!s,t=t.replace(a.blockURLParamsRegex,
n);if("string"==typeof o&&""!==o&&a.blockURLParamsRegex.test)for(;a.blockURLParamsRegex.test(o);)i=!!s,o=o.replace(a.blockURLParamsRegex,n);"string"==typeof t&&"string"==typeof o&&(o=d.B.encodeUriComponent(o),r+=i&&s?"":""!==o||i?t+"\x3d"+o+"\x26":t+"\x26")}),r=r.slice(0,-1)}}function u(e,t,i){var o;(t="symbol"==typeof(o=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.");
}(t))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}class g{static allowProtocolAndBypassProcessing(e,t,i,o){i=this.protoRegex.test(e)&&void 0!==this.allowedProtocols[e]&&(!this.allowedProtocols[e].additionalAllowConditions||this.allowedProtocols[e].additionalAllowConditions(i,t,o));return i||this.addBlockReasonToRequest(e,t),i}static isBlockedRequestBypassed(e){return this.requestBypassRegex.test(e)}static addBlockReasonToRequest(e,t){t&&"function"==
typeof t.addReason&&void 0!==this.allowedProtocols[e]&&(e=this.allowedProtocols[e].blockReason,t.addReason(e))}}function p(e,t,i){var o;(t="symbol"==typeof(o=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.");}(t))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}u(a=g,"defaultProtocolConfig",
{data:{mediaTypes:[]}}),u(g,"allowedProtocols",{"about:":{blockReason:"ABOUT_PROTOCOL"},"blob:":{blockReason:"BLOB_PROTOCOL"},"mailto:":{additionalAllowConditions:function(e){return!e.blockMailtoLinks},blockReason:"MAIL_TO"},"chrome-extension:":{additionalAllowConditions:function(e){return!e.blockExtensions},blockReason:"CHROME_BROWSER_EXTENSION"},"data:":{additionalAllowConditions:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.defaultProtocolConfig;let o=[-1<t.destination.indexOf("data:image"),
"script"===t.type&&e.disableDataProtocolJavascriptRequests];if(e.allowAdditionalDataMediaTypes){const e=[...(null==i||null==(i=i.data)?void 0:i.mediaTypes)||[]];o=[...o,...e.map((e)=>-1<t.destination.indexOf("data:".concat(e)))]}return o.includes(!0)},blockReason:"DATA_PROTOCOL"},"hblob:":{blockReason:"HBLOB_PROTOCOL"},"moz-extension:":{additionalAllowConditions:function(e){return!e.blockExtensions},blockReason:"MOZ_BROWSER_EXTENSION"},"safari-extension:":{additionalAllowConditions:function(e){return!e.blockExtensions},
blockReason:"SAFARI_BROWSER_EXTENSION"},"tel:":{blockReason:"TEL_PROTOCOL"}}),u(g,"protoRegex",new RegExp(Object.keys(a.allowedProtocols).join("|"),"i")),u(g,"requestBypassRegex",new RegExp("chrome-extension:|safari-extension:|moz-extension:","i"));class m{constructor(e,t,i,o){this.gatewayData=e,this.environment=t,this.historyEntryReporter=i,this.listProcessor=o,p(this,"sslManager",void 0),p(this,"dataGovernanceManager",void 0),p(this,"protoManager",void 0),p(this,"updateEnvironment",(e,t,i,o)=>{this.environment=
e,this.dataGovernanceManager.updateEnvironment(e),this.sslManager.updateEnvironment(e),this.listProcessor.updateEnvironment(e,t,i,o)}),p(this,"updateListValues",(e,t,i)=>{this.listProcessor.updateListValues(e,t,i)}),this.sslManager=new r(e,t),this.dataGovernanceManager=new c(e.featureToggles.enableDataMonitoring,e.dataMonitoring,t),this.protoManager=g}processURL(e,t,i,o,n){const s={};return this.processURLInternal(e,null,t,i,s,o,n,(e)=>{this.historyEntryReporter.resourceComplete(s,e,"allowed")})}processURLAndBody(e,
t,i,o,n,s){const r={};this.processURLInternal(e,t,i,o,r,n,s,(e)=>{this.historyEntryReporter.resourceComplete(r,e,"allowed")})}isVoidURL(e){var t="javascript:";return"string"!=typeof e||""===e||0===e.indexOf(t)||2===e.indexOf(t)}isValidURL(e,t){try{d.B.getUrl(e,t)}catch(e){return!1}return!0}createEventHandler(e,t){return()=>{this.historyEntryReporter.resourceComplete(this,e,t)}}generateEnsRequest(e,t,i,o){e=new n.w(d.B.getUrl(e,o).href);return e.source=i,e.type=t,e}processEnsRequest(e,t,i,o,n,s,r){let a=
t;if(this.onBefore(e,i,o,n))r(e.id);else{const t=this.getBlockedSrcString(e.type,e,n),r=this.getBlockedRequestBody(e,i);d.B.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableFiltering")&&("function"==typeof s&&void 0!==s&&s(t,r),a=t),this.sendBlockReport(e,o,n)}return a}getModifiedEnsRequestStatus(e,t){let i="blocked";return this.dataGovernanceManager.shouldMaskUrl(e)&&(i="masked"),this.dataGovernanceManager.shouldRedactUrl(e)&&(i="redact"),i=this.sslManager.shouldRewriteProtocol(e,
t)?"rewrite":i}processURLInternal(e,t,i,o,n,s,r,a){return this.isVoidURL(e)||!this.isValidURL(e,s)?e:(i=this.generateEnsRequest(e,i,o,s),this.processEnsRequest(i,e,t,n,s,r,a))}sendBlockReport(e,t,i){i=this.getModifiedEnsRequestStatus(e,i);this.historyEntryReporter.resourceComplete(t,e.id,i)}onBefore(e,t,i,o){return this.historyEntryReporter.createHistoryEntry(e,i),this.allowRequest(e,t,o)}allowRequest(e,t,i){let o=!0;var n=e.destination,s=d.B.getUrl(n,i),i=("string"==typeof i&&""!==i?d.B.getUrl(i):
d.B.getUrl(n)).protocol,r=s.hostname,a=s.pathname,s=s.protocol;if(this.protoManager.allowProtocolAndBypassProcessing(s,e,this.gatewayData.featureToggles,this.gatewayData.protocolConfig))return!0;if(this.protoManager.isBlockedRequestBypassed(s))return!1;let l=!0,h=(""!==n&&(l=this.sslManager.allowRequest(i,s,e)),!0),c;return c=this.dataGovernanceManager.allowRequest(e,r,t),this.environment&&(h=this.listProcessor.allowRequest(r,e,a)),o=!1!==h&&!1!==l&&!1!==c?o:!1}getBlockedSrcString(e,t,i){let o=t.destination;
function n(){return["img","image","source"].includes(null==e?void 0:e.trim().toLowerCase())?"":"//javascript:;"}if(this.sslManager.shouldRewriteProtocol(t,i)){if(o=this.sslManager.rewriteProtocol(t.destination),1===t.reasons.length)return o}else if(t.hasReason("SSL"))return n();return this.dataGovernanceManager.shouldMaskUrl(t)?this.dataGovernanceManager.getMaskedUrl(o):this.dataGovernanceManager.shouldRedactUrl(t)?this.dataGovernanceManager.getRedactedUrl(o):n()}getBlockedRequestBody(e,t){return this.dataGovernanceManager.shouldMaskData(e)?
this.dataGovernanceManager.getMaskedData(t):this.dataGovernanceManager.shouldRedactData(e)?this.dataGovernanceManager.getRedactedData(t):t}}},616:(e,t,i)=>{i.d(t,{B:()=>o});const o={arrayToRegex:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;if(Array.isArray(e))return e&&0<e.length&&e.join?new RegExp(e.join("|"),t):new RegExp("a^",t)},each:function(t,i,o){void 0!==t&&"length"in t||(t={length:0});for(let e=0;e<t.length;e++)i.call(o,t[e],e,t)},isUriEncoded:function(e){return"string"==
typeof e&&e!==decodeURIComponent(e)},isValidUrl:function(e){try{return new URL(e),!0}catch(e){return!1}},isWhitelist:function(e,t){return this.getEnvironmentOverrideOrGlobalDefault(e.featureToggles,t,"usesWhitelist")},decodeUriComponent:function(e){let t=e;try{if("string"==typeof e)for(;this.isUriEncoded(t);)t=decodeURIComponent(t)}catch(t){console.warn("URI: "+e+". Could not be decoded properly. Original string was returned.")}return t},encodeUriComponent:function(e){let t=e;try{"string"==typeof e&&
(t=encodeURIComponent(e))}catch(t){console.warn("URI: "+e+". Could not be encoded properly. Original string was returned.")}return t},repeatString:function(e,t){var i=[];let o=0;for(;o<t;)i[o++]=e;return i.join("")},getEnvironmentOverrideOrGlobalDefault:function(e,t,i){return(t&&Object.prototype.hasOwnProperty.call(t,i)?t:e)[i]},getUrl(e,t){return"string"==typeof t&&""!==t?new URL(e,t):new URL(e)}}},788:(e,t,i)=>{var o=i(931);function n(e,t){return void 0===t&&(t="utf8"),a.isBuffer(e)?r(e.toString("base64")):
r(a.from(e,t).toString("base64"))}function s(e){return e=e.toString(),o.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function r(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}i=n;i.encode=n,i.decode=function(e,t){return void 0===t&&(t="utf8"),a.from(s(e),"base64").toString(t)},i.toBase64=s,i.fromBase64=r,i.toBuffer=function(e){return a.from(s(e),"base64")},t.default=i},931:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length,i=t%4;if(!i)return e;
var o=t,n=4-i,s=a.alloc(t+n);for(s.write(e);n--;)s.write("\x3d",o++);return s.toString()}},711:(e,t,i)=>{e.exports=i(788).default,e.exports.default=e.exports}},o={},r.n=(e)=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=(e)=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),
Object.defineProperty(e,"__esModule",{value:!0})},l={},(()=>{r.r(l),r.d(l,{EnsRequest:()=>i.w,ListProcessor:()=>o.l,UrlProcessor:()=>e.M,utilities:()=>t.B});var e=r(775),t=r(616),i=r(579),o=r(317),n=r(686),s={};for(const e in n)["default","UrlProcessor","utilities","EnsRequest","ListProcessor"].indexOf(e)<0&&(s[e]=()=>n[e]);r.d(l,s)})(),l)}.call(this,i(3).Buffer)},function(e,t,i){i.r(t),i.d(t,"utilities",function(){return o});const o=new class{constructor(){this.overriddenFunctionProperty="ensOverriddenFunctions",
this.unbound={},this.watcher={enumerable:!1,configurable:!0,writable:!0,value:function(t,i){let o=this[t],n=o;delete this[t]&&Object.defineProperty(this,t,{get:function(){var e;return n="function"==typeof this.getAttribute&&(e=this.getAttribute(t))?e:n},set:function(e){return o=n,n=i.call(this,t,o,e),this.setAttribute&&this.setAttribute(t,n,!0),n},enumerable:!0,configurable:!0})}}}addStyleElement(e){var t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type=
"text/css",i.appendChild(document.createTextNode(e)),t.appendChild(i)}apiToSource(e){return e.toUpperCase()+"_MANAGER"}couldNotBind(e){this.unbound[e]=!0}bind(e,t,i){return i=Array.prototype.slice.call(arguments),e=i.shift(),t=i.shift(),function(){return e.apply(t,i.concat(Array.prototype.slice.call(arguments)))}}cookieNameToCookieType(e,t){return t.replace(e.toUpperCase()+"_ENSIGHTEN_PRIVACY_","")}getReferrer(){return window.location.toString()}domReady(e){let t=!1;const i=function(){t||"function"!=
typeof document.addEventListener&&"load"!==event.type&&"complete"!==document.readyState||(t=!0,"function"==typeof document.addEventListener&&(document.removeEventListener("DOMContentLoaded",i),window.removeEventListener("load",i)),e())};"complete"===document.readyState?e():(document.addEventListener("DOMContentLoaded",i),window.addEventListener("load",i))}getCookieTLD(){return["ac","ad","co","ed","go","gr","lg","ne","or","com","co","org","edu","info","gov","net","mod","nhs","plc","sch","ltd"]}getCookieSLD(){return["af",
"ax","al","dz","as","ad","ao","ai","aq","ag","ar","am","aw","au","at","az","bh","bs","bd","bb","by","be","bz","bj","bm","bt","bo","bq","ba","bw","bv","br","io","bn","bg","bf","bi","kh","cm","ca","cv","ky","cf","td","cl","cn","cx","cc","co","km","cg","cd","ck","cr","ci","hr","cu","cw","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","et","fk","fo","fj","fi","fr","gf","pf","tf","ga","gm","ge","de","gh","gi","gr","gl","gd","gp","gu","gt","gg","gn","gw","gy","ht","hm","va","hn","hk","hu","is",
"in","id","ir","iq","ie","im","il","it","jm","jp","je","jo","kz","ke","ki","kp","kr","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mo","mk","mg","mw","my","mv","ml","mt","mh","mq","mr","mu","yt","mx","fm","md","mc","mn","me","ms","ma","mz","mm","na","nr","np","nl","nc","nz","ni","ne","ng","nu","nf","mp","no","om","pk","pw","ps","pa","pg","py","pe","ph","pn","pl","pt","pr","qa","ro","ru","rw","bl","sh","kn","lc","mf","pm","vc","ws","sm","st","sa","sn","rs","sc","sl","sg","sx","sk","si","sb",
"so","za","gs","ss","es","lk","sd","sr","sj","sz","se","ch","sy","tw","tj","tz","th","tl","tg","tk","to","tt","tn","tr","tm","tc","tv","ug","ua","uk","ae","gb","us","um","uy","uz","vu","ve","vn","vg","vi","wf","eh","ye","zm","zw"]}getBrowserLocale(){let e=window.navigator.userLanguage||window.navigator.language;return e=e?(e=e.split("-"))[0]&&e[1]?e[0]+"-"+e[1].toUpperCase():e[0]:"en"}getFunctionString(e){return!e||"function"!=typeof e&&"object"!=typeof e?"":e+""}getUrlParamVal(e){var t,i={},o=window.location.href.slice(window.location.href.indexOf("?")+
1).split("\x26");for(let e=0;e<o.length;e++)i[(t=o[e].split("\x3d"))[0]]=t[1];let n=i[e]?i[e]:"";return n}isMobileSafari(){var e=window.navigator.userAgent,t=!!e.match(/iP(ad|od|hone)/i),i=!!e.match(/WebKit/i);return t&&i&&!e.match(/CriOS/i)}isSafari(){return window.navigator&&-1<window.navigator.userAgent.toLowerCase().indexOf("safari")&&-1===window.navigator.userAgent.toLowerCase().indexOf("chromium/")&&-1===window.navigator.userAgent.toLowerCase().indexOf("chrome/")}isIE(){return"ActiveXObject"in
window}isNative(e){let t=new RegExp("function\\s+.+?\\(\\s*\\)\\s*{\\s*\\[native code\\]\\s*}"),i=new RegExp("function\\s+.+?\\(\\s*\\)\\s*{\\s*\\/\\*\\s*source code not available\\s*\\*\\/\\s*}"),o=this.getFunctionString(e);e=t.test(o)||i.test(o);return t=i=null,e}validateRemoveChild(e){return e instanceof Node&&e.parentNode instanceof Node&&null!=document.body&&document.body.contains(e)}isFunctionOverridden(e,t){return e.hasOwnProperty(this.overriddenFunctionProperty)&&e[this.overriddenFunctionProperty][t]}handleTrustedHTML(e,
t){var i;return null==e||(i=t(t=""+e.toString())).toString()===t?e:i}markFunctionOverridden(e,t){e.hasOwnProperty(this.overriddenFunctionProperty)||(e[this.overriddenFunctionProperty]={}),e[this.overriddenFunctionProperty][t]=!0}}},function(e,t,i){i.d(t,"a",function(){return o});class o{constructor(){this.consoleLoggingEnabled=!1,this.checkForConsoleLoggingParam()}checkForConsoleLoggingParam(){var t,i={},o=window.location.href.slice(window.location.href.indexOf("?")+1).split("\x26");for(let e=0;e<
o.length;e++)i[(t=o[e].split("\x3d"))[0]]=t[1];i.ensLogger&&"true"===i.ensLogger&&this.enableConsoleLogging()}disableConsoleLogging(){this.setConsoleLoggingState(!1)}enableConsoleLogging(){this.setConsoleLoggingState(!0)}getConsoleLoggingState(){return this.consoleLoggingEnabled}consoleLog(...e){this.consoleLoggingEnabled&&window.console&&console.log(e)}setConsoleLoggingState(e){this.consoleLoggingEnabled=e}}},function(e,D,B){!function(e){var S=B(12),s=B(13),a=B(14);function i(){return d.TYPED_ARRAY_SUPPORT?
2147483647:1073741823}function l(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=d.prototype:(e=null===e?new d(t):e).length=t,e}function d(e,t,i){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(e,t,i);if("number"!=typeof e)return o(this,e,t,i);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return r(this,e)}function o(e,t,i,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');
if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var n=e,s=t,r=i;if(s.byteLength,r<0||s.byteLength<r)throw new RangeError("'offset' is out of bounds");if(s.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");return s=void 0===r&&void 0===o?new Uint8Array(s):void 0===o?new Uint8Array(s,r):new Uint8Array(s,r,o),d.TYPED_ARRAY_SUPPORT?(n=s).__proto__=d.prototype:n=h(n,s),n}if("string"!=typeof t){r=e,o=t;if(d.isBuffer(o))return s=0|c(o.length),0!==(r=l(r,s)).length&&o.copy(r,
0,0,s),r;if(o){if("undefined"!=typeof ArrayBuffer&&o.buffer instanceof ArrayBuffer||"length"in o)return"number"!=typeof o.length||function(e){return e!=e}(o.length)?l(r,0):h(r,o);if("Buffer"===o.type&&a(o.data))return h(r,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}n=e,o=t,e=i;if(d.isEncoding(e="string"==typeof e&&""!==e?e:"utf8"))return t=0|u(o,e),n=(o=(n=l(n,t)).write(o,e))!==t?n.slice(0,o):n;throw new TypeError('"encoding" must be a valid string encoding');
}function n(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');}function r(e,t){if(n(t),e=l(e,t<0?0:0|c(t)),!d.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function h(e,t){var i=t.length<0?0:0|c(t.length);e=l(e,i);for(var o=0;o<i;o+=1)e[o]=255&t[o];return e}function c(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|
e}function u(e,t){if(d.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var i=(e="string"!=typeof e?""+e:e).length;if(0===i)return 0;for(var o=!1;;)switch(t){case "ascii":case "latin1":case "binary":return i;case "utf8":case "utf-8":case void 0:return R(e).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*i;case "hex":return i>>>1;case "base64":return L(e).length;
default:if(o)return R(e).length;t=(""+t).toLowerCase(),o=!0}}function t(e,t,i){var o,n=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((i=void 0===i||i>this.length?this.length:i)<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case "hex":var s=this,r=t,a=i,l=s.length;(!a||a<0||l<a)&&(a=l);for(var h="",c=r=!r||r<0?0:r;c<a;++c)h+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(s[c]);return h;case "utf8":case "utf-8":return T(this,t,i);case "ascii":var d=this,
l=t,u=i,g="";u=Math.min(d.length,u);for(var p=l;p<u;++p)g+=String.fromCharCode(127&d[p]);return g;case "latin1":case "binary":var m=this,r=t,f=i,v="";f=Math.min(m.length,f);for(var y=r;y<f;++y)v+=String.fromCharCode(m[y]);return v;case "base64":return C=this,o=i,0===(w=t)&&o===C.length?S.fromByteArray(C):S.fromByteArray(C.slice(w,o));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":for(var C=t,w=i,b=this.slice(C,w),E="",M=0;M<b.length;M+=2)E+=String.fromCharCode(b[M]+256*b[M+1]);return E;default:if(n)throw new TypeError("Unknown encoding: "+
e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,i){var o=e[t];e[t]=e[i],e[i]=o}function p(e,t,i,o,n){if(0===e.length)return-1;if("string"==typeof i?(o=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,(i=(i=isNaN(i)?n?0:e.length-1:i)<0?e.length+i:i)>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=d.from(t,o)),d.isBuffer(t))return 0===t.length?-1:m(e,t,i,o,n);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?
(n?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,i):m(e,[t],i,o,n);throw new TypeError("val must be string, number or Buffer");}function m(e,t,i,o,n){var s=1,r=e.length,a=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;r/=s=2,a/=2,i/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n)for(var h=-1,c=i;c<r;c++)if(l(e,c)===l(t,-1===h?0:c-h)){if(c-(h=-1===h?c:h)+1===a)return h*
s}else-1!==h&&(c-=c-h),h=-1;else for(c=i=r<i+a?r-a:i;0<=c;c--){for(var d=!0,u=0;u<a;u++)if(l(e,c+u)!==l(t,u)){d=!1;break}if(d)return c}return-1}function f(e,t,i,o){return O(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,o)}function v(e,t,i,o){return O(function(e,t){for(var i,o,n=[],s=0;s<e.length&&!((t-=2)<0);++s)i=e.charCodeAt(s),o=i>>8,n.push(i%256),n.push(o);return n}(t,e.length-i),e,i,o)}function T(e,t,i){i=Math.min(e.length,i);for(var o=[],n=t;n<i;){var s,
r,a,l,h=e[n],c=null,d=239<h?4:223<h?3:191<h?2:1;if(n+d<=i)switch(d){case 1:h<128&&(c=h);break;case 2:128==(192&(s=e[n+1]))&&127<(l=(31&h)<<6|63&s)&&(c=l);break;case 3:s=e[n+1],r=e[n+2],128==(192&s)&&128==(192&r)&&2047<(l=(15&h)<<12|(63&s)<<6|63&r)&&(l<55296||57343<l)&&(c=l);break;case 4:s=e[n+1],r=e[n+2],a=e[n+3],128==(192&s)&&128==(192&r)&&128==(192&a)&&65535<(l=(15&h)<<18|(63&s)<<12|(63&r)<<6|63&a)&&l<1114112&&(c=l)}null===c?(c=65533,d=1):65535<c&&(o.push((c-=65536)>>>10&1023|55296),c=56320|1023&
c),o.push(c),n+=d}var u=o,g=u.length;if(g<=y)return String.fromCharCode.apply(String,u);for(var p="",m=0;m<g;)p+=String.fromCharCode.apply(String,u.slice(m,m+=y));return p}D.Buffer=d,D.SlowBuffer=function(e){+e!=e&&(e=0);return d.alloc(+e)},D.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&
0===e.subarray(1,1).byteLength}catch(e){return!1}}(),D.kMaxLength=i(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,i){return o(null,e,t,i)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0}),d.alloc=function(e,t,i){return o=null,t=t,i=i,n(e=e),!(e<=0)&&void 0!==t?"string"==typeof i?
l(o,e).fill(t,i):l(o,e).fill(t):l(o,e);var o},d.allocUnsafe=function(e){return r(null,e)},d.allocUnsafeSlow=function(e){return r(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,o=t.length,n=0,s=Math.min(i,o);n<s;++n)if(e[n]!==t[n]){i=e[n],o=t[n];break}return i<o?-1:o<i?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}},d.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;for(var i=d.allocUnsafe(t),o=0,n=0;n<e.length;++n){var s=e[n];if(!d.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},d.byteLength=u,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var t=0;t<e;t+=2)g(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;
return 0==e?"":0===arguments.length?T(this,0,e):t.apply(this,arguments)},d.prototype.equals=function(e){if(d.isBuffer(e))return this===e||0===d.compare(this,e);throw new TypeError("Argument must be a Buffer");},d.prototype.inspect=function(){var e="",t=D.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t)&&(e+=" ... "),"\x3cBuffer "+e+"\x3e"},d.prototype.compare=function(e,t,i,o,n){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");
if(void 0===i&&(i=e?e.length:0),void 0===o&&(o=0),void 0===n&&(n=this.length),(t=void 0===t?0:t)<0||i>e.length||o<0||n>this.length)throw new RangeError("out of range index");if(n<=o&&i<=t)return 0;if(n<=o)return-1;if(i<=t)return 1;if(this===e)return 0;for(var s=(n>>>=0)-(o>>>=0),r=(i>>>=0)-(t>>>=0),a=Math.min(s,r),l=this.slice(o,n),h=e.slice(t,i),c=0;c<a;++c)if(l[c]!==h[c]){s=l[c],r=h[c];break}return s<r?-1:r<s?1:0},d.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},d.prototype.indexOf=
function(e,t,i){return p(this,e,t,i,!0)},d.prototype.lastIndexOf=function(e,t,i){return p(this,e,t,i,!1)},d.prototype.write=function(e,t,i,o){if(void 0===t)o="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)o=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===o&&(o="utf8")):(o=i,i=void 0)}var n=this.length-t;if((void 0===i||n<i)&&(i=n),0<e.length&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");
o=o||"utf8";for(var s,r,a,l=!1;;)switch(o){case "hex":var h=this,c=e,d=t,u=i,g=(d=Number(d)||0,h.length-d);if((!u||g<(u=Number(u)))&&(u=g),(g=c.length)%2!=0)throw new TypeError("Invalid hex string");g/2<u&&(u=g/2);for(var p=0;p<u;++p){var m=parseInt(c.substr(2*p,2),16);if(isNaN(m))return p;h[d+p]=m}return p;case "utf8":case "utf-8":return g=t,a=i,O(R(e,(r=this).length-g),r,g,a);case "ascii":return f(this,e,t,i);case "latin1":case "binary":return f(this,e,t,i);case "base64":return r=this,a=t,s=i,O(L(e),
r,a,s);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return v(this,e,t,i);default:if(l)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),l=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var y=4096;function C(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(i<e+t)throw new RangeError("Trying to access beyond buffer length");}function w(e,t,i,o,n,s){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');
if(n<t||t<s)throw new RangeError('"value" argument is out of bounds');if(i+o>e.length)throw new RangeError("Index out of range");}function b(e,t,i,o){t<0&&(t=65535+t+1);for(var n=0,s=Math.min(e.length-i,2);n<s;++n)e[i+n]=(t&255<<8*(o?n:1-n))>>>8*(o?n:1-n)}function E(e,t,i,o){t<0&&(t=4294967295+t+1);for(var n=0,s=Math.min(e.length-i,4);n<s;++n)e[i+n]=t>>>8*(o?n:3-n)&255}function M(e,t,i,o){if(i+o>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range");
}function k(e,t,i,o,n){return n||M(e,0,i,4),s.write(e,t,i,o,23,4),i+4}function A(e,t,i,o,n){return n||M(e,0,i,8),s.write(e,t,i,o,52,8),i+8}d.prototype.slice=function(e,t){var i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=d.prototype;else for(var o=t-e,n=new d(o,void 0),s=0;s<o;++s)n[s]=this[s+e];return n},d.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);
for(var o=this[e],n=1,s=0;++s<t&&(n*=256);)o+=this[e+s]*n;return o},d.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var o=this[e+--t],n=1;0<t&&(n*=256);)o+=this[e+--t]*n;return o},d.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||
C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var o=this[e],n=1,s=0;++s<t&&(n*=256);)o+=this[e+s]*n;return(n*=128)<=o&&(o-=Math.pow(2,8*t)),o},d.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||C(e,t,this.length);for(var o=t,n=1,s=this[e+--o];0<o&&(n*=256);)s+=this[e+--o]*
n;return(n*=128)<=s&&(s-=Math.pow(2,8*t)),s},d.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},d.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},d.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=
function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),s.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),s.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),s.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),s.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,i,o){e=
+e,t|=0,i|=0,o||w(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,s=0;for(this[t]=255&e;++s<i&&(n*=256);)this[t+s]=e/n&255;return t+i},d.prototype.writeUIntBE=function(e,t,i,o){e=+e,t|=0,i|=0,o||w(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,s=1;for(this[t+n]=255&e;0<=--n&&(s*=256);)this[t+n]=e/s&255;return t+i},d.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||w(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,
i||w(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):b(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||w(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):b(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||w(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):E(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,i){return e=
+e,t|=0,i||w(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):E(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,i,o){e=+e,t|=0,o||w(this,e,t,i,(o=Math.pow(2,8*i-1))-1,-o);var n=0,s=1,r=0;for(this[t]=255&e;++n<i&&(s*=256);)e<0&&0===r&&0!==this[t+n-1]&&(r=1),this[t+n]=(e/s>>0)-r&255;return t+i},d.prototype.writeIntBE=function(e,t,i,o){e=+e,t|=0,o||w(this,e,t,i,(o=Math.pow(2,8*i-1))-1,-o);var n=i-1,s=1,r=0;for(this[t+n]=255&e;0<=--n&&
(s*=256);)e<0&&0===r&&0!==this[t+n+1]&&(r=1),this[t+n]=(e/s>>0)-r&255;return t+i},d.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||w(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},d.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||w(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):b(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||w(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?
(this[t]=e>>>8,this[t+1]=255&e):b(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||w(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):E(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):E(this,e,t,!1),t+4},d.prototype.writeFloatLE=
function(e,t,i){return k(this,e,t,!0,i)},d.prototype.writeFloatBE=function(e,t,i){return k(this,e,t,!1,i)},d.prototype.writeDoubleLE=function(e,t,i){return A(this,e,t,!0,i)},d.prototype.writeDoubleBE=function(e,t,i){return A(this,e,t,!1,i)},d.prototype.copy=function(e,t,i,o){if(i=i||0,o||0===o||(o=this.length),t>=e.length&&(t=e.length),(o=0<o&&o<i?i:o)===i)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");
if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length);var n,s=(o=e.length-t<o-i?e.length-t+i:o)-i;if(this===e&&i<t&&t<o)for(n=s-1;0<=n;--n)e[n+t]=this[n+i];else if(s<1E3||!d.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},d.prototype.fill=function(e,t,i,o){if("string"==typeof e){var n;if("string"==typeof t?(o=t,t=0,i=this.length):"string"==typeof i&&(o=i,i=this.length),1===e.length&&(n=e.charCodeAt(0))<
256&&(e=n),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!d.isEncoding(o))throw new TypeError("Unknown encoding: "+o);}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(!(i<=t))if(t>>>=0,i=void 0===i?this.length:i>>>0,"number"==typeof(e=e||0))for(a=t;a<i;++a)this[a]=e;else for(var s=d.isBuffer(e)?e:R((new d(e,o)).toString()),r=s.length,a=0;a<i-t;++a)this[a+t]=s[a%r];return this};
var _=/[^+\/0-9A-Za-z-_]/g;function R(e,t){t=t||1/0;for(var i,o=e.length,n=null,s=[],r=0;r<o;++r){if(55295<(i=e.charCodeAt(r))&&i<57344){if(!n){if(56319<i){-1<(t-=3)&&s.push(239,191,189);continue}if(r+1===o){-1<(t-=3)&&s.push(239,191,189);continue}n=i;continue}if(i<56320){-1<(t-=3)&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&-1<(t-=3)&&s.push(239,191,189);if(n=null,i<128){if(--t<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=
3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function L(e){return S.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(_,"")).length<2)return"";for(;e.length%4!=0;)e+="\x3d";return e}(e))}function O(e,t,i,o){for(var n=0;n<o&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}}.call(this,B(11))},function(e,o,a){!function(n){a.d(o,
"a",function(){return i});var s=a(6),e=a(7),r=a.n(e),t=a(2);class i{constructor(){this.instanceId=(268435456*(1+Math.random())|0).toString(36),this.ensLogger=new t.a,this.options={maxUrlSize:32E3},this.beaconCounter=0,this.version="1.0.0"}setEnvironment(e){this.environmentName=e?e.name:"none",this.defaultOptions=e?e.optVals:{}}compressReportString(e){var t=n.from(e).length,i=new n(e),o=new n(s.utils.compressBound(i.length)),i=s.utils.compress(i,o);return{encodedBody:e=r.a.encode(o.slice(0,i)),rawLength:t}}beacon(e,
t){return null==t||t<=0||null==e||e.length<=0?"":(t=`${this.urlPath}?n=${this.beaconCounter++}&c=${this.clientId}&i=${this.instanceId}&${this.publishPath?`p=${encodeURIComponent(this.publishPath)}&`:""}s=${t}&d=`+e,this.sendBeaconReportingDisabled||"function"!=typeof this.sendBeacon?(new this.imageReference).src=t:this.sendBeacon(t,e),t)}}}.call(this,a(3).Buffer)},function(e,t,i){t.UINT32=i(19),t.UINT64=i(20)},function(e,t,i){e.exports=i(15)},function(e,t,i){e.exports=i(22).default,e.exports.default=
e.exports},function(e,t,i){i(9),e.exports=i(10)},function(e,t,i){i.r(t);t=i(1).utilities;Object.isExtensible(Object)&&!Object.prototype.hasOwnProperty("enswatch")&&Object.defineProperty(Object.prototype,"enswatch",t.watcher)},function(e,t,i){var o=i(1)["utilities"],i=i(24)["Gateway"];document.elementFromPoint&&!o.isIE()?(ensBrowserSupported=!0,(Bootstrapper="undefined"==typeof Bootstrapper?{}:Bootstrapper).hasOwnProperty("privacy")&&"function"==typeof Bootstrapper.privacy.onBeforeInit&&Bootstrapper.privacy.onBeforeInit(ensClientConfig),
"function"==typeof ensClientConfig.domReady&&(o.domReady=ensClientConfig.domReady),(gateway=new i(ensClientConfig)).isInitialized?(Bootstrapper.gateway={templateManager:gateway.templateManager,environment:gateway.environment,environmentExists:gateway.environmentManager.environmentExists,getActiveEnvironment:gateway.environmentManager.getActiveEnvironment,getActiveLocale:gateway.environmentManager.getActiveLocale,getAvailableLocales:gateway.environmentManager.getAvailableLocales,getCookie:gateway.consentCookies.getCookie,
getCookieTypes:gateway.consentCookies.getCookieTypes,getCookieDomain:gateway.consentCookies.getCookieDomain,getCookieDomainPath:gateway.consentCookies.getCookieDomainPath,getVersion:gateway.getVersion,openBanner:gateway.openBanner,closeBanner:gateway.closeBanner,openModal:gateway.openModal,closeModal:gateway.closeModal,openDoNotSellModal:gateway.openDoNotSellModal,openRequestDataModal:gateway.openRequestDataModal,openDeleteDataModal:gateway.openDeleteDataModal,sendCCPAEvent:gateway.sendCCPAEvent,
registerEnvironmentChangeCallback:gateway.environmentManager.registerEnvironmentChangeCallback,registerConsentChangeCallback:gateway.registerConsentChangeCallback,getFilteredList:gateway.getFilteredList,getList:gateway.getList,isWhitelist:gateway.isWhitelist,resetEnvironment:gateway.resetEnvironment,saveTcf:gateway.consentCookies.saveTcf,setConsentStatus:gateway.banner.setConsentStatus,setConsentStatuses:gateway.banner.setConsentStatuses,setCookie:gateway.consentCookies.setCookie,setCookies:gateway.consentCookies.setCookies,
setCookieDomain:gateway.consentCookies.setCookieDomain,setCookieDomainPath:gateway.consentCookies.setCookieDomainPath,setCookieRetentionPeriod:gateway.consentCookies.setCookieRetentionPeriod,setEnvironment:gateway.environmentManager.setEnvironment,setOpenModal:gateway.setOpenModal,setOpenBanner:gateway.setOpenBanner,getConsentStatus:gateway.banner.getConsentStatus,getUserPreferences:gateway.getUserPreferences,getUserPreference:gateway.getUserPreference,updatePreferences:gateway.updatePreferences,
allowTag:gateway.allowTag,blockTag:gateway.blockTag,blockAllCategories:gateway.blockAllCategories,clearTags:gateway.clearTags,getHistory:gateway.getHistory,enableBotAndFraudProtectionReason:gateway.enableBotAndFraudProtectionReason,addCustomReportingEvent:gateway.addCustomReportingEvent,googleConsentManager:gateway.googleConsentManager},Object.defineProperty(Bootstrapper.gateway,"environment",{get:function(){return gateway.environmentManager.getActiveEnvironment()}}),Bootstrapper.hasOwnProperty("privacy")&&
"function"==typeof Bootstrapper.privacy.onAfterInitInternal&&Bootstrapper.privacy.onAfterInitInternal(ensClientConfig),Bootstrapper.hasOwnProperty("privacy")&&"function"==typeof Bootstrapper.privacy.onAfterInit&&Bootstrapper.privacy.onAfterInit(ensClientConfig)):Bootstrapper.gateway={}):ensBrowserSupported=!1,!ensBrowserSupported&&ensClientConfig.browserNotSupportedURL&&""!==ensClientConfig.browserNotSupportedURL&&(window.location=ensClientConfig.browserNotSupportedURL)},function(e,t){var i=function(){return this}();
try{i=i||(new Function("return this"))()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){t.byteLength=function(e){var e=c(e),t=e[0],e=e[1];return 3*(t+e)/4-e},t.toByteArray=function(e){var t,i,o=c(e),n=o[0],o=o[1],s=new h(function(e,t){return 3*(e+t)/4-t}(n,o)),r=0,a=0<o?n-4:n;for(i=0;i<a;i+=4)t=l[e.charCodeAt(i)]<<18|l[e.charCodeAt(i+1)]<<12|l[e.charCodeAt(i+2)]<<6|l[e.charCodeAt(i+3)],s[r++]=t>>16&255,s[r++]=t>>8&255,s[r++]=255&t;2===o&&(t=l[e.charCodeAt(i)]<<2|l[e.charCodeAt(i+
1)]>>4,s[r++]=255&t);1===o&&(t=l[e.charCodeAt(i)]<<10|l[e.charCodeAt(i+1)]<<4|l[e.charCodeAt(i+2)]>>2,s[r++]=t>>8&255,s[r++]=255&t);return s},t.fromByteArray=function(e){for(var t,i=e.length,o=i%3,n=[],s=0,r=i-o;s<r;s+=16383)n.push(function(e,t,i){for(var o,n=[],s=t;s<i;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),n.push(function(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}(o));return n.join("")}(e,s,r<s+16383?r:s+16383));1==o?(t=e[i-1],n.push(a[t>>2]+a[t<<4&63]+"\x3d\x3d")):
2==o&&(t=(e[i-2]<<8)+e[i-1],n.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"\x3d"));return n.join("")};for(var a=[],l=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,s=o.length;n<s;++n)a[n]=o[n],l[o.charCodeAt(n)]=n;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("\x3d"),t=(e=-1===e?t:e)===t?0:4-e%4;return[e,t]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,
t){t.read=function(e,t,i,o,n){var s,r,a=8*n-o-1,l=(1<<a)-1,h=l>>1,c=-7,d=i?n-1:0,u=i?-1:1,n=e[t+d];for(d+=u,s=n&(1<<-c)-1,n>>=-c,c+=a;0<c;s=256*s+e[t+d],d+=u,c-=8);for(r=s&(1<<-c)-1,s>>=-c,c+=o;0<c;r=256*r+e[t+d],d+=u,c-=8);if(0===s)s=1-h;else{if(s===l)return r?NaN:1/0*(n?-1:1);r+=Math.pow(2,o),s-=h}return(n?-1:1)*r*Math.pow(2,s-o)},t.write=function(e,t,i,o,n,s){var r,a,l=8*s-n-1,h=(1<<l)-1,c=h>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,u=o?0:s-1,g=o?1:-1,s=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),
isNaN(t)||t===1/0?(a=isNaN(t)?1:0,r=h):(r=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-r))<1&&(r--,o*=2),2<=(t+=1<=r+c?d/o:d*Math.pow(2,1-c))*o&&(r++,o/=2),h<=r+c?(a=0,r=h):1<=r+c?(a=(t*o-1)*Math.pow(2,n),r+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,n),r=0));8<=n;e[i+u]=255&a,u+=g,a/=256,n-=8);for(r=r<<n|a,l+=n;0<l;e[i+u]=255&r,u+=g,r/=256,l-=8);e[i+u-g]|=128*s}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){!function(e){t.MAGICNUMBER=
407708164,t.MAGICNUMBER_BUFFER=new e(4),t.MAGICNUMBER_BUFFER.writeUInt32LE(t.MAGICNUMBER,0,!1),t.EOS=0,t.EOS_BUFFER=new e(4),t.EOS_BUFFER.writeUInt32LE(t.EOS,0,!1),t.VERSION=1,t.MAGICNUMBER_SKIPPABLE=407710288,t.blockMaxSizes=[null,null,null,null,65536,262144,1<<20,4<<20],t.extension=".lz4",t.STATES={MAGIC:0,DESCRIPTOR:1,SIZE:2,DICTID:3,DESCRIPTOR_CHECKSUM:4,DATABLOCK_SIZE:5,DATABLOCK_DATA:6,DATABLOCK_CHECKSUM:7,DATABLOCK_UNCOMPRESS:8,DATABLOCK_COMPRESS:9,CHECKSUM:10,CHECKSUM_UPDATE:11,EOS:90,SKIP_SIZE:101,
SKIP_DATA:102},t.SIZES={MAGIC:4,DESCRIPTOR:2,SIZE:8,DICTID:4,DESCRIPTOR_CHECKSUM:1,DATABLOCK_SIZE:4,DATABLOCK_CHECKSUM:4,CHECKSUM:4,EOS:4,SKIP_SIZE:4},t.utils=i(16)}.call(this,i(3).Buffer)},function(e,C,t){var i=t(17).h32,w=(C.descriptorChecksum=function(e){return i(e,0).toNumber()>>8&255},C.blockChecksum=function(e){return i(e,0).toNumber()},C.streamChecksum=function(e,t){return null===e?t.digest().toNumber():(t=null===t?i(0):t).update(e)},C.readUInt32LE=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<
16|e[t+3]<<24)>>>0},t(5).UINT32,Math.imul||(Math.imul=function(e,t){var i=65535&e,o=65535&t;return i*o+((e>>>16)*o+i*(t>>>16)<<16)|0}),C.uncompress=function(e,t,i,o){for(var n=i=i||0,s=o=o||e.length-i,r=0;n<s;){var a=e[n++],l=a>>4;if(0<l){for(var h=l+240;255===h;)l+=h=e[n++];for(var c=n+l;n<c;)t[r++]=e[n++];if(n===s)return r}var d=e[n++]|e[n++]<<8;if(0==d||r<d)return-(n-2);for(var u=15&a,h=u+240;255===h;)u+=h=e[n++];for(var g=r-d,c=r+u+4;r<c;)t[r++]=t[g++]}return r},2113929216);function r(e,t,i,o,
n,s){var r=n,s=s-n,a=0;if(e.length>=w)throw new Error("input too large");if(12<e.length){n=C.compressBound(e.length);if(s<n)throw Error("output too small: "+s+" \x3c "+n);for(var l=67,h=e.length-12;i+4<h;){var c=e[i+1]<<8|e[i],d=e[i+3]<<8|e[i+2],u=Math.imul(c|d<<16,2654435761)>>>16,g=o[u]-1;if(o[u]=i+1,g<0||0<i-g>>>16||(e[g+3]<<8|e[g+2])!=d||(e[g+1]<<8|e[g])!=c)i+=l++>>6;else{for(var l=67,p=i-a,u=i-g,m=(g+=4,i+=4);i<h&&e[i]==e[g];)i++,g++;d=(m=i-m)<15?m:15;if(15<=p){t[r++]=240+d;for(var f=p-15;254<
f;f-=255)t[r++]=255;t[r++]=f}else t[r++]=(p<<4)+d;for(var v=0;v<p;v++)t[r++]=e[a+v];if(t[r++]=u,t[r++]=u>>8,15<=m){for(m-=15;255<=m;)m-=255,t[r++]=255;t[r++]=m}a=i}}}if(0==a)return 0;if(15<=(p=e.length-a)){t[r++]=240;for(var y=p-15;254<y;y-=255)t[r++]=255;t[r++]=y}else t[r++]=p<<4;for(i=a;i<e.length;)t[r++]=e[i++];return r}C.compressBound=function(e){return w<e?0:e+e/255+16|0},C.compress=function(e,t,i,o){for(var n=new Array(65536),s=0;s<65536;s++)n[s]=0;return r(e,t,0,n,i||0,o||t.length)},C.compressHC=
C.compress,C.compressDependent=r},function(e,t,i){e.exports={h32:i(18),h64:i(21)}},function(i,e,o){!function(a){var l=o(5).UINT32,h=(l.prototype.xxh_update=function(e,t){var i=c._low,o=c._high,n=e*i,s=n>>>16,r=this._low+(65535&n),a=r>>>16,t=(a+=this._high+(65535&(s=((s+=t*i)&65535)+e*o)))<<16|65535&r;s=(n=(r=65535&(t=t<<13|t>>>19))*(i=h._low))>>>16,s=(65535&(s+=(t>>>16)*i))+r*h._high,this._low=65535&n,this._high=65535&s},l("2654435761")),c=l("2246822519"),d=l("3266489917"),u=l("668265263"),g=l("374761393");
function e(){return 2==arguments.length?(new e(arguments[1])).update(arguments[0]).digest():this instanceof e?void t.call(this,arguments[0]):new e(arguments[0])}function t(e){return this.seed=e instanceof l?e.clone():l(e),this.v1=this.seed.clone().add(h).add(c),this.v2=this.seed.clone().add(c),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(h),this.total_len=0,this.memsize=0,this.memory=null,this}e.prototype.init=t,e.prototype.update=function(e){var t,i="string"==typeof e,o=(i&&(e=function(e){for(var t=
[],i=0,o=e.length;i<o;i++){var n=e.charCodeAt(i);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||57344<=n?t.push(224|n>>12,128|n>>6&63,128|63&n):(i++,n=65536+((1023&n)<<10|1023&e.charCodeAt(i)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}(e),t=!(i=!1)),"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&(t=!0,e=new Uint8Array(e)),0),n=e.length,s=o+n;if(0!=n)if(this.total_len+=n,0==this.memsize&&(this.memory=i?"":new (t?Uint8Array:a)(16)),this.memsize+
n<16)i?this.memory+=e:t?this.memory.set(e.subarray(0,n),this.memsize):e.copy(this.memory,this.memsize,0,n),this.memsize+=n;else{if(0<this.memsize&&(i?this.memory+=e.slice(0,16-this.memsize):t?this.memory.set(e.subarray(0,16-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,16-this.memsize),n=0,i?(this.v1.xxh_update(this.memory.charCodeAt(n+1)<<8|this.memory.charCodeAt(n),this.memory.charCodeAt(n+3)<<8|this.memory.charCodeAt(n+2)),this.v2.xxh_update(this.memory.charCodeAt((n+=4)+1)<<8|
this.memory.charCodeAt(n),this.memory.charCodeAt(n+3)<<8|this.memory.charCodeAt(n+2)),this.v3.xxh_update(this.memory.charCodeAt((n+=4)+1)<<8|this.memory.charCodeAt(n),this.memory.charCodeAt(n+3)<<8|this.memory.charCodeAt(n+2)),this.v4.xxh_update(this.memory.charCodeAt((n+=4)+1)<<8|this.memory.charCodeAt(n),this.memory.charCodeAt(n+3)<<8|this.memory.charCodeAt(n+2))):(this.v1.xxh_update(this.memory[n+1]<<8|this.memory[n],this.memory[n+3]<<8|this.memory[n+2]),this.v2.xxh_update(this.memory[(n+=4)+1]<<
8|this.memory[n],this.memory[n+3]<<8|this.memory[n+2]),this.v3.xxh_update(this.memory[(n+=4)+1]<<8|this.memory[n],this.memory[n+3]<<8|this.memory[n+2]),this.v4.xxh_update(this.memory[(n+=4)+1]<<8|this.memory[n],this.memory[n+3]<<8|this.memory[n+2])),o+=16-this.memsize,this.memsize=0,i)&&(this.memory=""),o<=s-16)for(var r=s-16;i?(this.v1.xxh_update(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2)),this.v2.xxh_update(e.charCodeAt((o+=4)+1)<<8|e.charCodeAt(o),e.charCodeAt(o+
3)<<8|e.charCodeAt(o+2)),this.v3.xxh_update(e.charCodeAt((o+=4)+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2)),this.v4.xxh_update(e.charCodeAt((o+=4)+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2))):(this.v1.xxh_update(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2]),this.v2.xxh_update(e[(o+=4)+1]<<8|e[o],e[o+3]<<8|e[o+2]),this.v3.xxh_update(e[(o+=4)+1]<<8|e[o],e[o+3]<<8|e[o+2]),this.v4.xxh_update(e[(o+=4)+1]<<8|e[o],e[o+3]<<8|e[o+2])),(o+=4)<=r;);o<s&&(i?this.memory+=e.slice(o):t?this.memory.set(e.subarray(o,
s),this.memsize):e.copy(this.memory,this.memsize,o,s),this.memsize=s-o)}return this},e.prototype.digest=function(){var e,t=this.memory,i="string"==typeof t,o=0,n=this.memsize,s=new l,r=16<=this.total_len?this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):this.seed.clone().add(g);for(r.add(s.fromNumber(this.total_len));o<=n-4;)i?s.fromBits(t.charCodeAt(o+1)<<8|t.charCodeAt(o),t.charCodeAt(o+3)<<8|t.charCodeAt(o+2)):s.fromBits(t[o+1]<<8|t[o],t[o+3]<<8|t[o+2]),r.add(s.multiply(d)).rotl(17).multiply(u),
o+=4;for(;o<n;)s.fromBits(i?t.charCodeAt(o++):t[o++],0),r.add(s.multiply(g)).rotl(11).multiply(h);return e=r.clone().shiftRight(15),r.xor(e).multiply(c),e=r.clone().shiftRight(13),r.xor(e).multiply(d),e=r.clone().shiftRight(16),r.xor(e),this.init(this.seed),r},i.exports=e}.call(this,o(3).Buffer)},function(e,t,i){function o(e,t){return this instanceof o?(this._low=0,this._high=0,this.remainder=null,void 0===t?s.call(this,e):"string"==typeof e?r.call(this,e,t):void n.call(this,e,t)):new o(e,t)}function n(e,
t){return this._low=0|e,this._high=0|t,this}function s(e){return this._low=65535&e,this._high=e>>>16,this}function r(e,t){e=parseInt(e,t||10);return this._low=65535&e,this._high=e>>>16,this}o(Math.pow(36,5)),o(Math.pow(16,7)),o(Math.pow(10,9)),o(Math.pow(2,30)),o(36),o(16),o(10),o(2),o.prototype.fromBits=n,o.prototype.fromNumber=s,o.prototype.fromString=r,o.prototype.toNumber=function(){return 65536*this._high+this._low},o.prototype.toString=function(e){return this.toNumber().toString(e||10)},o.prototype.add=
function(e){var t=this._low+e._low,i=t>>>16;return i+=this._high+e._high,this._low=65535&t,this._high=65535&i,this},o.prototype.subtract=function(e){return this.add(e.clone().negate())},o.prototype.multiply=function(e){var t=this._high,i=this._low,o=e._high,e=e._low,n=i*e,s=n>>>16;return s=((s+=t*e)&65535)+i*o,this._low=65535&n,this._high=65535&s,this},o.prototype.div=function(e){if(0==e._low&&0==e._high)throw Error("division by zero");if(0==e._high&&1==e._low)this.remainder=new o(0);else if(e.gt(this))this.remainder=
this.clone(),this._low=0,this._high=0;else if(this.eq(e))this.remainder=new o(0),this._low=1,this._high=0;else{for(var t=e.clone(),i=-1;!this.lt(t);)t.shiftLeft(1,!0),i++;for(this.remainder=this.clone(),this._low=0,this._high=0;0<=i;i--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),16<=i?this._high|=1<<i-16:this._low|=1<<i)}return this},o.prototype.negate=function(){var e=1+(65535&~this._low);return this._low=65535&e,this._high=~this._high+(e>>>16)&65535,this},o.prototype.equals=
o.prototype.eq=function(e){return this._low==e._low&&this._high==e._high},o.prototype.greaterThan=o.prototype.gt=function(e){return this._high>e._high||!(this._high<e._high)&&this._low>e._low},o.prototype.lessThan=o.prototype.lt=function(e){return this._high<e._high||!(this._high>e._high)&&this._low<e._low},o.prototype.or=function(e){return this._low|=e._low,this._high|=e._high,this},o.prototype.and=function(e){return this._low&=e._low,this._high&=e._high,this},o.prototype.not=function(){return this._low=
65535&~this._low,this._high=65535&~this._high,this},o.prototype.xor=function(e){return this._low^=e._low,this._high^=e._high,this},o.prototype.shiftRight=o.prototype.shiftr=function(e){return 16<e?(this._low=this._high>>e-16,this._high=0):16==e?(this._low=this._high,this._high=0):(this._low=this._low>>e|this._high<<16-e&65535,this._high>>=e),this},o.prototype.shiftLeft=o.prototype.shiftl=function(e,t){return 16<e?(this._high=this._low<<e-16,this._low=0,t||(this._high&=65535)):16==e?(this._high=this._low,
this._low=0):(this._high=this._high<<e|this._low>>16-e,this._low=this._low<<e&65535,t||(this._high&=65535)),this},o.prototype.rotateLeft=o.prototype.rotl=function(e){var t=this._high<<16|this._low;return this._low=65535&(t=t<<e|t>>>32-e),this._high=t>>>16,this},o.prototype.rotateRight=o.prototype.rotr=function(e){var t=this._high<<16|this._low;return this._low=65535&(t=t>>>e|t<<32-e),this._high=t>>>16,this},o.prototype.clone=function(){return new o(this._low,this._high)},void 0!==(t=function(){return o}.apply(t,
[]))&&(e.exports=t)},function(e,t,i){var a,s;function l(e,t,i,o){return this instanceof l?(this.remainder=null,"string"==typeof e?h.call(this,e,t):void 0===t?r.call(this,e):void n.apply(this,arguments)):new l(e,t,i,o)}function n(e,t,i,o){return void 0===i?(this._a00=65535&e,this._a16=e>>>16,this._a32=65535&t,this._a48=t>>>16):(this._a00=0|e,this._a16=0|t,this._a32=0|i,this._a48=0|o),this}function r(e){return this._a00=65535&e,this._a16=e>>>16,this._a32=0,this._a48=0,this}function h(e,t){t=t||10,this._a00=
0,this._a16=0,this._a32=0,this._a48=0;for(var i=a[t]||new l(Math.pow(t,5)),o=0,n=e.length;o<n;o+=5){var s=Math.min(5,n-o),r=parseInt(e.slice(o,o+s),t);this.multiply(s<5?new l(Math.pow(t,s)):i).add(new l(r))}return this}a={16:l(Math.pow(16,5)),10:l(Math.pow(10,5)),2:l(Math.pow(2,5))},s={16:l(16),10:l(10),2:l(2)},l.prototype.fromBits=n,l.prototype.fromNumber=r,l.prototype.fromString=h,l.prototype.toNumber=function(){return 65536*this._a16+this._a00},l.prototype.toString=function(e){var t=s[e=e||10]||
new l(e);if(!this.gt(t))return this.toNumber().toString(e);for(var i=this.clone(),o=new Array(64),n=63;0<=n&&(i.div(t),o[n]=i.remainder.toNumber().toString(e),i.gt(t));n--);return o[n-1]=i.toNumber().toString(e),o.join("")},l.prototype.add=function(e){var t=this._a00+e._a00,i=t>>>16,o=(i+=this._a16+e._a16)>>>16,n=(o+=this._a32+e._a32)>>>16;return n+=this._a48+e._a48,this._a00=65535&t,this._a16=65535&i,this._a32=65535&o,this._a48=65535&n,this},l.prototype.subtract=function(e){return this.add(e.clone().negate())},
l.prototype.multiply=function(e){var t=this._a00,i=this._a16,o=this._a32,n=this._a48,s=e._a00,r=e._a16,a=e._a32,l=t*s,h=l>>>16,c=(h+=t*r)>>>16,d=(c=c+((h=(h&65535)+i*s)>>>16)+t*a)>>>16,d=((d=((d=((d=(d+=(c=(c&65535)+i*r)>>>16)+((c=(c&65535)+o*s)>>>16)+t*e._a48)&65535)+i*a)&65535)+o*r)&65535)+n*s;return this._a00=65535&l,this._a16=65535&h,this._a32=65535&c,this._a48=65535&d,this},l.prototype.div=function(e){if(0==e._a16&&0==e._a32&&0==e._a48){if(0==e._a00)throw Error("division by zero");if(1==e._a00)return this.remainder=
new l(0),this}if(e.gt(this))this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;else if(this.eq(e))this.remainder=new l(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0;else{for(var t=e.clone(),i=-1;!this.lt(t);)t.shiftLeft(1,!0),i++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;0<=i;i--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),48<=i?this._a48|=1<<i-48:32<=i?this._a32|=1<<i-32:16<=i?this._a16|=1<<i-16:this._a00|=
1<<i)}return this},l.prototype.negate=function(){var e=1+(65535&~this._a00);return this._a00=65535&e,e=(65535&~this._a16)+(e>>>16),this._a16=65535&e,e=(65535&~this._a32)+(e>>>16),this._a32=65535&e,this._a48=~this._a48+(e>>>16)&65535,this},l.prototype.equals=l.prototype.eq=function(e){return this._a48==e._a48&&this._a00==e._a00&&this._a32==e._a32&&this._a16==e._a16},l.prototype.greaterThan=l.prototype.gt=function(e){return this._a48>e._a48||!(this._a48<e._a48)&&(this._a32>e._a32||!(this._a32<e._a32)&&
(this._a16>e._a16||!(this._a16<e._a16)&&this._a00>e._a00))},l.prototype.lessThan=l.prototype.lt=function(e){return this._a48<e._a48||!(this._a48>e._a48)&&(this._a32<e._a32||!(this._a32>e._a32)&&(this._a16<e._a16||!(this._a16>e._a16)&&this._a00<e._a00))},l.prototype.or=function(e){return this._a00|=e._a00,this._a16|=e._a16,this._a32|=e._a32,this._a48|=e._a48,this},l.prototype.and=function(e){return this._a00&=e._a00,this._a16&=e._a16,this._a32&=e._a32,this._a48&=e._a48,this},l.prototype.xor=function(e){return this._a00^=
e._a00,this._a16^=e._a16,this._a32^=e._a32,this._a48^=e._a48,this},l.prototype.not=function(){return this._a00=65535&~this._a00,this._a16=65535&~this._a16,this._a32=65535&~this._a32,this._a48=65535&~this._a48,this},l.prototype.shiftRight=l.prototype.shiftr=function(e){return 48<=(e%=64)?(this._a00=this._a48>>e-48,this._a16=0,this._a32=0,this._a48=0):32<=e?(this._a00=65535&(this._a32>>(e-=32)|this._a48<<16-e),this._a16=this._a48>>e&65535,this._a32=0,this._a48=0):16<=e?(this._a00=65535&(this._a16>>
(e-=16)|this._a32<<16-e),this._a16=65535&(this._a32>>e|this._a48<<16-e),this._a32=this._a48>>e&65535,this._a48=0):(this._a00=65535&(this._a00>>e|this._a16<<16-e),this._a16=65535&(this._a16>>e|this._a32<<16-e),this._a32=65535&(this._a32>>e|this._a48<<16-e),this._a48=this._a48>>e&65535),this},l.prototype.shiftLeft=l.prototype.shiftl=function(e,t){return 48<=(e%=64)?(this._a48=this._a00<<e-48,this._a32=0,this._a16=0,this._a00=0):32<=e?(this._a48=this._a16<<(e-=32)|this._a00>>16-e,this._a32=this._a00<<
e&65535,this._a16=0,this._a00=0):16<=e?(this._a48=this._a32<<(e-=16)|this._a16>>16-e,this._a32=65535&(this._a16<<e|this._a00>>16-e),this._a16=this._a00<<e&65535,this._a00=0):(this._a48=this._a48<<e|this._a32>>16-e,this._a32=65535&(this._a32<<e|this._a16>>16-e),this._a16=65535&(this._a16<<e|this._a00>>16-e),this._a00=this._a00<<e&65535),t||(this._a48&=65535),this},l.prototype.rotateLeft=l.prototype.rotl=function(e){if(0!=(e%=64)){if(32<=e){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,
this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var t=this._a48<<16|this._a32,i=this._a16<<16|this._a00,o=t<<e|i>>>32-e,i=i<<e|t>>>32-e;this._a00=65535&i,this._a16=i>>>16,this._a32=65535&o,this._a48=o>>>16}return this},l.prototype.rotateRight=l.prototype.rotr=function(e){if(0!=(e%=64)){if(32<=e){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var t=this._a48<<16|this._a32,i=this._a16<<16|this._a00,o=t>>>e|i<<32-e,i=i>>>
e|t<<32-e;this._a00=65535&i,this._a16=i>>>16,this._a32=65535&o,this._a48=o>>>16}return this},l.prototype.clone=function(){return new l(this._a00,this._a16,this._a32,this._a48)},void 0!==(t=function(){return l}.apply(t,[]))&&(e.exports=t)},function(i,e,o){!function(l){var h=o(5).UINT64,c=h("11400714785074694791"),d=h("14029467366897019727"),a=h("1609587929392839161"),u=h("9650029242287828579"),g=h("2870177450012600261");function e(){return 2==arguments.length?(new e(arguments[1])).update(arguments[0]).digest():
this instanceof e?void t.call(this,arguments[0]):new e(arguments[0])}function t(e){return this.seed=e instanceof h?e.clone():h(e),this.v1=this.seed.clone().add(c).add(d),this.v2=this.seed.clone().add(d),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(c),this.total_len=0,this.memsize=0,this.memory=null,this}e.prototype.init=t,e.prototype.update=function(e){var t,i="string"==typeof e,o=(i&&(e=function(e){for(var t=[],i=0,o=e.length;i<o;i++){var n=e.charCodeAt(i);n<128?t.push(n):n<2048?
t.push(192|n>>6,128|63&n):n<55296||57344<=n?t.push(224|n>>12,128|n>>6&63,128|63&n):(i++,n=65536+((1023&n)<<10|1023&e.charCodeAt(i)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}(e),t=!(i=!1)),"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&(t=!0,e=new Uint8Array(e)),0),n=e.length,s=o+n;if(0!=n)if(this.total_len+=n,0==this.memsize&&(this.memory=i?"":new (t?Uint8Array:l)(32)),this.memsize+n<32)i?this.memory+=e:t?this.memory.set(e.subarray(0,n),this.memsize):
e.copy(this.memory,this.memsize,0,n),this.memsize+=n;else{if(0<this.memsize&&(i?this.memory+=e.slice(0,32-this.memsize):t?this.memory.set(e.subarray(0,32-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,32-this.memsize),n=0,r=i?(r=h(this.memory.charCodeAt(n+1)<<8|this.memory.charCodeAt(n),this.memory.charCodeAt(n+3)<<8|this.memory.charCodeAt(n+2),this.memory.charCodeAt(n+5)<<8|this.memory.charCodeAt(n+4),this.memory.charCodeAt(n+7)<<8|this.memory.charCodeAt(n+6)),this.v1.add(r.multiply(d)).rotl(31).multiply(c),
r=h(this.memory.charCodeAt((n+=8)+1)<<8|this.memory.charCodeAt(n),this.memory.charCodeAt(n+3)<<8|this.memory.charCodeAt(n+2),this.memory.charCodeAt(n+5)<<8|this.memory.charCodeAt(n+4),this.memory.charCodeAt(n+7)<<8|this.memory.charCodeAt(n+6)),this.v2.add(r.multiply(d)).rotl(31).multiply(c),r=h(this.memory.charCodeAt((n+=8)+1)<<8|this.memory.charCodeAt(n),this.memory.charCodeAt(n+3)<<8|this.memory.charCodeAt(n+2),this.memory.charCodeAt(n+5)<<8|this.memory.charCodeAt(n+4),this.memory.charCodeAt(n+
7)<<8|this.memory.charCodeAt(n+6)),this.v3.add(r.multiply(d)).rotl(31).multiply(c),h(this.memory.charCodeAt((n+=8)+1)<<8|this.memory.charCodeAt(n),this.memory.charCodeAt(n+3)<<8|this.memory.charCodeAt(n+2),this.memory.charCodeAt(n+5)<<8|this.memory.charCodeAt(n+4),this.memory.charCodeAt(n+7)<<8|this.memory.charCodeAt(n+6))):(r=h(this.memory[n+1]<<8|this.memory[n],this.memory[n+3]<<8|this.memory[n+2],this.memory[n+5]<<8|this.memory[n+4],this.memory[n+7]<<8|this.memory[n+6]),this.v1.add(r.multiply(d)).rotl(31).multiply(c),
r=h(this.memory[(n+=8)+1]<<8|this.memory[n],this.memory[n+3]<<8|this.memory[n+2],this.memory[n+5]<<8|this.memory[n+4],this.memory[n+7]<<8|this.memory[n+6]),this.v2.add(r.multiply(d)).rotl(31).multiply(c),r=h(this.memory[(n+=8)+1]<<8|this.memory[n],this.memory[n+3]<<8|this.memory[n+2],this.memory[n+5]<<8|this.memory[n+4],this.memory[n+7]<<8|this.memory[n+6]),this.v3.add(r.multiply(d)).rotl(31).multiply(c),h(this.memory[(n+=8)+1]<<8|this.memory[n],this.memory[n+3]<<8|this.memory[n+2],this.memory[n+
5]<<8|this.memory[n+4],this.memory[n+7]<<8|this.memory[n+6])),this.v4.add(r.multiply(d)).rotl(31).multiply(c),o+=32-this.memsize,this.memsize=0,i)&&(this.memory=""),o<=s-32){var r,a=s-32;do;while(r=i?(r=h(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v1.add(r.multiply(d)).rotl(31).multiply(c),r=h(e.charCodeAt((o+=8)+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+
5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v2.add(r.multiply(d)).rotl(31).multiply(c),r=h(e.charCodeAt((o+=8)+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v3.add(r.multiply(d)).rotl(31).multiply(c),h(e.charCodeAt((o+=8)+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6))):(r=h(e[o+1]<<8|
e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v1.add(r.multiply(d)).rotl(31).multiply(c),r=h(e[(o+=8)+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v2.add(r.multiply(d)).rotl(31).multiply(c),r=h(e[(o+=8)+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v3.add(r.multiply(d)).rotl(31).multiply(c),h(e[(o+=8)+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6])),this.v4.add(r.multiply(d)).rotl(31).multiply(c),(o+=8)<=a)}o<s&&(i?this.memory+=
e.slice(o):t?this.memory.set(e.subarray(o,s),this.memsize):e.copy(this.memory,this.memsize,o,s),this.memsize=s-o)}return this},e.prototype.digest=function(){var e,t,i=this.memory,o="string"==typeof i,n=0,s=this.memsize,r=new h;for(32<=this.total_len?((e=this.v1.clone().rotl(1)).add(this.v2.clone().rotl(7)),e.add(this.v3.clone().rotl(12)),e.add(this.v4.clone().rotl(18)),e.xor(this.v1.multiply(d).rotl(31).multiply(c)),e.multiply(c).add(u),e.xor(this.v2.multiply(d).rotl(31).multiply(c)),e.multiply(c).add(u),
e.xor(this.v3.multiply(d).rotl(31).multiply(c)),e.multiply(c).add(u),e.xor(this.v4.multiply(d).rotl(31).multiply(c)),e.multiply(c).add(u)):e=this.seed.clone().add(g),e.add(r.fromNumber(this.total_len));n<=s-8;)o?r.fromBits(i.charCodeAt(n+1)<<8|i.charCodeAt(n),i.charCodeAt(n+3)<<8|i.charCodeAt(n+2),i.charCodeAt(n+5)<<8|i.charCodeAt(n+4),i.charCodeAt(n+7)<<8|i.charCodeAt(n+6)):r.fromBits(i[n+1]<<8|i[n],i[n+3]<<8|i[n+2],i[n+5]<<8|i[n+4],i[n+7]<<8|i[n+6]),r.multiply(d).rotl(31).multiply(c),e.xor(r).rotl(27).multiply(c).add(u),
n+=8;for(n+4<=s&&(o?r.fromBits(i.charCodeAt(n+1)<<8|i.charCodeAt(n),i.charCodeAt(n+3)<<8|i.charCodeAt(n+2),0,0):r.fromBits(i[n+1]<<8|i[n],i[n+3]<<8|i[n+2],0,0),e.xor(r.multiply(c)).rotl(23).multiply(d).add(a),n+=4);n<s;)r.fromBits(o?i.charCodeAt(n++):i[n++],0,0,0),e.xor(r.multiply(g)).rotl(11).multiply(c);return t=e.clone().shiftRight(33),e.xor(t).multiply(d),t=e.clone().shiftRight(29),e.xor(t).multiply(a),t=e.clone().shiftRight(32),e.xor(t),this.init(this.seed),e},i.exports=e}.call(this,o(3).Buffer)},
function(e,r,a){!function(i){Object.defineProperty(r,"__esModule",{value:!0});var t=a(23);function e(e,t){return void 0===t&&(t="utf8"),i.isBuffer(e)?n(e.toString("base64")):n(i.from(e,t).toString("base64"))}function o(e){return e=e.toString(),t.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function n(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var s=e;s.encode=e,s.decode=function(e,t){return void 0===t&&(t="utf8"),i.from(o(e),"base64").toString(t)},s.toBase64=o,s.fromBase64=
n,s.toBuffer=function(e){return i.from(o(e),"base64")},r.default=s}.call(this,a(3).Buffer)},function(e,t,i){!function(r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length,i=t%4;if(!i)return e;var o=t,n=4-i,s=r.alloc(t+n);for(s.write(e);n--;)s.write("\x3d",o++);return s.toString()}}.call(this,i(3).Buffer)},function(A,e,t){t.r(e),t.d(e,"Gateway",function(){return N});function J(e,r,a,l){return new (a=a||Promise)(function(i,t){function o(e){try{s(l.next(e))}catch(e){t(e)}}
function n(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?i(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,n)}s((l=l.apply(e,r||[])).next())})}Object.create;Object.create;function n(e){return String(e)}function a(e){return parseInt(e,10)||0}function _(e){return!function(e){return function(e,t){return l(t,/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//,1)===n(e)}(12,e)||function(e,t,i){var o=/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//;return l(i,
o,1)===n(e)&&l(i,o,2)===n(t)}(10,14,e)&&(function(e){return null!=e.match(/Version\/.* Safari\//)&&!o(e)}(e)||function(e){return i(e,/^Mozilla\/[\.\d]+ \(Macintosh;.*Mac OS X [_\d]+\) AppleWebKit\/[\.\d]+ \(KHTML, like Gecko\)$/)}(e))}(e=String(e))&&!function(e){return o(e)&&s(51,e)&&!s(67,e)||function(e){return i(e,/UCBrowser\//)}(e)&&!function(e,t,i,o){var n=/UCBrowser\/(\d+)\.(\d+)\.(\d+)[\.\d]* /,s=a(l(o,n,1)),r=a(l(o,n,2)),o=a(l(o,n,3));return s!==e?e<s:r!==t?t<r:i<=o}(12,13,2,e)}(e)}function i(e,
t){return null!=e.match(t)}function l(e,t,i){e=e.match(t);return null!=e&&void 0!==e[i]?e[i]:null}function o(e){return i(e,/Chrom(e|ium)/)}function s(e,t){return e<=a(l(t,/Chrom[^ \/]+\/(\d+)[\.\d]* /,1))}class ${static getSuffix(t){return J(this,void 0,void 0,function*(){var e=`https://${$.proxyDNS}/resolve?type=PTR&name=${t}.query.publicsuffix.zone`;try{return(yield(yield fetch(e)).json()).Answer.filter((e)=>12===e.type)[0].data.slice(0,-1)}catch(e){return e}})}}$.proxyDNS="doh.cq0.co";class X{constructor(e,
t,i,o){this.clientName=e,this.cookieDomain_=t,this.customGetter=i,this.customSetter=o,this.ensightenPrivacy="_ENSIGHTEN_PRIVACY_",this.defaultCookieRetentionLength=31536E6,t.then((e)=>{this.setCookieDomain(e)}),this.cookieDomainPath="/"}static calculateCookieDomain(o,n,s){return J(this,void 0,void 0,function*(){var t=o||window.location.hostname,e=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/gm.test(t);if("localhost"===t||e)return t;try{let e;
var i=(e=n?X.getPublicSuffix(t,s):yield $.getSuffix(t)).split(".").length+1;return t.split(".").slice(-i).join(".")}catch(e){return t}})}static getPublicSuffix(e,t){t=t.join("|");let i=(new RegExp(t)).exec(e)[0];return i=i.startsWith(".")?i.substring(1):i}static build(e,t,i,o,n){t=X.calculateCookieDomain(window.location.hostname,t,i);return new X(e,t,o,n)}deleteAllCookies(){return J(this,void 0,void 0,function*(){return this.cookieDomain_.then((e)=>{var t=document.cookie.split(";");for(let e=0;e<
t.length;e++){var i=t[e],o=i.indexOf("\x3d"),o=-1<o?i.substr(0,o):i;document.cookie=o+"\x3d; path\x3d/; expires\x3dThu, 01 Jan 1970 00:00:00 GMT; domain\x3d"+this.getCookieDomain()}})})}deleteCookie(s){return J(this,void 0,void 0,function*(){return this.cookieDomain_.then((e)=>{this.clientName=this.clientName.toUpperCase();var t=this.clientName+this.ensightenPrivacy+this._parseCookieSuffix(s),i=document.cookie.split(";");for(let e=0;e<i.length;e++){var o=i[e],n=o.indexOf("\x3d"),n=-1<n?o.substr(0,
n):o;n.trim()===t.trim()&&(document.cookie=n+"\x3d; path\x3d/; expires\x3dThu, 01 Jan 1970 00:00:00 GMT; domain\x3d"+this.getCookieDomain())}})})}getCategoryMapFromCookieTypes(t){var i={};for(let e=0;e<t.length;e++){var o=t[e];i[o]=this.getCookie(o)}return i}getCookie(e){return"function"==typeof this.customGetter?this.customGetter(e):this.defaultGetCookie(e)}defaultGetCookie(e){var e=this.clientName.toUpperCase()+this.ensightenPrivacy+this._parseCookieSuffix(e),t=document.cookie.match(new RegExp(e+
"\x3d([^;]+)"));return t?t[1]:(t=document.cookie.match(new RegExp(e+"\x3d([^;]+)")))?t[1]:void 0}getCookiesFromTypes(t){var i={};for(let e=0;e<t.length;e++){var o=t[e],n=this.getCookie(o);void 0!==n&&null!=n&&(i[this.clientName.toUpperCase()+this.ensightenPrivacy+this._parseCookieSuffix(o)]=n)}return i}setDefaultCookieRetentionPeriod(e){this.defaultCookieRetentionLength=this.parseRetentionPeriod(e)}getRetentionPeriodUTCString(e){return(new Date(+new Date+e)).toUTCString()}parseRetentionPeriod(e){e=
parseInt(e,10);return isNaN(e)?this.defaultCookieRetentionLength:e}setCookie(e,t,i){return J(this,void 0,void 0,function*(){return"number"!=typeof i&&(i=this.parseRetentionPeriod(i)),"function"==typeof this.customSetter?Promise.resolve(this.customSetter(e,t,i)):yield this.defaultSetCookie(e,t,i)})}setCookies(t,i){return J(this,void 0,void 0,function*(){for(const e in t)yield this.setCookie(e,t[e],i)})}defaultSetCookie(r,a,l){return J(this,void 0,void 0,function*(){return this.cookieDomain_.then((e)=>
{var t=this.clientName.toUpperCase()+this.ensightenPrivacy,i=this._parseCookieSuffix(r);let o="";var n=/https:/.test(location.protocol),s=this.getRetentionPeriodUTCString(l),n=(_(navigator.userAgent)&&(o=" SameSite\x3d"+(n?"None":"Lax")+";"),n&&(o+=" Secure;"),t+i+"\x3d"+a+"; path\x3d"+this.cookieDomainPath+";"+o+" domain\x3d"+this.getCookieDomain()+"; expires\x3d"+s);return document.cookie=n})})}setCookieDomain(e){this.cookieDomain=e}getCookieDomain(){return this.cookieDomain}setCookieDomainPath(e){this.cookieDomainPath=
e}getCookieDomainPath(){return this.cookieDomainPath}_parseCookieSuffix(e){return e.replace(/ /g,"_")}}var Z=t(1);class ne{constructor(e,t,i,o,n,s,r,a){this.environmentChangeCallbacks=[],this.activeEnvironment=null,this.activeEnvironmentTranslation=null,this.enableAsyncEnvironments=!1,this.getAsyncEnvironmentFromStorage=(e)=>JSON.parse(window.localStorage.getItem("environments-"+e.name)),this.hasEnvironmentHashChanged=(e)=>{var t=this.getAsyncEnvironmentFromStorage(e);let i;t&&(i=null==t?void 0:t.asyncEnvironmentUrl);
t=e.asyncEnvironmentUrl;return i!==t},this.getAsyncEnvironmentFromPromise=(t,i,o)=>{var e=this.nexusDomain+`/privacy/environments/${this.clientName}/${this.publishPath}/`+t.asyncEnvironmentUrl;t.asyncEnvironmentUrl;if(this.hasEnvironmentHashChanged(t))t.asyncEnvironmentUrl&&fetch("//"+e).then((e)=>{if(e.ok)return e.json();throw new Error(`Network response was not ok for translation ${t.name} `+e.statusText);}).then((e)=>{e?(this.setAsyncEnvironmentParameters(t,e),window.localStorage.setItem("environments-"+
t.name,JSON.stringify(t)),o.forEach((e)=>e(t))):console.log(`No DATA retrieved for ${t.name} translation on `+i)}).catch((e)=>{console.error(`There has been a problem with your fetch operation  ${t.name} translation on ${i}:`,e)});else{const n=this.getAsyncEnvironmentFromStorage(t);this.setAsyncEnvironmentParameters(t,n),o.forEach((e)=>e(n))}},this.clearEnvironment=()=>J(this,void 0,void 0,function*(){yield this.cookieManager.deleteCookie("LOCALE"),yield this.setEnvironment(void 0)}),this.evalCondition=
(e)=>{let t,i=!1;switch(e.type){case "host":t=this.document.location.hostname;break;case "url":t=this.document.URL;break;case "cookie":t=this.getCookie(e.key);break;case "jsVar":t=this.getJSVarValue(e.key);break;default:console.warn("Error evaluating environment target")}switch(e.operator){case "equals":i=this.evaluateEquals(t,e);break;case "contains":i=this.evaluateContains(t,e);break;case "exists":i=this.evaluateExists(t);break;case "regexp":i=this.evaluateRegExp(t,e);break;default:console.warn("Error evaluating comparator for environment")}return i=
!1===(i=!0===(i=!1===e.shouldBePositive?!0!==i:i)&&e._and?this.evalCondition(e._and):i)&&e._or?this.evalCondition(e._or):i},this.getEnvironmentByLocale=(t)=>{let i=null;for(let e=0;e<this.environmentsCount;e++)this.localeMatches(this.environmentConfigs[e],t)&&(i=this.environmentConfigs[e]);return i},this.environmentExists=(e)=>null!=this.getEnvironmentByLocale(e),this.getActiveEnvironment=()=>this.activeEnvironment,this.getActiveLocale=()=>this.activeEnvironment.languageCode,this.getAvailableLocales=
()=>{var t=[];for(let e=0;e<this.environmentsCount;e++)t.push(this.environmentConfigs[e].languageCode);return t},this.registerEnvironmentChangeCallback=(e)=>{this.environmentChangeCallbacks.push(e)},this.setEnvironment=(e)=>J(this,void 0,void 0,function*(){this.environmentExists(e)?(yield this.cookieManager.setCookie("LOCALE",e),this.initializeActiveEnvironment(),this.fireEnvironmentChangeCallbacks()):e||(this.initializeActiveEnvironment(),this.activeEnvironment=this.getActiveEnvironment(),this.fireEnvironmentChangeCallbacks())}),
this.evaluateContains=(e,t)=>!!e&&(e=e.toString(),t.caseInsensitive?-1!==e.toLowerCase().indexOf(t.value.toLowerCase()):-1!==e.indexOf(t.value)),this.evaluateEquals=(e,t)=>!!e&&(t.caseInsensitive?e.toLowerCase()==t.value.toLowerCase():e==t.value),this.evaluateExists=(e)=>{let t=e?!0:!1;return t},this.evaluateRegExp=(e,t)=>{let i=new RegExp(t.value);return t.caseInsensitive&&(i=new RegExp(t.value,"i")),void 0!==e&&""!==e&&i.test(e)},this.fireEnvironmentChangeCallbacks=()=>{var t=this.environmentChangeCallbacks.length;
for(let e=0;e<t;e++)"function"==typeof this.environmentChangeCallbacks[e]&&this.environmentChangeCallbacks[e](this.activeEnvironment)},this.getCookie=(e)=>{e=this.document.cookie.match(new RegExp(e+"\x3d([^;]+)"));if(e)return e[1]},this.getDefaultEnvironment=()=>{let t=null;for(let e=0;e<this.environmentConfigs.length;e++)if(this.defaultEnvName&&this.environmentConfigs[e].name===this.defaultEnvName){t=this.environmentConfigs[e];break}return t},this.getEnvironmentByConditions=()=>{var t=Z.utilities.getBrowserLocale();
for(let e=0;e<this.environmentsCount;e++)if(this.hasConditions(this.environmentConfigs[e])){if(this.evalCondition(this.environmentConfigs[e].condition))return this.environmentConfigs[e]}else if(this.localeMatches(this.environmentConfigs[e],t))return this.environmentConfigs[e];return null},this.hasConditions=(e)=>e.condition&&e.condition.type&&e.condition.operator,this.localeMatches=(e,t)=>{if(e&&t){if(e.languageCode===t)return!0;t=t.split("-")[0];if(e.languageCode===t)return!0}return!1},this.getEnvironmentByLocaleCookie=
()=>{let e=null;var t=this.cookieManager.getCookie("LOCALE");return e=t?this.getEnvironmentByLocale(t):e},this.initializeActiveEnvironment=()=>{let e=null;(e=(e=(e=this.getEnvironmentByLocaleCookie())||this.getEnvironmentByConditions())||this.getDefaultEnvironment())&&e.translation&&(e.translation.save=e.translation.save||"SAVE",e.translation.cancel=e.translation.cancel||"CANCEL",e.translation.close=e.translation.close||"CLOSE"),this.activeEnvironment=e},this.getJSVarValue=(i)=>{let o=void 0!==window[i]?
window[i]:void 0;if(i&&"string"==typeof i&&!o){let e,t=0;for(var n=i.split("."),s=n.length;t<s;t++)e=(e||window)[n[t]],o=void 0!==e?e:void 0}return o},this.environmentConfigs=t,this.environmentsCount=this.environmentConfigs.length,this.document=e,this.nexusDomain=r,this.defaultEnvName=i,this.clientName=o,this.cookieManager=n,this.enableAsyncEnvironments=s,this.publishPath=a,this.initializeActiveEnvironment()}setAsyncEnvironmentParameters(e,t){e.translation=t.translation,e.bannerConfig=t.bannerConfig,
e.consentModalConfig=t.consentModalConfig,null!==t.privacyNoticeCustomConfig&&(e.privacyNoticeCustomConfig=t.privacyNoticeCustomConfig),null!==t.consentModalCustomConfig&&(e.consentModalCustomConfig=t.consentModalCustomConfig)}}e=t(4);class se extends e.a{constructor(e,t,i,o,n,s,r,a,l,h,c,d,u,g,p,m,f){super(),this.imageReference=e,this.environmentName=t,this.modalType=i,this.defaultOptions=o,this.clientId=n,this.clientName=s,this.publishPath=r,this.mode=a,this.cookiesTypes=l,this.gatewayVersion=h,
this.reportingEnabled=c,this.cookieManager=d,this.nexusDomain=u,this.customReporter=g,this.sendBeaconReportingDisabled=p,this.sendBeacon=m,this.useCategoryNameInExternalConsentNotifications=f,this.cookiesTypesMap=new Map,this.pendingEvents=[],this.urlPath=`//${this.nexusDomain}/privacy/v1/c/b.rnc`,this.cookiesTypes.forEach((e)=>this.cookiesTypesMap.set(e.replace(/ /g,"_"),e))}sendReport(e,t){if(this.reportingEnabled){var i,o=this.generateRawReport(e,t);if(0<o.events.length)return{encodedBody:o,rawLength:i}=
this.compressReportString(JSON.stringify(o)),"function"==typeof this.customReporter&&null!=e&&null!=t&&this.executeCustomReporter(e,t),this.pendingEvents=[],this.beacon(o,i)}}generateRawReport(e,t){return{version:this.version,gateway:this.gatewayVersion,clientId:this.clientId,clientName:this.clientName,publishPath:this.publishPath,mode:this.mode,cookies:this.cookieManager.getCookiesFromTypes(this.cookiesTypes.concat("MODAL_VIEWED","MODAL_LOADED","LOCALE","BANNER_VIEWED","BANNER_LOADED")),dt:Date.now(),
settings:{modal:this.modalType,environment:this.environmentName,defaults:this.defaultOptions},events:null!=e&&null!=t?this.buildEvents(e,t).concat(this.pendingEvents):this.pendingEvents}}buildEvents(e,t){var i,o=[];for(const n in t)e.hasOwnProperty(n)?t[n]!==e[n]&&(i=this.buildEvent(n,t[n]),o.push(i)):(i=this.buildEvent(n,t[n]),o.push(i));return o}addCustomEvent(e){return!(!this.reportingEnabled||null==e||(e.hasOwnProperty("event")?(this.pendingEvents.push(e),0):(this.ensLogger.consoleLog("customConsentEvent's must contain the key 'event'"),
1)))}buildEvent(e,t){var i={event:"cookieChanged",dt:Date.now()};return i[Z.utilities.cookieNameToCookieType(this.clientName,e)]=t,i}executeCustomReporter(e,t){var i=this.buildEvents(e,t);for(let t=0;t<i.length;t++){var o=i[t];let e=Object.keys(o)[2];o=o[e];this.useCategoryNameInExternalConsentNotifications&&this.cookiesTypesMap.has(e)&&(e=this.cookiesTypesMap.get(e)),this.customReporter(e,o)}for(let e=0;e<this.pendingEvents.length;e++){var n=this.pendingEvents[e],s=Object.keys(n)[1],r=n[s];n.isTag&&
this.customReporter(s,r)}}}var f,r,h,c,d,u,g,p,m,v,Q=t(0);(v=f=f||{})[v.BANNER_CSS=0]="BANNER_CSS",v[v.BANNER_HTML=1]="BANNER_HTML",v[v.CONSENT_MODAL_CSS=2]="CONSENT_MODAL_CSS",v[v.CONSENT_MODAL_HTML=3]="CONSENT_MODAL_HTML",v[v.NO_TOGGLES_MODAL_HTML=4]="NO_TOGGLES_MODAL_HTML",v[v.CONSENT_WIDGET_CSS=5]="CONSENT_WIDGET_CSS",v[v.CONSENT_WIDGET_HTML=6]="CONSENT_WIDGET_HTML",v[v.CONTACT_INFO_CSS=7]="CONTACT_INFO_CSS",v[v.CONTACT_INFO_HTML=8]="CONTACT_INFO_HTML",v[v.COOKIE_MODAL_CSS=9]="COOKIE_MODAL_CSS",
v[v.COOKIE_MODAL_HTML=10]="COOKIE_MODAL_HTML",v[v.REQUEST_CONFIRMATION_MODAL_CSS=11]="REQUEST_CONFIRMATION_MODAL_CSS";const y={};class re{constructor(e){this.getTemplate=function(e){return this.useLocalTemplates?y[e]:this.getModalBannerError()},this.getModalBannerError=function(){throw new Error("Ensighten API error: Your modal template is not implemented.");},this.useLocalTemplates=e;let t;for(t in f)y[t]=Bootstrapper.privacy.templates[f[t]]}}class C{constructor(e,t,i,o){this.isGcmEnabled=!1,this.gcmPreviousState=
{},this.consentTypes=[...Object.values(m)],this.init=function(){this.gtag=this.setGTag(),this.initGoogleConsent(this.defaultConsent),"{}"!==JSON.stringify(this.consent)&&this.updateGoogleConsent(this.consent,!1),this.gcm_options.url_passthrough&&this.gtag("set","url_passthrough",this.gcm_options.url_passthrough),this.gcm_options.ads_data_redaction&&this.gtag("set","ads_data_redaction",this.gcm_options.ads_data_redaction)},this.setGTag=()=>{const e=this.dataLayer||"dataLayer";window[""+e]=window[""+
e]||[];return function(){window[""+e].push(arguments)}},this.retrievePartialGcm=function(i,t){return Object.keys(this.gcm_options).filter((e)=>t(e)).reduce((e,t)=>(e[t]=i[t],e),{})},this.initGoogleConsent=(e)=>{e=this.getGCMState(e);this.gcmPreviousState=e,"{}"!==JSON.stringify(e)&&this.gtag("consent","default",e)},this.updateGoogleConsent=(e)=>{const t=this.getGCMState(e),i={};Object.keys(this.gcmPreviousState).forEach((e)=>{this.gcmPreviousState[e]!==t[e]&&(i[e]=t[e])}),this.gcmPreviousState=t,
"{}"!==JSON.stringify(i)&&this.gtag("consent","update",i)},this.getGCMState=(i)=>{let o=new w(this.gcm_options);const n=this.retrievePartialGcm(o,(e)=>e.includes("_tag")||e.includes("_category")),s=(e,t)=>null===n[""+(e+t)],t=(this.consentTypes.forEach((t)=>{var e;s(t,"_category")?s(t,"_tag")||((e=[].concat(...Object.keys(i).map((e)=>i[e].tags)).find((e)=>e.tagName===o[t+"_tag"]))&&e.tagEnabled?o[t]="granted":o[t]="denied"):null!=(e=i[o[t+"_category"]])&&e.categoryEnabled?o[t]="granted":o[t]="denied"}),
o=this.retrievePartialGcm(o,(e)=>null!==o[e]),{});return this.consentTypes.forEach((e)=>{o.hasOwnProperty(e)&&(t[e]=o[e])}),t},this.defaultConsent=e,this.consent=t,this.isGcmEnabled=o||!1,this.gcm_options=new w(i),this.dataLayer=this.gcm_options.dataLayer,this.init()}}C.getInstance=(e,t,i,o)=>(C.instance||(C.instance=new C(e,t,i,o)),C.instance),(v=m=m||{}).ad_storage="ad_storage",v.ad_user_data="ad_user_data",v.ad_personalization="ad_personalization",v.analytics_storage="analytics_storage",v.functionality_storage=
"functionality_storage",v.personalization_storage="personalization_storage",v.security_storage="security_storage";class w{constructor(t){this.ad_personalization_category=null,this.ad_storage_category=null,this.ad_user_data_category=null,this.analytics_storage_category=null,this.functionality_storage_category=null,this.personalization_storage_category=null,this.security_storage_category=null,this.ad_user_data_tag=null,this.ad_storage_tag=null,this.ad_personalization_tag=null,this.analytics_storage_tag=
null,this.functionality_storage_tag=null,this.personalization_storage_tag=null,this.security_storage_tag=null,this[r]=null,this[h]=null,this[c]=null,this[d]=null,this[u]=null,this[g]=null,this[p]=null,this.dataLayer="dataLayer",this.url_passthrough=!1,this.ads_data_redaction=!1,Object.keys(this).forEach((e)=>{t[e]?this[e]=t[e]:this[e]=null})}}r=m.ad_personalization,h=m.functionality_storage,c=m.personalization_storage,d=m.security_storage,u=m.ad_storage,g=m.ad_user_data,p=m.analytics_storage;class ee{constructor(e,
t,i,o,n,s){this.cookieManager=e,this.listProcessor=t,this.consentReporter=i,this.environment=o,this.tagAccessManager=n,this.gatewayData=s,this.setConsentStatus=(n,s,r,a)=>J(this,void 0,void 0,function*(){var e=this.getConsentStatus(n),t=this.cookieManager.getCookiesFromTypes([n]),i=(this.allowPerTagOptOut&&this.tagAccessManager.clearTags(),s?"1":"0"),o=(yield this.cookieManager.setCookie(n,i,r),this.cookieManager.getCookiesFromTypes([n])),i=(this.tagAccessManager&&this.allowPerTagOptOut&&this.allowOrBlockTags(n,
i,a),null!=this.consentReporter&&this.consentReporter.sendReport(t,o),this.getConsentStatus(n)),t=this.calculateConsentDiff(e,i);this.googleConsentManager&&this.googleConsentManager.isGcmEnabled&&this.googleConsentManager.updateGoogleConsent(i),ee.fireConsentChangeCallbacks(t)}),this.setConsentStatuses=(a,l,h)=>J(this,void 0,void 0,function*(){var e=this.getConsentStatus(),t=[],i={};for(const s in a)t.push(s),i[s]=a[s]?"1":"0";var o=this.cookieManager.getCookiesFromTypes(t),n=(yield this.cookieManager.setCookies(i,
l),this.cookieManager.getCookiesFromTypes(t));if(this.tagAccessManager)for(const r in i)this.allowPerTagOptOut&&this.allowOrBlockTags(r,i[r],h);this.listProcessor.updateListValues(this.cookieManager.getCategoryMapFromCookieTypes(t),this.tagAccessManager.getAllowedTags(),this.tagAccessManager.getBlockedTags()),null!=this.consentReporter&&this.consentReporter.sendReport(o,n);o=this.getConsentStatus(),n=this.calculateConsentDiff(e,o);this.googleConsentManager&&this.googleConsentManager.isGcmEnabled&&
this.googleConsentManager.updateGoogleConsent(o),ee.fireConsentChangeCallbacks(n)}),this.retrieveTagStatuses=(e,t,i,o)=>e.map((e)=>i),this.setAllowPerTagOptOut(o,s.featureToggles),this.setGoogleConsentManager(o,s.featureToggles,s)}setAllowPerTagOptOut(e,t){t=Q.utilities.getEnvironmentOverrideOrGlobalDefault(t,e,"allowPerTagOptOut");this.allowPerTagOptOut=t}getAllowPerTagOptOut(){return this.allowPerTagOptOut}getGoogleConsentManager(){return this.googleConsentManager}setGoogleConsentManager(e,t,i){var o=
this.getConsentStatus(),n=this.getDefaultConsent(),t=Q.utilities.getEnvironmentOverrideOrGlobalDefault(t,e,"enableGoogleConsent"),i=Q.utilities.getEnvironmentOverrideOrGlobalDefault(i,e,"gcm_options");t&&i&&(this.googleConsentManager=C.getInstance(n,o,i,t))}denyAll(e){return J(this,void 0,void 0,function*(){const t={};e.cookieTypes.forEach((e)=>t[e]=!1),yield this.setConsentStatuses(t,null,{ignoreModalState:!0})})}allowAll(e){return J(this,void 0,void 0,function*(){const t={};e.cookieTypes.forEach((e)=>
t[e]=!0),yield this.setConsentStatuses(t,null,{ignoreModalState:!0})})}getConsentStatus(e){var t,i;if(e)return t={},i="1"===this.cookieManager.getCookie(e),this.computeCategoryConsentStatus(t,e,i),t;{var o={};let e=[];this.environment&&this.environment.optVals&&(e=Object.keys(this.environment.optVals));var n=this.cookieManager.getCategoryMapFromCookieTypes(e);for(const s of Object.keys(n))null==n[s]&&(n[s]=this.environment.optVals[s].toString());for(const r in n)this.computeCategoryConsentStatus(o,
r,"1"===n[r]);return o}}getDefaultConsent(){const t={};let e=[];return(e=this.environment&&this.environment.optVals?Object.keys(this.environment.optVals):e).forEach((e)=>{this.computeCategoryConsentStatus(t,e,1===this.environment.optVals[e])}),t}calculateConsentDiff(e,t){var i={};for(const a in t)if(e[a]){var o=e[a],n=t[a],s={},r=(o.categoryEnabled!==n.categoryEnabled&&(s.categoryEnabled=n.categoryEnabled),[]);for(const l of n.tags)o.tags.find((e)=>e.tagName===l.tagName).tagEnabled!==l.tagEnabled&&
r.push(l);0<r.length&&(s.tags=r),0<Object.keys(s).length&&(i[a]=s)}else i[a]=t[a];return i}allowOrBlockTags(e,t,i){var o=this.listProcessor.getList()[e]||[],i=this.retrieveTagStatuses(o,e,t,i);this.tagAccessManager.computeOptInOptOutEvents(o,i,e,t).map((e)=>{this.tagAccessManager[e.tagStatus?"allowTag":"blockTag"](e.tag,e.tagStatusChanged)})}computeCategoryConsentStatus(t,i,e){let o=e;this.gatewayData.enableBotAndFraudProtection&&(e=Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData,
this.environment,"globalPrivacyControlCategories"),(n=Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"honorGlobalPrivacyControl"))&&0===e.length||n&&e.includes(i))&&(o=!1),t[i]={categoryEnabled:o,tags:[]};var n,s=this.listProcessor.getList()[i]||[];for(let e=0;e<s.length;e++){var r=this.shouldTagBeChecked(o,s[e]);t[i].tags.push({tagName:s[e].displayName,tag:s[e].tag,tagEnabled:r})}}static registerConsentChangeCallback(e){ee.consentChangeCallbacks.push(e)}static fireConsentChangeCallbacks(e){for(const t of ee.consentChangeCallbacks)"function"==
typeof t&&t(e)}shouldTagBeChecked(e,t){let i;return e?(i=!0,this.tagAccessManager.isTagInBlockedList(t)&&(i=!1)):(i=!1,this.tagAccessManager.isTagInAllowedList(t)&&(i=!0)),i}}ee.consentChangeCallbacks=[];class R extends ee{constructor(e,t,i,o,n,s,r,a,l){super(e,t,i,o,a,n),this.gatewayData=n,this.updateListValues=s,this.templateManager=r,this.cookieVals=[],this.modalHtmlString="",this.ESC_KEYCODE=27,this.cookieValsState=[],this.injectModalDelay=100,this.openModalDelay=150,this.buttonTranslation={ensAcceptAll:"consentModalAllowAll",
ensRejectAll:"consentModalDenyAll",ensSave:"save",ensCancel:"cancel"},this.getConsentStatus=(e)=>super.getConsentStatus(e),this.retrieveTagStatuses=(e,t,i,o)=>null!=o&&o.ignoreModalState?e.map((e)=>i):e.map((e)=>{e=this.generateTagSlideId(t,e);return document.getElementById(e).checked?"1":"0"}),this.modalLoaded=()=>J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes(["MODAL_LOADED"]),t=(yield this.cookieManager.setCookie("MODAL_LOADED","1"),this.cookieManager.getCookiesFromTypes(["MODAL_LOADED"]));
this.consentReporter.sendReport(e,t)}),this.modalViewed=()=>J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes(["MODAL_VIEWED"]),t=(yield this.cookieManager.setCookie("MODAL_VIEWED","1"),this.cookieManager.getCookiesFromTypes(["MODAL_VIEWED"]));this.consentReporter.sendReport(e,t)}),this.getCurrentCookieVal=(e)=>{e=document.getElementById(e+"Slide");let t=0;return t=e&&e.checked?1:t},this.saveNewCookieValues=()=>{var e=this.cookieManager.getCategoryMapFromCookieTypes(this.gatewayData.cookieTypes);
for(const t in this.cookieManager.getCategoryMapFromCookieTypes(this.gatewayData.cookieTypes))e[t]=1===this.getCurrentCookieVal(t);this.setConsentStatuses(e)},this.getCookieValsState=()=>{var t=document.querySelectorAll(".ensCheckbox");for(let e=0;e<t.length;e++)this.cookieValsState.push(t[e].checked)},this.resetCookieValsState=()=>{this.cookieValsState=[]},this.setCookieValsState=()=>{if(0!==this.cookieValsState.length){var t=document.querySelectorAll(".ensCheckbox");for(let e=0;e<t.length;e++)t[e].checked=
this.cookieValsState[e]}},this.openModal=()=>{var e;"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.cookieModal)?void 0:e.beforeOpen)&&Bootstrapper.privacy.cookieModal.beforeOpen(this.cookieModal),Z.utilities.domReady(()=>{setTimeout(()=>{var e,t,i,o;this.cookieModal.style.display="block",this.getIncludeModalCustomization(this.environment)?this.addModalCustomization():(e=window.innerWidth/2,t=window.innerHeight/2,i=parseInt(window.getComputedStyle(this.cookieModal).width)/
2,o=parseInt(window.getComputedStyle(this.cookieModal).height)/2,this.cookieModal.style.left=e-i+"px",this.cookieModal.style.top=t-o+"px"),this.onOpenModal(),this.modalLoaded(),"function"==typeof(null==(i=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.cookieModal)?void 0:i.afterOpen)&&Bootstrapper.privacy.cookieModal.afterOpen(this.cookieModal)},this.openModalDelay)})},this.getIncludeModalCustomization=function(e){return Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,
e,"includeConsentModalCustomConfig")},this.addModalCustomization=function(){var e=this.getModalCustomization();this.setModalSize(e),this.setModalPosition(e),this.setModalColor(e)},this.getModalCustomization=function(){return Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"consentModalCustomConfig")},this.setModalSize=(e)=>{this.cookieModal.style.width=e.consentModalHSize+"%",this.cookieModal.style.height=e.consentModalVSize+"%",this.cookieModal.style.overflow=
"scroll"},this.setModalPosition=(e)=>{"Left"===e.consentModalHPosition?this.cookieModal.style.left=e.consentModalHMargin+"%":"Right"===e.consentModalHPosition?this.cookieModal.style.right=e.consentModalHMargin+"%":this.cookieModal.style.left=(100-e.consentModalHSize)/2+"%","Top"===e.consentModalVPosition?this.cookieModal.style.top=e.consentModalVMargin+"%":"Bottom"===e.consentModalVPosition?this.cookieModal.style.bottom=e.consentModalVMargin+"%":this.cookieModal.style.top=(100-e.consentModalVSize)/
2+"%"},this.setModalColor=(e)=>{this.cookieModal.style.backgroundColor=e.consentModalBackgroundHex;var t=document.querySelector(".ensTitle"),i=document.querySelector(".consentDescription"),o=document.querySelector(".ensModal");t.style.color=e.consentModalTextHex,i.style.color=e.consentModalTextHex,o.style.color=e.consentModalTextHex},this.initializeFocus=()=>{this.previousFocusedElement=document.activeElement;var e=document.querySelector(".ensCheckbox:enabled");e&&"function"==typeof e.focus&&e.focus()},
this.onOpenModal=()=>{document.body.addEventListener("keydown",this.escapeCloseModal),this.initializeFocus()},this.escapeCloseModal=(e)=>{this.gatewayData.featureToggles.disableEscapeKeyboardCommands||e.keyCode!==this.ESC_KEYCODE||(this.closeModal(),this.setCookieValsState())},this.closeModal=()=>{var e;"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.cookieModal)?void 0:e.beforeClose)&&Bootstrapper.privacy.cookieModal.beforeClose(this.cookieModal),
this.modalViewed(),this.cookieModal.style.display="none",this.onCloseModal(),"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.cookieModal)?void 0:e.afterClose)&&Bootstrapper.privacy.cookieModal.afterClose(this.cookieModal)},this.cancelCloseModal=()=>{this.closeModal(),this.setCookieValsState()},this.onCloseModal=()=>{document.removeEventListener("keydown",this.escapeCloseModal),this.previousFocusedElement&&"function"==typeof this.previousFocusedElement.focus&&
this.previousFocusedElement.focus()},this.getCheckedString=(e)=>e?" checked ":"",this.shouldCategoryBeChecked=(e,t)=>{var i=Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData,this.environment,"globalPrivacyControlCategories"),o=Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"honorGlobalPrivacyControl");if(!o||!navigator.globalPrivacyControl||0!==i.length&&!i.includes(t)){o=this.cookieManager.getCookie(t);if((1==o||1==e)&&0!=o)return!0}return!1},
this.getStyleString=()=>this.templateManager.getTemplate(f.COOKIE_MODAL_CSS),this.getModalHtmlString=()=>this.modalHtmlString,this.setModalHtmlString=function(e,t,i,o){for(const p in e)this.cookieVals.push(e[p]);var n,s=document.createElement("div"),r=(s.innerHTML=this.templateManager.getTemplate(f.COOKIE_MODAL_HTML),s.querySelector("#ensTitle").innerHTML=t.consentTitle,s.querySelector("#ensDescription").innerHTML=t.consentDescription,s.querySelector(".ensToggleRowWrapper"));for(const m in t.cookies){this.setAllowPerTagOptOut(o,
this.gatewayData.featureToggles);var a,l,h,c,d,u=this.getAllowPerTagOptOut()?"ensToggleLabel chevron right":"ensToggleLabel",g=this.shouldCategoryBeChecked(e[m],m);"default"===m&&!0!==i||((a=document.createElement("div")).className="ensToggleRow","default"===m&&a.setAttribute("style","opacity: .5;"),(l=document.createElement("label")).className=u,l.innerHTML=t.cookies[m].title,l.setAttribute("for",m+"Slide"),(u=document.createElement("div")).className="card",(d=document.createElement("input")).className=
"ensCheckbox",d.setAttribute("aria-describedby",m+"description"),d.id=m+"Slide",d.type="checkbox",d.name=m+"Slide",!g&&"default"!==m||d.setAttribute("checked",""),d.disabled="default"===m,(h=document.createElement("span")).className="switch",(c=document.createElement("span")).className="toggle",u.appendChild(d),u.appendChild(h),u.appendChild(c),l.appendChild(u),(d=document.createElement("div")).className="description",d.id=m+"description",d.innerHTML=t.cookies[m].description,this.getAllowPerTagOptOut()&&
this.buildPerTagOptOutTemplate(m,g||"default"===m),a.appendChild(l),a.appendChild(d),a.innerHTML+=this.getAllowPerTagOptOut()?this.buildPerTagOptOutTemplate(m,g||"default"===m):"",r.appendChild(a),r.appendChild(document.createElement("hr")))}Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableDoNotSellModal")?((n=s.querySelector("#ensDoNotSellModalLink")).setAttribute("style","display: true;"),n.innerHTML=t.doNotSellModal.link,n.setAttribute("aria-label",
n.innerHTML)):s.querySelector("#ensDoNotSellModalLink").remove(),Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableRequestDataModal")?((n=s.querySelector("#ensRequestDataModalLink")).setAttribute("style","display: true;"),n.innerHTML=t.requestDataModal.link,n.setAttribute("aria-label",n.textContent)):s.querySelector("#ensRequestDataModalLink").remove(),Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,
"enableDeleteDataModal")?((n=s.querySelector("#ensDeleteDataModalLink")).setAttribute("style","display: true;"),n.innerHTML=t.deleteDataModal.link,n.setAttribute("aria-label",n.textContent)):s.querySelector("#ensDeleteDataModalLink").remove(),this.modalHtmlString=s.innerHTML},this.isEnabledConsentModal=function(e){return(e&&e.hasOwnProperty("enableConsentModal")?e:this.gatewayData.featureToggles).enableConsentModal},this.isShowedTrustedDomains=function(e){return!!Q.utilities.isWhitelist(this.gatewayData,
e)&&(e&&e.hasOwnProperty("showTrustedDomains")?e:this.gatewayData.featureToggles).showTrustedDomains},this.addEventListeners=()=>{Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableDoNotSellModal")&&null!=(e=document.getElementById("ensDoNotSellModalLink"))&&e.addEventListener("click",()=>{this.closeModal(),Bootstrapper.gateway.openDoNotSellModal()}),Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,
"enableRequestDataModal")&&null!=(e=document.getElementById("ensRequestDataModalLink"))&&e.addEventListener("click",()=>{this.closeModal(),Bootstrapper.gateway.openRequestDataModal()}),Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableDeleteDataModal")&&null!=(e=document.getElementById("ensDeleteDataModalLink"))&&e.addEventListener("click",()=>{this.closeModal(),Bootstrapper.gateway.openDeleteDataModal()});var e,t=document.querySelectorAll(".card input[type\x3dcheckbox]");
for(let e=0;e<t.length;e++){var i=t[e];i.addEventListener("focus",function(){this.parentNode.style.outline="rgba(0, 103, 244, 0.247) auto 5px"}),i.addEventListener("blur",function(){this.parentNode.style.outline=""})}this.getAllowPerTagOptOut()&&this.addRowsEventsPerTagOptOut()},this.saveCookies=()=>{this.resetCookieValsState(),this.closeModal(),requestAnimationFrame(()=>{setTimeout(()=>{this.getCookieValsState(),this.saveNewCookieValues()},0)})},this.acceptAllClickHandler=()=>J(this,void 0,void 0,
function*(){this.closeModal(),yield this.allowAll(this.gatewayData)}),this.rejectAllClickHandler=()=>J(this,void 0,void 0,function*(){this.closeModal(),yield this.denyAll(this.gatewayData)}),this.acceptAllKeyDownHandler=function(e){switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),this.closeModal(),this.allowAll(this.gatewayData)}return!0},this.rejectAllKeyDownHandler=function(e){switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),this.closeModal(),
this.denyAll(this.gatewayData)}return!0},this.handleKeyCancel=function(e){switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),this.cancelCloseModal()}return!0},this.handleKeySave=function(e){switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),this.saveCookies()}return!0},this.updateButtonConfig=function(e){var t;this.buttonConfig={ensAcceptAll:{show:null!=(t=null==(t=null==(t=null==e?void 0:e.consentModalConfig)?void 0:t.ensConsentAcceptAll)?void 0:
t.show)&&t,clickHandler:this.acceptAllClickHandler,keyDownHandler:this.acceptAllKeyDownHandler},ensRejectAll:{show:null!=(t=null==(t=null==(t=null==e?void 0:e.consentModalConfig)?void 0:t.ensConsentRejectAll)?void 0:t.show)&&t,clickHandler:this.rejectAllClickHandler,keyDownHandler:this.rejectAllKeyDownHandler},ensSave:{show:null!=(t=null==(t=null==(t=null==e?void 0:e.consentModalConfig)?void 0:t.ensSaveModal)?void 0:t.show)&&t,clickHandler:this.saveCookies,keyDownHandler:this.handleKeySave},ensCancel:{show:null==
(t=null==(e=null==(t=null==e?void 0:e.consentModalConfig)?void 0:t.ensCloseModal)?void 0:e.show)||t,clickHandler:this.cancelCloseModal,keyDownHandler:this.handleKeyCancel}}},this.updateModalDOM=function(t){var e;this.isEnabledConsentModal(t)&&("function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.cookieModal)?void 0:e.beforeLoad)&&Bootstrapper.privacy.cookieModal.beforeLoad(this.cookieModal),this.setModalHtmlString(t.optVals,t.translation,
this.isShowedTrustedDomains(t),t),this.cookieModal.innerHTML=this.getModalHtmlString(),this.updateButtonConfig(t),null==document.getElementById("ensModalWrapper")?Z.utilities.domReady(()=>{setTimeout(()=>{var e;this.gatewayData.featureToggles.disableDefaultStyles||Z.utilities.addStyleElement(this.getStyleString()),document.body.insertBefore(this.cookieModal,document.body.lastChild),this.setCookieModalWrapperAccessibilitySettings(),this.addEventListeners(),this.getCookieValsState(),this.generateButtonsFromConfig(this.buttonConfig,
t.translation),"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.cookieModal)?void 0:e.afterLoad)&&Bootstrapper.privacy.cookieModal.afterLoad(this.cookieModal)},this.injectModalDelay)}):(this.resetCookieValsState(),this.updateCheckboxes(t),this.addEventListeners(),this.getCookieValsState(),this.generateButtonsFromConfig(this.buttonConfig,t.translation),"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?
void 0:Bootstrapper.privacy)?void 0:e.cookieModal)?void 0:e.afterLoad)&&Bootstrapper.privacy.cookieModal.afterLoad(this.cookieModal)))},this.update=(e)=>{this.environment=e,this.environmentManager.enableAsyncEnvironments?this.environmentManager.getAsyncEnvironmentFromPromise(e,"Cookie Modal",[(e)=>this.updateModalDOM(e)]):this.updateModalDOM(e)},this.setCookieModalWrapperAccessibilitySettings=()=>{var e=document.getElementById("ensModalWrapper");e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby",
"ensTitle"),e.setAttribute("aria-describedby","ensDescription"),e.setAttribute("focusable","true"),e.setAttribute("aria-modal","true")},this.buildPerTagOptOutTemplate=function(t,i){var o=this.listProcessor.getList()[t]||[],n="default"===t;let s="\x3cdiv class\x3d'ensTagsContent'"+(n?" style\x3d'opacity: .5;'":"")+"\x3e";for(let e=0;e<o.length;e++){var r=o[e].displayName||o[e].tag,a=this.generateTagSlideId(t,o[e]),l=this.shouldTagBeChecked(i,o[e]);s=s+("\x3cdiv class\x3d'tagContainer'\x3e\x3clabel for\x3d'"+
a+"' class\x3d'ensToggleLabel'\x3e"+r+"\x3cdiv class\x3d'card'\x3e\x3cinput class\x3d'ensCheckbox' type\x3d'checkbox' id\x3d'"+a+"' name\x3d'"+a+"'"+this.getCheckedString(l)+(n?" disabled/\x3e":"/\x3e")+"\x3cspan class\x3d'switch'\x3e\x3c/span\x3e\x3cspan class\x3d'toggle'\x3e\x3c/span\x3e\x3c/div\x3e\x3c/label\x3e")+"\x3c/div\x3e"}return s+="\x3c/div\x3e"},this.updateTagSlides=function(e,t,i){var o=this.listProcessor.getList()[t]||[];for(let e=0;e<o.length;e++){var n=this.generateTagSlideId(t,o[e]),
s=1===i,n=document.getElementById(n);null!=n&&(n.checked=s)}},this.updateConsentDiffTagSlides=function(t,i){if(i.tags)for(let e=0;e<i.tags.length;e++){i.tags[e].displayName=i.tags[e].tagName;var o=this.generateTagSlideId(t,i.tags[e]),o=document.getElementById(o);null!=o&&(o.checked=i.tags[e].tagEnabled)}},this.addRowsEventsPerTagOptOut=()=>{var t=document.getElementsByClassName("ensToggleRow"),i=(e)=>{var t=e.target.className;return-1<t.indexOf("ensToggleLabel")?this.handleExpandableEvent(e):-1<t.indexOf("ensCheckbox")&&
this.handleSwitchEvent(e),!1};for(let e=0;e<t.length;e++)t[e].addEventListener("click",i)},this.handleExpandableEvent=function(e){var t=e.target,i=t.parentNode.querySelector(".ensTagsContent");i&&("block"===i.style.display?(i.style.display="none",t.className=t.className.replace(/\bbottom\b/g,"right")):(i.style.display="block",t.className=t.className.replace(/\bright\b/g,"bottom"))),e.preventDefault()},this.handleKeySwitch=(e)=>{switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),
this.handleSwitchEvent(e)}return!0},this.handleSwitchEvent=(e)=>{var e=e.target,t=e.checked,e=e.parentNode.parentNode.parentNode;if(-1<e.className.indexOf("ensToggleRow")){e=e.querySelector(".ensTagsContent");if(e){var i=e.querySelectorAll(".ensCheckbox");for(let e=0;e<i.length;e++)i[e].checked=t}}},this.generateTagSlideId=(e,t)=>{return(e+"-"+(t.displayName||"")+"-"+t.tag+"-slide").replace(/[,.]/g,"").replace(/\s/g,"-")},this.addChoiceButtonCustomization=function(e){var t=this.getModalCustomization(this.environment);
e.style.backgroundColor=t.consentModalAccButtonHex,e.style.color=t.consentModalAccTextHex},this.addCancelButtonCustomization=function(e){var t=this.getModalCustomization(this.environment);e.style.backgroundColor=t.consentModalCancelButtonHex,e.style.color=t.consentModalCancelTextHex},this.templateManager=r,this.cookieModal=document.createElement("section"),this.cookieModal.id="ensModalWrapper",this.openModalDelay=this.injectModalDelay+50,this.environmentManager=l,this.update(o),ee.registerConsentChangeCallback((e)=>
{this.resetCookieValsState(),this.updateCheckboxes(this.environment);for(const t in e)this.updateConsentDiffTagSlides(t,e[t]);this.getCookieValsState()})}updateCheckboxes(e){var t,i,o=e.optVals,n=e.translation;if(null===document.getElementById("ensModalWrapper"))this.update(e);else for(const s in n.cookies)"default"!==s&&(t=this.shouldCategoryBeChecked(o[s],s),null!=(i=document.getElementById(s+"Slide")))&&(i.checked=!!t)}generateButtonsFromConfig(e,t){var i,o,n=document.querySelector(".ensModal .ensButtons");
n.innerHTML="";for(const s in e)e.hasOwnProperty(s)&&e[s].show&&((i=document.createElement("button")).id=s,i.tabIndex=0,null!=n&&n.appendChild(i),(o=document.createElement("div")).innerHTML=t[this.buttonTranslation[s]],o.id=s+"Text",o.className="ensCenter",i.appendChild(o),i.setAttribute("aria-label",o.innerHTML),i.addEventListener("click",e[s].clickHandler.bind(this)),i.addEventListener("keydown",e[s].keyDownHandler.bind(this)),this.getIncludeModalCustomization(this.environment)?(i.className="button raised",
"ensCancel"===s?this.addCancelButtonCustomization(i):this.addChoiceButtonCustomization(i)):"ensCancel"===s?i.className="button raised grey":i.className="button raised blue")}}class L extends ee{constructor(e,t,i,o,n,s,r,a,l,h){super(n,e,r,i,l,t),this.gatewayData=t,this.tagPurposes=o,this.cookieManager=n,this.updateListValues=s,this.templateManager=a,this.tagAccessManager=l,this.environmentManager=h,this.sectionElement=document.createElement("section"),this.styleString=this.templateManager.getTemplate(f.CONSENT_MODAL_CSS),
this.ensShowMore=()=>{var e=document.getElementById("ensShowMoreLink"),t=document.getElementById("ensTagsTableContainer");"Show More"===e.innerText?(e.innerText="Show Less",t.style.display="block"):(e.innerText="Show More",t.style.display="none")},this.isEnabledConsentModal=function(e){return(e&&e.hasOwnProperty("enableConsentModal")?e:this.gatewayData.featureToggles).enableConsentModal},this.cookieVals=[],this.closeModal=()=>{var e;"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===
Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.consentModal)?void 0:e.beforeClose)&&Bootstrapper.privacy.consentModal.beforeClose(this.sectionElement),this.sectionElement.style.display="none",this.onCloseModal(),"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.consentModal)?void 0:e.afterClose)&&Bootstrapper.privacy.consentModal.afterClose(this.sectionElement)},this.getInnerModalString=()=>"",this.init=()=>{this.update(this.environment)},
this.injectModal=()=>{var e;this.gatewayData.featureToggles.disableDefaultStyles||Z.utilities.addStyleElement(this.styleString),document.body.insertBefore(this.sectionElement,document.body.lastChild),this.setHTMLBindings(),this.setConsentModalWrapperAccessibilitySettings(),"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.consentModal)?void 0:e.afterLoad)&&Bootstrapper.privacy.consentModal.afterLoad(this.sectionElement)},this.modalLoaded=
()=>J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes(["MODAL_LOADED"]),t=(yield this.cookieManager.setCookie("MODAL_LOADED","1"),this.cookieManager.getCookiesFromTypes(["MODAL_LOADED"]));this.consentReporter.sendReport(e,t)}),this.modalViewed=()=>J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes(["MODAL_VIEWED"]),t=(yield this.cookieManager.setCookie("MODAL_VIEWED","1"),this.cookieManager.getCookiesFromTypes(["MODAL_VIEWED"]));this.consentReporter.sendReport(e,
t)}),this.openModal=()=>{var e;"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.consentModal)?void 0:e.beforeOpen)&&Bootstrapper.privacy.consentModal.beforeOpen(this.sectionElement),this.sectionElement.style.display="block",Z.utilities.domReady(()=>{var e,t,i,o;this.getIncludeModalCustomization(this.environment)?this.addModalCustomization():(e=window.innerWidth/2,t=window.innerHeight/2,i=parseInt(window.getComputedStyle(this.sectionElement).width)/
2,o=parseInt(window.getComputedStyle(this.sectionElement).height)/2,this.sectionElement.style.left=e-i+"px",this.sectionElement.style.top=t-o+"px"),this.modalLoaded(),this.onOpenModal(),"function"==typeof(null==(i=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.consentModal)?void 0:i.afterOpen)&&Bootstrapper.privacy.consentModal.afterOpen(this.sectionElement)})},this.getIncludeModalCustomization=function(e){return Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,
e,"includeConsentModalCustomConfig")},this.addModalCustomization=function(){var e=this.getModalCustomization();this.setModalSize(e),this.setModalPosition(e),this.setModalColor(e)},this.getModalCustomization=function(){return Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"consentModalCustomConfig")},this.setModalSize=(e)=>{this.sectionElement.style.width=e.consentModalHSize+"%",this.sectionElement.style.height=e.consentModalVSize+"%",this.sectionElement.style.overflow=
"scroll"},this.setModalPosition=(e)=>{"Left"===e.consentModalHPosition?this.sectionElement.style.left=e.consentModalHMargin+"%":"Right"===e.consentModalHPosition?this.sectionElement.style.right=e.consentModalHMargin+"%":this.sectionElement.style.left=(100-e.consentModalHSize)/2+"%","Top"===e.consentModalVPosition?this.sectionElement.style.top=e.consentModalVMargin+"%":"Bottom"===e.consentModalVPosition?this.sectionElement.style.bottom=e.consentModalVMargin+"%":this.sectionElement.style.top=(100-e.consentModalVSize)/
2+"%"},this.setModalColor=(e)=>{this.sectionElement.style.backgroundColor=e.consentModalBackgroundHex;var t=document.querySelector(".ensModal"),i=document.querySelector(".ensTitle"),o=document.querySelector(".consentDescription"),n=document.querySelector("#ensShowMoreLink");t.style.color=e.consentModalTextHex,i.style.color=e.consentModalTextHex,o.style.color=e.consentModalTextHex,n.style.color=e.consentModalTextHex},this.initializeFocus=()=>{this.previousFocusedElement=document.activeElement;var e=
document.getElementById("ensShowMoreLink");e&&"function"==typeof e.focus&&e.focus()},this.onOpenModal=()=>{document.body.addEventListener("keydown",this.escapeCloseModal),this.initializeFocus()},this.escapeCloseModal=(e)=>{this.gatewayData.featureToggles.disableEscapeKeyboardCommands||27!==e.keyCode||this.closeModal()},this.onCloseModal=()=>{document.body.removeEventListener("keydown",this.escapeCloseModal),this.previousFocusedElement&&"function"==typeof this.previousFocusedElement.focus&&this.previousFocusedElement.focus()},
this.getModalHtmlString=()=>{let e=!1;var t=this.templateManager.getTemplate(f.CONSENT_MODAL_HTML),i=document.createElement("div");i.innerHTML=t,i.querySelector("#ensConsentDescription").innerHTML=this.environment.translation.consentDescription,i.querySelector("#ensConsentTitle").innerHTML=this.environment.translation.consentTitle;for(const c in this.tagPurposes)if("default"!==c){var o,n=this.tagPurposes[c],s=this.checkIfPurposesNotEmpty(n);e||(s&&((o=document.createElement("th")).classList.add("mdl-data-table__cell--non-numeric"),
o.innerText="Purposes",i.querySelector("#ensTagsTableTitleRow").appendChild(o)),e=!0);for(let e=0;e<n.length;e++){var r=n[e],a=Array.isArray(r.purpose)?r.purpose.join(", "):"",l=document.createElement("tr"),h=document.createElement("td");h.classList.add("mdl-data-table__cell--non-numeric"),h.innerText=r.displayName,l.appendChild(h),s&&((r=document.createElement("td")).classList.add("mdl-data-table__cell--non-numeric"),r.innerText=a,l.appendChild(r)),i.querySelector("#ensTagsTable").appendChild(l)}}return Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,
this.environment,"enableDoNotSellModal")&&(i.querySelector(".ensModal").appendChild(document.createElement("br")),(t=document.createElement("a")).id="ensDoNotSellModalLink",t.href="javascript:void(0)",t.innerText=this.environment.translation.doNotSellModal.link,i.querySelector(".ensModal").appendChild(t)),Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableRequestDataModal")&&(i.querySelector(".ensModal").appendChild(document.createElement("br")),
(t=document.createElement("a")).id="ensRequestDataModalLink",t.href="javascript:void(0)",t.innerText=this.environment.translation.requestDataModal.link,i.querySelector(".ensModal").appendChild(t)),Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableDeleteDataModal")&&(i.querySelector(".ensModal").appendChild(document.createElement("br")),(t=document.createElement("a")).id="ensDeleteDataModalLink",t.href="javascript:void(0)",t.innerText=this.environment.translation.deleteDataModal.link,
i.querySelector(".ensModal").appendChild(t)),i.querySelector("#innerModal").innerHTML=this.getInnerModalString(),i.innerHTML},this.setHTMLBindings=()=>{},this.setConsentModalWrapperAccessibilitySettings=()=>{var e=document.getElementById("ensModalWrapper");e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby","ensConsentTitle"),e.setAttribute("aria-describedby","ensConsentDescription"),e.setAttribute("focusable","true"),e.setAttribute("aria-modal","true")},this.updateDOM=function(e){var t;
this.isEnabledConsentModal(e)&&("function"==typeof(null==(t=null==(t=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:t.consentModal)?void 0:t.beforeLoad)&&Bootstrapper.privacy.consentModal.beforeLoad(this.sectionElement),this.environment=e,this.sectionElement.innerHTML=this.getModalHtmlString(),null==document.getElementById(this.sectionElement.id)?Z.utilities.domReady(this.injectModal):"function"==typeof(null==(e=null==(t=null===Bootstrapper||void 0===Bootstrapper?void 0:
Bootstrapper.privacy)?void 0:t.consentModal)?void 0:e.afterLoad)&&Bootstrapper.privacy.consentModal.afterLoad(this.sectionElement))},this.update=function(e){this.environmentManager.enableAsyncEnvironments?this.environmentManager.getAsyncEnvironmentFromPromise(e,"Consent Modal",[(e)=>this.updateDOM(e)]):this.updateDOM(e)},this.checkIfPurposesNotEmpty=function(t){let i=!1;for(let e=0;e<t.length;e++)if(Array.isArray(t[e].purpose)&&t[e].purpose.length){i=!0;break}return i},this.environmentManager=h,this.templateManager=
a,this.gatewayData=t,this.sectionElement.id="ensModalWrapper"}}class O extends L{constructor(e,t,i,o,n,s,r,a,l,h){super(e,t,i,o,n,s,r,a,l,h),this.getInnerModalString=()=>{var e=document.createElement("div");return e.innerHTML=this.templateManager.getTemplate(f.NO_TOGGLES_MODAL_HTML),e.querySelector("#ensDenyText").innerText=this.environment.translation.deny,e.querySelector("#ensAllowText").innerText=this.environment.translation.allow,e.innerHTML},this.addChoiceButtonCustomization=function(e){var t=
this.getModalCustomization();e.style.backgroundColor=t.consentModalAccButtonHex,e.style.color=t.consentModalAccTextHex},this.addCancelButtonCustomization=function(e){var t=this.getModalCustomization();e.style.backgroundColor=t.consentModalCancelButtonHex,e.style.color=t.consentModalCancelTextHex},this.setHTMLBindings=()=>{var e=document.getElementById("ensAllow"),t=document.getElementById("ensDeny"),i=(this.getIncludeModalCustomization(this.environment)&&(this.addChoiceButtonCustomization(e),this.addCancelButtonCustomization(t)),
document.getElementById("ensDoNotSellModalLink")),i=(Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableDoNotSellModal")?i.addEventListener("click",()=>{this.closeModal(),Bootstrapper.gateway.openDoNotSellModal()}):null!==i&&i.remove(),document.getElementById("ensRequestDataModalLink")),i=(Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableRequestDataModal")?i.addEventListener("click",()=>
{this.closeModal(),Bootstrapper.gateway.openRequestDataModal()}):null!==i&&i.remove(),document.getElementById("ensDeleteDataModalLink"));Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableDeleteDataModal")?i.addEventListener("click",()=>{this.closeModal(),Bootstrapper.gateway.openDeleteDataModal()}):null!==i&&i.remove(),e.addEventListener("click",()=>J(this,void 0,void 0,function*(){yield this.allowAll(this.gatewayData),this.closeViewedModal()})),
t.addEventListener("click",()=>J(this,void 0,void 0,function*(){yield this.denyAll(this.gatewayData),this.closeViewedModal()}))},this.templateManager=a,this.update(i)}closeViewedModal(){this.closeModal(),this.modalViewed()}}class ae{constructor(e,t,i,o,n,s,r,a,l){var h;this.consentModal=null,this.templateManager=r,e.featureToggles.enableGdprModal?(h=i.getTranslatedList(),this.consentModal=new O(i,e,t,h,o,s,n,r,a,l)):this.consentModal=new R(o,i,n,t,e,s,r,a,l)}getConsentModal(){return this.consentModal}}
class le extends ee{constructor(e,t,i,o,n,s,r,a,l,h){super(n,e,s,i,l,t),this.listProcessor=e,this.gatewayData=t,this.environment=i,this.consentModal=o,this.cookieManager=n,this.consentReporter=s,this.templateManager=r,this.updateListValues=a,this.tagAccessManager=l,this.environmentManager=h,this.sectionElement=document.createElement("section"),this.customBannerSet=!1,this.buttonTranslation={ensAcceptAll:"notificationBannerAllowAll",ensRejectAll:"notificationBannerDenyAll",ensOpenModal:"notificationBannerPreferences",
ensCloseBanner:"close"},this.getConsentStatus=(e)=>super.getConsentStatus(e),this.bannerLoaded=function(){return J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes(["BANNER_LOADED"]),t=(yield this.cookieManager.setCookie("BANNER_LOADED","1"),this.cookieManager.getCookiesFromTypes(["BANNER_LOADED"]));this.consentReporter.sendReport(e,t)})},this.bannerViewed=function(){return J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes(["BANNER_VIEWED"]),
t=(yield this.cookieManager.setCookie("BANNER_VIEWED","1"),this.cookieManager.getCookiesFromTypes(["BANNER_VIEWED"]));this.consentReporter.sendReport(e,t)})},this.checkCopyForLinks=function(){this.bannerCopy=this.bannerCopy.replace(/{{/gi,"\x3cspan id\x3d'ensModalLink' role\x3d'button' class\x3d'ensModalLink' aria-label\x3d'Cookie Consent Tool' tabindex\x3d'0'\x3e"),this.bannerCopy=this.bannerCopy.replace(/}}/gi,"\x3c/span\x3e")},this.closeEnsBanner=function(){var e,t=this.findBannerElement();"function"==
typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.banner)?void 0:e.beforeClose)&&Bootstrapper.privacy.banner.beforeClose(t),this.bannerViewed(),t.style.display="none",this.onCloseEnsBanner(),"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.banner)?void 0:e.afterClose)&&Bootstrapper.privacy.banner.afterClose(t)},this.onCloseEnsBanner=function(){this.previousFocusedElement&&"function"==
typeof this.previousFocusedElement.focus&&this.previousFocusedElement.focus(),document.body.removeEventListener("keydown",this.escapeBanner)},this.ensBannerShowModal=function(){this.closeEnsBanner(),this.consentModal.openModal&&this.consentModal.openModal()},this.openBannerCheck=function(){this.cookieManager.getCookie("BANNER_VIEWED")||this.openEnsBanner()},this.openEnsBanner=function(){var e,t,i=this.findBannerElement();"function"==typeof(null==(e=null==(e=null===Bootstrapper||void 0===Bootstrapper?
void 0:Bootstrapper.privacy)?void 0:e.banner)?void 0:e.beforeOpen)&&Bootstrapper.privacy.banner.beforeOpen(i),i.style.display="block",this.getIncludeBannerCustomization(this.environment)?this.addBannerCustomization(i):(e=window.innerWidth/2,t=parseInt(window.getComputedStyle(i).width)/2,i.style.left=e-t+"px"),this.onOpenEnsBanner(),this.bannerLoaded(),"function"==typeof(null==(t=null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:e.banner)?void 0:t.afterOpen)&&
Bootstrapper.privacy.banner.afterOpen(i)},this.onOpenEnsBanner=function(){this.previousFocusedElement=document.activeElement;var e=document.querySelector(".ensModalLink");null!=e&&"function"==typeof e.focus&&e.focus(),document.body.addEventListener("keydown",this.escapeBanner)},this.addBannerCustomization=function(e){var t=this.getBannerCustomization(this.environment);e.style.backgroundColor=t.privacyNoticeBackgroundHex,e.style.color=t.privacyNoticeTextHex,e.style.opacity="1",e.style.width=t.privacyNoticeHSize+
"%",e.style.left=(100-t.privacyNoticeHSize)/2+"%","Top"===t.privacyNoticeVPosition?(e.style.top=t.privacyNoticeVMargin+"%",e.style.bottom="auto"):e.style.bottom=t.privacyNoticeVMargin+"%"},this.addChoiceButtonCustomization=function(e){var t=this.getBannerCustomization(this.environment);e.style.backgroundColor=t.privacyNoticeAccButtonHex,e.style.color=t.privacyNoticeAccTextHex},this.addCancelButtonCustomization=function(e){var t=this.getBannerCustomization(this.environment);e.style.backgroundColor=
t.privacyNoticeCancelButtonHex,e.style.color=t.privacyNoticeCancelTextHex},this.getStyleString=()=>this.templateManager.getTemplate(f.BANNER_CSS),this.setBannerCopy=function(e){this.bannerCopy=e,this.checkCopyForLinks()},this.setBannerMarkup=function(){this.bannerMarkup=this.templateManager.getTemplate(f.BANNER_HTML)},this.isCustomBannerSet=function(){return this.customBannerSet},this.getBannerMarkup=function(){return this.bannerMarkup},this.findBannerElement=function(){return document.getElementById("ensNotifyBanner")},
this.isEnabledPrivacyNotice=function(e){return Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,e,"enablePrivacyNotice")},this.isEnabledAutoShowModal=function(e){return!Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,e,"shouldNotAutoShowModal")},this.getIncludeBannerCustomization=function(e){return Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,e,"includePrivacyNoticeCustomConfig")},this.getBannerCustomization=
function(e){return Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,e,"privacyNoticeCustomConfig")},this.isEnabledAutoShowBanner=function(e){return!Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,e,"shouldNotAutoShowBanner")},this.updateButtonConfig=function(e){var t;this.buttonConfig={ensAcceptAll:{show:null!=(t=null==(t=null==(t=null==e?void 0:e.bannerConfig)?void 0:t.ensAcceptAll)?void 0:t.show)&&t,clickHandler:this.acceptAllClickHandler,
keyDownHandler:this.acceptAllKeyDownHandler},ensRejectAll:{show:null!=(t=null==(t=null==(t=null==e?void 0:e.bannerConfig)?void 0:t.ensRejectAll)?void 0:t.show)&&t,clickHandler:this.rejectAllClickHandler,keyDownHandler:this.rejectAllKeyDownHandler},ensOpenModal:{show:null!=(t=null==(t=null==(t=null==e?void 0:e.bannerConfig)?void 0:t.ensOpenModal)?void 0:t.show)&&t,clickHandler:this.ensBannerShowModal,keyDownHandler:this.handleKeyOpen},ensCloseBanner:{show:null==(t=null==(e=null==(t=null==e?void 0:
e.bannerConfig)?void 0:t.ensCloseBanner)?void 0:e.show)||t,clickHandler:this.closeEnsBanner,keyDownHandler:this.handleKeyClose}}},this.injectBanner=(e)=>{var t;this.isCustomBannerSet()||(document.body.insertBefore(this.sectionElement,document.body.lastChild),this.updateBanner(e.translation),this.gatewayData.featureToggles.disableDefaultStyles||Z.utilities.addStyleElement(this.getStyleString()),this.addEventListeners()),"function"==typeof(null==(t=null==(t=null===Bootstrapper||void 0===Bootstrapper?
void 0:Bootstrapper.privacy)?void 0:t.banner)?void 0:t.afterLoad)&&Bootstrapper.privacy.banner.afterLoad(this.findBannerElement()),this.isEnabledAutoShowBanner(e)&&this.openBannerCheck()},this.updateDOM=function(e){var t,i,o;this.isEnabledPrivacyNotice(e)?(i=this.findBannerElement(),o=document.getElementById("ensModalWrapper"),"function"==typeof(null==(t=null==(t=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:t.banner)?void 0:t.beforeLoad)&&Bootstrapper.privacy.banner.beforeLoad(i),
this.updateButtonConfig(e),null==i?(this.setBannerCopy(e.translation.notificationBannerContent),this.checkCopyForLinks(),this.isCustomBannerSet()||(this.setBannerMarkup(),this.sectionElement.innerHTML=this.bannerMarkup),Z.utilities.domReady(()=>this.injectBanner(e))):(this.bannerDisplayStyle=i.style.display,this.modalDisplayStyle=null!=o?o.style.display:"",this.setBannerCopy(e.translation.notificationBannerContent),this.setBannerMarkup(),this.sectionElement.innerHTML=this.bannerMarkup,this.updateBanner(e.translation),
"block"===this.bannerDisplayStyle&&this.openEnsBanner(),"block"===this.modalDisplayStyle&&this.ensBannerShowModal(),this.addEventListeners(),"function"==typeof(null==(o=null==(t=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:t.banner)?void 0:o.afterLoad)&&null!=(o=null==(t=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy)?void 0:t.banner)&&o.afterLoad(i))):this.consentModal.isEnabledConsentModal(e)&&this.isEnabledAutoShowModal(e)&&setTimeout(()=>
{this.cookieManager.getCookie("MODAL_VIEWED")||this.consentModal.openModal()},500)},this.update=function(e){this.environmentManager.enableAsyncEnvironments?this.environmentManager.getAsyncEnvironmentFromPromise(e,"Banner",[(e)=>this.updateDOM(e)]):this.updateDOM(e)},this.addEventListeners=()=>{var t=document.getElementsByClassName("ensModalLink");document.getElementById("ensCloseBanner");for(let e=0;e<t.length;e++)t[e].addEventListener("click",this.ensBannerShowModal.bind(this)),t[e].addEventListener("keydown",
this.handleKeyOpen.bind(this))},this.escapeBanner=(e)=>{this.gatewayData.featureToggles.disableEscapeKeyboardCommands||27!==e.keyCode||this.closeEnsBanner()},this.handleKeyOpen=(e)=>{switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),this.ensBannerShowModal()}return!0},this.handleKeyClose=function(e){switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),this.closeEnsBanner()}return!0},this.init=function(){this.update(this.environment)},this.testObject=
{bannerViewed:this.bannerViewed,ensBannerShowModal:this.ensBannerShowModal,bannerLoaded:this.bannerLoaded},this.acceptAllClickHandler=()=>J(this,void 0,void 0,function*(){this.closeEnsBanner(),yield this.allowAll(this.gatewayData)}),this.rejectAllClickHandler=()=>J(this,void 0,void 0,function*(){this.closeEnsBanner(),yield this.denyAll(this.gatewayData)}),this.acceptAllKeyDownHandler=function(e){switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),this.closeEnsBanner(),this.allowAll(this.gatewayData)}return!0},
this.rejectAllKeyDownHandler=function(e){switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),this.closeEnsBanner(),this.denyAll(this.gatewayData)}return!0},this.updateBanner=function(e){document.getElementById("ensBannerDescription").innerHTML=this.bannerCopy,this.generateButtonsFromConfig(this.buttonConfig,e)},this.environmentManager=h,this.templateManager=r,this.gatewayData=t,this.bannerCopy=null==(e=this.environment.translation)?void 0:e.notificationBannerContent,this.init()}generateButtonsFromConfig(e,
t){var i,o=document.querySelector(".ensNotifyBanner .ensButtons");o.innerHTML="";for(const n in e)e.hasOwnProperty(n)&&e[n].show&&((i=document.createElement("button")).id=n,null!=o&&o.appendChild(i),i.innerHTML=t[this.buttonTranslation[n]],i.setAttribute("aria-label",i.innerHTML),i.addEventListener("click",e[n].clickHandler.bind(this)),i.addEventListener("keydown",e[n].keyDownHandler.bind(this)),this.getIncludeBannerCustomization(this.environment)?(i.className="button raised","ensCloseBanner"===n?
this.addCancelButtonCustomization(i):this.addChoiceButtonCustomization(i)):"ensCloseBanner"===n?i.className="button raised grey":i.className="button raised blue")}}class D{constructor(e,t,i,o,n){this.environment=e,this.gatewayData=t,this.whichModal=i,this.templateManager=o,this.requestConfirmationModal=document.createElement("section"),this.modalHtmlString="",this.injectModalDelay=100,this.openModalDelay=this.injectModalDelay+50,this.requestModalConfig={doNotSellConfirmation:{cssPrefix:"ensDoNotSellConfirmationModal",
prevEventModal:"doNotSellModal",ariaLabel:"Do Not Sell Confirmation",prevModalFeatureToggle:"enableDoNotSellModal"},requestDataConfirmation:{cssPrefix:"ensRequestDataConfirmationModal",prevEventModal:"requestDataModal",ariaLabel:"Request Data Confirmation",prevModalFeatureToggle:"enableRequestDataModal"},deleteDataConfirmation:{cssPrefix:"ensDeleteDataConfirmationModal",prevEventModal:"deleteDataModal",ariaLabel:"Delete Data Confirmation",prevModalFeatureToggle:"enableDeleteDataModal"}},this.openModal=
()=>{Z.utilities.domReady(()=>{setTimeout(()=>{this.requestConfirmationModal.style.display="block";var e=window.innerWidth/2,t=window.innerHeight/2,i=parseInt(window.getComputedStyle(this.requestConfirmationModal).width)/2,o=parseInt(window.getComputedStyle(this.requestConfirmationModal).height)/2;this.requestConfirmationModal.style.left=e-i+"px",this.requestConfirmationModal.style.top=t-o+"px",this.onOpenModal()},this.openModalDelay)})},this.onOpenModal=()=>{document.body.addEventListener("keydown",
this.escapeCloseModal);var e;this.previousFocusedElement=document.activeElement,(e=document.getElementById(this.modalCSSPrefix+"Close"))&&"function"==typeof e.focus&&e.focus()},this.escapeCloseModal=(e)=>{this.gatewayData.featureToggles.disableEscapeKeyboardCommands||27!==e.keyCode||this.closeModal()},this.closeModal=()=>{this.requestConfirmationModal.style.display="none",this.onCloseModal()},this.onCloseModal=()=>{document.removeEventListener("keydown",this.escapeCloseModal),this.previousFocusedElement&&
"function"==typeof this.previousFocusedElement.focus&&this.previousFocusedElement.focus()},this.styleString=this.templateManager.getTemplate(f.REQUEST_CONFIRMATION_MODAL_CSS),this.getModalHtmlString=()=>this.modalHtmlString,this.setModalHtmlString=(e)=>{var t=document.createElement("div"),i=document.createElement("div"),o=(i.className=this.modalCSSPrefix,i.setAttribute("arial-label",this.modalAriaLabel),document.createElement("header")),n=(o.className="ensTitle",o.id=this.modalCSSPrefix+"Title",o.textContent=
e[this.prevEventModal].title,document.createElement("div")),o=(n.className=this.modalCSSPrefix+"Description",n.id=this.modalCSSPrefix+"Description",n.innerHTML=e[this.prevEventModal].confirmationDescription,i.appendChild(o),i.appendChild(n),t.appendChild(i),document.createElement("div")),n=(o.className="ensButtons",document.createElement("button")),i=(n.id=this.modalCSSPrefix+"Close",n.className="button raised grey",n.tabIndex=0,document.createElement("div"));i.className="ensCenter",i.innerHTML=e[this.prevEventModal].close,
n.appendChild(i),n.setAttribute("arial-label",i.textContent),o.appendChild(n),t.appendChild(o),this.modalHtmlString=t.innerHTML},this.isConfirmationModalEnabled=(e)=>(e&&e.hasOwnProperty(this.prevModalFeatureToggle)?e:this.gatewayData.featureToggles)[this.prevModalFeatureToggle],this.addEventListeners=()=>{var e=document.getElementById(this.modalCSSPrefix+"Close");e.addEventListener("click",this.closeModal),e.addEventListener("keydown",function(e){switch(e.which){case 13:case 32:return e.stopPropagation(),
e.preventDefault(),this.closeModal()}return!0})},this.updateDOM=(e)=>{this.setModalHtmlString(e.translation),this.requestConfirmationModal.innerHTML=this.getModalHtmlString(),null==document.getElementById(this.modalCSSPrefix+"Wrapper")?Z.utilities.domReady(()=>{this.gatewayData.featureToggles.disableDefaultStyles||Z.utilities.addStyleElement(this.styleString),document.body.insertBefore(this.requestConfirmationModal,document.body.lastChild),this.setConfirmationModalWrapperAccessibilitySettings(),this.addEventListeners()}):
this.addEventListeners()},this.update=(e)=>{this.isConfirmationModalEnabled(e)&&(this.environmentManager.enableAsyncEnvironments?this.environmentManager.getAsyncEnvironmentFromPromise(e,"Request Confirmation Modal",[(e)=>this.updateDOM(e)]):this.updateDOM(e))},this.setConfirmationModalWrapperAccessibilitySettings=()=>{var e=document.getElementById(this.modalCSSPrefix+"Wrapper");e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby",this.modalCSSPrefix+"Title"),e.setAttribute("aria-describedby",
this.modalCSSPrefix+"Description"),e.setAttribute("focusable","true"),e.setAttribute("aria-modal","true")},this.templateManager=o,this.prevEventModal=this.requestModalConfig[i].prevEventModal,this.modalCSSPrefix=this.requestModalConfig[i].cssPrefix,this.modalAriaLabel=this.requestModalConfig[i].ariaLabel,this.requestConfirmationModal.id=this.modalCSSPrefix+"Wrapper",this.requestConfirmationModal.style.display="none",this.environmentManager=n,this.prevModalFeatureToggle=this.requestModalConfig[i].prevModalFeatureToggle,
this.update(e)}}class te{constructor(e,t,i,o,n,s,r,a,l,h){this.cookieManager=e,this.updateListValues=t,this.consentReporter=i,this.environment=o,this.gatewayData=n,this.whichModal=s,this.ccpaEventAPI=r,this.templateManager=a,this.tagAccessManager=l,this.environmentManager=h,this.contactInfoModal=document.createElement("section"),this.modalHtmlString="",this.allowPerTagOptOut=Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"allowPerTagOptOut"),this.autoDoNotSellAllCategories=
Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"autoDoNotSellAllCategories"),this.ESC_KEYCODE=27,this.modalConfig={doNotSellModal:{event:"doNotSellChanged",cssPrefix:"ensDoNotSellModal",ariaLabel:"Do Not Sell",featureToggle:"enableDoNotSellModal",cookieType:"DO_NOT_SELL_MODAL_VIEWED",loadedCookieType:"DO_NOT_SELL_MODAL_LOADED",requestConfirmationModalString:"doNotSellConfirmation",close:"Close"},requestDataModal:{event:"requestData",cssPrefix:"ensRequestDataModal",
ariaLabel:"Request Data",featureToggle:"enableRequestDataModal",cookieType:"REQUEST_DATA_MODAL_VIEWED",loadedCookieType:"REQUEST_DATA_MODAL_LOADED",requestConfirmationModalString:"requestDataConfirmation",close:"Close"},deleteDataModal:{event:"deleteData",cssPrefix:"ensDeleteDataModal",ariaLabel:"Delete Data",featureToggle:"enableDeleteDataModal",cookieType:"DELETE_DATA_MODAL_VIEWED",loadedCookieType:"DELETE_DATA_MODAL_LOADED",requestConfirmationModalString:"deleteDataConfirmation",close:"Close"}},
this.injectModalDelay=100,this.openModalDelay=this.injectModalDelay+50,this.modalLoaded=()=>J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes([this.loadedCookieType]),t=(yield this.cookieManager.setCookie(this.loadedCookieType,"1"),this.cookieManager.getCookiesFromTypes([this.loadedCookieType]));this.consentReporter.sendReport(e,t)}),this.modalViewed=()=>J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes([this.modalCookieType]),t=(yield this.cookieManager.setCookie(this.modalCookieType,
"1"),this.cookieManager.getCookiesFromTypes([this.modalCookieType]));this.consentReporter.sendReport(e,t)}),this.openModal=()=>{var e;"function"==typeof(null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy[this.whichModal])?void 0:e.beforeOpen)&&Bootstrapper.privacy[this.whichModal].beforeOpen(this.contactInfoModal),Z.utilities.domReady(()=>{setTimeout(()=>{this.contactInfoModal.style.display="block";var e=window.innerWidth/2,t=window.innerHeight/2,i=parseInt(window.getComputedStyle(this.contactInfoModal).width)/
2,o=parseInt(window.getComputedStyle(this.contactInfoModal).height)/2;this.contactInfoModal.style.left=e-i+"px",this.contactInfoModal.style.top=t-o+"px",this.onOpenModal(),this.modalLoaded(),"function"==typeof(null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy[this.whichModal])?void 0:e.afterOpen)&&Bootstrapper.privacy[this.whichModal].afterOpen(this.contactInfoModal)},this.openModalDelay)})},this.onOpenModal=()=>{document.body.addEventListener("keydown",this.escapeCloseModal),
document.getElementById(this.modalCSSPrefix+"FirstName").required=!0,document.getElementById(this.modalCSSPrefix+"LastName").required=!0,document.getElementById(this.modalCSSPrefix+"Email").required=!0;var e;document.getElementById(this.modalCSSPrefix+"Address").required=!0;this.previousFocusedElement=document.activeElement,(e=document.querySelector("."+this.modalConfig[this.whichModal].cssPrefix+" input"))&&"function"==typeof e.focus&&e.focus()},this.escapeCloseModal=(e)=>{this.gatewayData.featureToggles.disableEscapeKeyboardCommands||
e.keyCode!==this.ESC_KEYCODE||this.closeModal()},this.closeModalClick=(e)=>{e.preventDefault(),this.modalViewed(),this.contactInfoModal.style.display="none",this.onCloseModal()},this.closeModal=()=>{var e;"function"==typeof(null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy[this.whichModal])?void 0:e.beforeClose)&&Bootstrapper.privacy[this.whichModal].beforeClose(this.contactInfoModal),this.modalViewed(),this.contactInfoModal.style.display="none",this.onCloseModal(),"function"==
typeof(null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy[this.whichModal])?void 0:e.afterClose)&&Bootstrapper.privacy[this.whichModal].afterClose(this.contactInfoModal)},this.onCloseModal=()=>{var e;document.removeEventListener("keydown",this.escapeCloseModal),document.getElementById(this.modalCSSPrefix+"FirstName").required=!1,document.getElementById(this.modalCSSPrefix+"LastName").required=!1,document.getElementById(this.modalCSSPrefix+"Email").required=!1,document.getElementById(this.modalCSSPrefix+
"Address").required=!1,"function"==typeof(null==(e=this.previousFocusedElement)?void 0:e.focus)&&this.previousFocusedElement.focus()},this.getModalHtmlString=()=>this.modalHtmlString,this.setModalHtmlString=(e)=>{this.modalHtmlString=this.templateManager.getTemplate(f.CONTACT_INFO_HTML).replace(/modalCSSPrefix/g,this.modalCSSPrefix).replace(/modalAriaLabel/g,this.modalAriaLabel).replace(/translation\[whichModal\]\.title/g,e[this.whichModal].title).replace(/translation\[whichModal\]\.description/g,
e[this.whichModal].description).replace(/translation\.cancel/g,e.cancel).replace(/translation\.save/g,e.save)},this.isModalEnabled=(e)=>(e&&e.hasOwnProperty(this.modalFeatureToggle)?e:this.gatewayData.featureToggles)[this.modalFeatureToggle],this.addEventListeners=()=>{var e=document.getElementById(this.modalCSSPrefix+"Save"),t=document.getElementById(this.modalCSSPrefix+"Cancel");e.addEventListener("keydown",(e)=>{switch(e.which){case 13:case 32:return this.openRequestConfirmationModal(e)}return!0}),
e.addEventListener("click",this.openRequestConfirmationModal),t.addEventListener("click",this.closeModalClick),t.addEventListener("keydown",(e)=>{switch(e.which){case 13:case 32:return e.stopPropagation(),e.preventDefault(),this.closeModal()}return!0})},this.openRequestConfirmationModal=(e)=>{var t,i,o,n=document.querySelector("#"+this.modalCSSPrefix+"Wrapper form");n&&n.checkValidity()&&(e.preventDefault(),n=document.getElementById(this.modalCSSPrefix+"FirstName"),e=document.getElementById(this.modalCSSPrefix+
"LastName"),t=document.getElementById(this.modalCSSPrefix+"Email"),i=document.getElementById(this.modalCSSPrefix+"Address"),o=document.getElementById(this.modalCSSPrefix+"Comments"),n={dt:Date.now(),firstName:n.value,lastName:e.value,email:t.value,address:i.value,comments:o.value},"doNotSellModal"===this.whichModal&&this.autoDoNotSellAllCategories&&this.blockAllCategories(),this.ccpaEventAPI.sendCCPAEvent(this.modalEvent,n),this.closeModal(),this.requestConfirmationModal.openModal())},this.blockAllCategories=
()=>J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes(this.gatewayData.cookieTypes);this.allowPerTagOptOut&&this.tagAccessManager.clearTags();for(let e=0;e<this.gatewayData.cookieTypes.length;e++)yield this.cookieManager.setCookie(this.gatewayData.cookieTypes[e],0);var t=this.cookieManager.getCookiesFromTypes(this.gatewayData.cookieTypes),e=(this.consentReporter.sendReport(e,t),this.cookieManager.getCategoryMapFromCookieTypes(this.gatewayData.cookieTypes)),i=(this.updateListValues(e,
this.tagAccessManager.getAllowedTags(),this.tagAccessManager.getBlockedTags()),document.querySelectorAll(".card input[type\x3dcheckbox]"));if(0<i.length)for(let e=0;e<i.length;e++)i[e].checked=!1}),this.updateDOM=(e)=>{var t;"function"==typeof(null==(t=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy[this.whichModal])?void 0:t.beforeLoad)&&Bootstrapper.privacy[this.whichModal].beforeLoad(this.contactInfoModal),this.setModalHtmlString(e.translation),this.contactInfoModal.innerHTML=
this.getModalHtmlString(),this.allowPerTagOptOut=Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,e,"allowPerTagOptOut"),this.autoDoNotSellAllCategories=Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,e,"autoDoNotSellAllCategories"),null==document.getElementById(this.modalCSSPrefix+"Wrapper")?Z.utilities.domReady(()=>{setTimeout(()=>{var e;this.gatewayData.featureToggles.disableDefaultStyles||Z.utilities.addStyleElement(this.styleString),
document.body.insertBefore(this.contactInfoModal,document.body.lastChild),this.setModalWrapperAccessibilitySettings(),this.addEventListeners(),"function"==typeof(null==(e=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy[this.whichModal])?void 0:e.afterLoad)&&Bootstrapper.privacy[this.whichModal].afterLoad(this.contactInfoModal)},this.injectModalDelay)}):(this.addEventListeners(),"function"==typeof(null==(t=null===Bootstrapper||void 0===Bootstrapper?void 0:Bootstrapper.privacy[this.whichModal])?
void 0:t.afterLoad)&&Bootstrapper.privacy[this.whichModal].afterLoad(this.contactInfoModal))},this.update=(e)=>{this.isModalEnabled(e)&&(this.environmentManager.enableAsyncEnvironments?this.environmentManager.getAsyncEnvironmentFromPromise(e,"Contact Info Modal",[(e)=>this.updateDOM(e)]):this.updateDOM(e))},this.setModalWrapperAccessibilitySettings=()=>{var e=document.getElementById(this.modalCSSPrefix+"Wrapper");e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby",this.modalCSSPrefix+
"Title"),e.setAttribute("aria-describedby",this.modalCSSPrefix+"Description"),e.setAttribute("focusable","true"),e.setAttribute("aria-modal","true")},this.templateManager=a,this.modalEvent=this.modalConfig[this.whichModal].event,this.modalCSSPrefix=this.modalConfig[this.whichModal].cssPrefix,this.modalAriaLabel=this.modalConfig[this.whichModal].ariaLabel,this.modalFeatureToggle=this.modalConfig[this.whichModal].featureToggle,this.modalCookieType=this.modalConfig[this.whichModal].cookieType,this.loadedCookieType=
this.modalConfig[this.whichModal].loadedCookieType,this.requestConfirmationModal=new D(this.environment,this.gatewayData,this.modalConfig[this.whichModal].requestConfirmationModalString,a,h),this.environmentManager=h,this.contactInfoModal.id=this.modalCSSPrefix+"Wrapper",this.contactInfoModal.style.display="none",this.contactInfoModal.classList.add("contactInfoModalWrapper"),this.styleString=this.templateManager.getTemplate(f.CONTACT_INFO_CSS).replace(/modalCSSPrefix/g,this.modalCSSPrefix),this.update(o)}}
class he{constructor(e,t,i,o,n,s){this.consentReporter=e,this.updateListValues=t,this.cookieManager=i,this.tagAccessManager=o,this.gatewayData=n,this.environment=s}sendCCPAEvent(e,t){"string"==typeof e&&/doNotSellChanged|requestData|deleteData/i.test(e)&&null!=t&&(t=this.buildCCPAEvent(e,t),"doNotSellChanged"===e&&Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"autoDoNotSellAllCategories")&&this.blockAllCategories(),this.consentReporter.addCustomEvent(t),
this.consentReporter.sendReport())}buildCCPAEvent(e,t){return{event:e,dt:Date.now(),firstName:t.firstName,lastName:t.lastName,email:t.email,address:t.address,comments:t.comments}}blockAllCategories(){return J(this,void 0,void 0,function*(){var e=this.cookieManager.getCookiesFromTypes(this.gatewayData.cookieTypes);Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"allowPerTagOptOut")&&this.tagAccessManager.clearTags();for(let e=0;e<this.gatewayData.cookieTypes.length;e++)yield this.cookieManager.setCookie(this.gatewayData.cookieTypes[e],
"0");this.consentReporter.sendReport(e,this.cookieManager.getCookiesFromTypes(this.gatewayData.cookieTypes)),this.updateListValues(this.cookieManager.getCategoryMapFromCookieTypes(this.gatewayData.cookieTypes),this.tagAccessManager.getAllowedTags(),this.tagAccessManager.getBlockedTags())})}}class ce{constructor(e,t,i,o){this.environmentManager=e,this.environment=t,this.gatewayData=i,this.templateManager=o,this.sectionElement=document.createElement("section"),this.isEnabledConsentWidget=function(e){return(e&&
e.hasOwnProperty("consentWidget")?e:this.gatewayData.featureToggles).consentWidget},this.updateDOM=function(e){this.isEnabledConsentWidget(e)&&(this.sectionElement.innerHTML=this.getWidgetString(),this.sectionElement.querySelector("#consentWidget__text").innerHTML=e.translation.consentWidgetCopy,null==document.getElementById("ensConsentWidget"))&&Z.utilities.domReady(this.injectWidget)},this.update=(e)=>{this.environmentManager.enableAsyncEnvironments?this.environmentManager.getAsyncEnvironmentFromPromise(e,
"ConsentWidget",[(e)=>this.updateDOM(e)]):this.updateDOM(e)},this.getWidgetString=function(){return this.widgetString},this.injectWidget=()=>{this.gatewayData.featureToggles.disableDefaultStyles||Z.utilities.addStyleElement(this.styleString),document.body.insertBefore(this.sectionElement,document.body.lastChild),this.setHTMLBindings()},this.setHTMLBindings=()=>{document.getElementById("ensConsentWidget").addEventListener("click",function(){Bootstrapper.gateway.openModal&&Bootstrapper.gateway.openModal()}),
document.getElementById("ensConsentWidget").addEventListener("keydown",function(e){switch(e.which){case 13:case 32:e.stopPropagation(),e.preventDefault(),Bootstrapper.gateway.openModal&&Bootstrapper.gateway.openModal()}return!0})},this.templateManager=o,this.sectionElement.id="ensConsentWidget",this.sectionElement.className="consentWidget",this.sectionElement.setAttribute("aria-label","Cookie Consent Widget"),this.widgetString=this.templateManager.getTemplate(f.CONSENT_WIDGET_HTML),this.styleString=
this.templateManager.getTemplate(f.CONSENT_WIDGET_CSS),this.update(t)}}class b{constructor(e,t,i,o,n,s,r,a,l){this.version=e,this.gateway=t,this.clientId=i,this.publishPath=o,this.instanceId=n,this.packet=s,this.mode=r,this.cookies=a,this.environment=l}}class B extends b{constructor(e,t,i,o,n,s,r,a,l,h){super(e,t,i,o,n,s,r,a,l),this.version=e,this.gateway=t,this.clientId=i,this.publishPath=o,this.instanceId=n,this.packet=s,this.mode=r,this.cookies=a,this.environment=l,this.documentReferrer=h}}class ie extends e.a{constructor(e,
t,i,o,n,s,r,a,l,h,c,d,u){super(),this.imageReference=e,this.clientId=t,this.publishPath=i,this.enforceMode=o,this.gatewayVersion=n,this.reportingEnabled=s,this.performanceEnabled=r,this.nexusDomain=l,this.reportingFilter=h,this.sendBeaconReportingDisabled=d,this.sendBeacon=u,this.unreportedResources=[],this.reportedResources=[],this.privacyCookies={},this.stats=[],this.statIndex=0,this.REPORT_STRING_BUFFER=50,this.defaultFilteredProtocols=["data"],this.reportingFilter.filteredProtocols.push(...this.defaultFilteredProtocols),
this.protocolRegex=Q.utilities.arrayToRegex(this.reportingFilter.filteredProtocols.map((e)=>ie.formatProtocol(e))),this.filterRegex=new RegExp(this.reportingFilter.alwaysAllowedRegex.toString().replace("/","").replace("/",""),"i"),this.beacons=[],this.options.reportInterval=2500,this.options.requestCount=3,a&&this.setOptions(a),this.setEnvironment(c);e=this.options.maxUrlSize-this.REPORT_STRING_BUFFER;this.maximumUncompressedSize=.13+Math.exp(-3.15E-5*e)*e*(4/3),this.urlPath=`//${this.nexusDomain}/privacy/v1/b/b.rnc`,
this.startTimer()}sendBillingBeacon(){var e=new Q.EnsRequest(""),e=(e.type="billing",e.source="",e.status="",this.compressReportString(this.generateRawReportString([e])));return this.beacon(e.encodedBody,e.rawLength)}generateRawReport(e){var t=0===this.beaconCounter?new B(this.version,this.gatewayVersion,this.clientId,this.publishPath,this.instanceId,this.beaconCounter,this.enforceMode?"enforce":"observe",this.privacyCookies,this.environmentName,document.referrer):new b(this.version,this.gatewayVersion,
this.clientId,this.publishPath,this.instanceId,this.beaconCounter,this.enforceMode?"enforce":"observe",this.privacyCookies,this.environmentName);return t.requests=e,t}generateRawReportString(e){return JSON.stringify(this.generateRawReport(e))}doReport(){this.reportingEnabled&&(this.processUnreportedResources(),this.sendBeacons())}sendBeacons(){if(0<this.options.requestCount)for(let e=0;e<this.options.requestCount;e++){var t,i;0<this.beacons.length&&({data:t,length:i}=this.beacons.shift(),this.beacon(t,
i),this.stats[this.statIndex]&&(this.stats[this.statIndex].written=!0),this.statIndex++)}else 0<this.beacons.length&&(this.beacons.forEach((e)=>{var {data:e,length:t}=e;this.beacon(e,t),this.stats[this.statIndex]&&(this.stats[this.statIndex].written=!0),this.statIndex++}),this.beacons=[])}processUnreportedResources(){var t=this.unreportedResources.map((e)=>JSON.stringify(e).length);let i=0;var o=[];for(let e=0;e<=t.length;e++)if(e===t.length&&0<o.length||i+t[e]>this.maximumUncompressedSize){var n=
o.splice(0,o.length),{encodedBody:s,rawLength:r}=this.compressReportString(this.generateRawReportString(n));if(s.length>this.options.maxUrlSize-this.REPORT_STRING_BUFFER){this.ensLogger.consoleLog(`Reporting beacon compressed length was bigger than the maximum,
                    splitting data into smaller chunks
                    Actual uncompressed Length: ${i}
                    Actual compressed Length: `+s.length),this.ensLogger.consoleLog("Uncompressed: "+n),this.ensLogger.consoleLog("Compressed: "+s);var a=n.splice(0,Math.ceil(n.length/2)),l=(this.unreportedResources=n.reverse().concat(this.unreportedResources),[]);for(l.push(a);0<l.length;){var h,c=l.pop(),{encodedBody:d,rawLength:u}=this.compressReportString(this.generateRawReportString(c));d.length+this.REPORT_STRING_BUFFER<this.options.maxUrlSize?(h=d.length,this.stats.push({rawLength:u,compressedLength:h,
written:!1}),this.beacons.push({data:d,length:u}),this.reportedResources=this.reportedResources.concat(c)):(h=c.splice(0,Math.ceil(c.length/2)),this.unreportedResources=c.concat(this.unreportedResources),l.push(h))}}else{a=s.length;this.stats.push({rawLength:r,compressedLength:a,written:!1}),this.reportedResources=this.reportedResources.concat(n),this.beacons.push({data:s,length:r})}i=0}else o.push(this.unreportedResources.shift()),i+=t[e]}startTimer(){const e=this;if(this.reportingEnabled)return this.doReport(),
setTimeout(function(){e.startTimer()},this.options.reportInterval)}addResource(e){var t;this.reportingEnabled&&this.shouldReportEnsRequest(e.destination,e.status)&&((t=e).source&&(t.source=e.source.substr(0,30)),t.type&&(t.type=e.type.substr(0,30)),t.status&&(t.status=e.status.substr(0,30)),this.unreportedResources.push(t))}shouldReportEnsRequest(e,t){t=(new Set(["blocked","masked","rewrite","redact"])).has(t);return!this.protocolRegex.test(e)&&(t||!this.filterRegex.test(e))}static formatProtocol(e){return e.endsWith(":")?
"^"+e:"^"+e+":"}setCookies(e){this.privacyCookies=e}setOptions(e){for(const t in e)this.options.hasOwnProperty(t)&&(this.options[t]=e[t])}}M(v={img:{elementObserver:!0,processAttribute:["src","srcset"],previousProcessAttribute:["__src","__srcset"],enswatcher:!0},image:{elementObserver:!0,processAttribute:["src","srcset"],previousProcessAttribute:["__src","__srcset"],enswatcher:!0},source:{elementObserver:!0,processAttribute:["src","srcset"],previousProcessAttribute:["__src","__srcset"],enswatcher:!0},
script:{elementObserver:!0,processAttribute:["src"],previousProcessAttribute:["__src"],enswatcher:!0},iframe:{elementObserver:!0,processAttribute:["src"],previousProcessAttribute:["__src"],enswatcher:!0},a:{elementObserver:!0,processAttribute:["href"],previousProcessAttribute:["__href"],featureFlag:"monitorAnchorTags"},form:{processAttribute:["action"],previousProcessAttribute:["__action"],featureFlag:"monitorFormAction"},link:{processAttribute:["href"],previousProcessAttribute:["__href"],featureFlag:"enableCSSMonitoring",
enswatcher:!0},object:{processAttribute:["data"],previousProcessAttribute:["__data"],featureFlag:"enableObjectMonitoring",elementObserver:!0,enswatcher:!0},audio:{processAttribute:["src"],previousProcessAttribute:["__src"],featureFlag:"enableAudioMonitoring",elementObserver:!0,enswatcher:!0},embed:{processAttribute:["src"],previousProcessAttribute:["__src"],featureFlag:"enableEmbedMonitoring",elementObserver:!0,enswatcher:!0},track:{processAttribute:["src"],previousProcessAttribute:["__src"],featureFlag:"enableTrackMonitoring",
elementObserver:!0,enswatcher:!0},video:{processAttribute:["src","poster"],previousProcessAttribute:["__src","__poster"],featureFlag:"enableVideoMonitoring",elementObserver:!0,enswatcher:!0},button:{processAttribute:["formaction"],previousProcessAttribute:["__formaction"],featureFlag:"enableButtonMonitoring",elementObserver:!0,enswatcher:!0},input:{processAttribute:["formaction"],previousProcessAttribute:["__formaction"],featureFlag:"enableInputMonitoring",elementObserver:!0,enswatcher:!0},area:{processAttribute:["href"],
previousProcessAttribute:["__href"],featureFlag:"enableAreaMonitoring",elementObserver:!0,enswatcher:!0},elementObserverTags:[],processElementTags:[],enswatchTags:[]},"elementObserver","elementObserverTags"),M(v,"processAttribute","processElementTags"),M(v,"enswatcher","enswatchTags");const E=v;function M(e,t,i){for(const o in e)void 0!==e[o][t]&&!1!==e[o][t]&&e[i].push(o)}function de(l,h,c){window.ensClientConfig.ensCreateElement=document.createElement;let d=!1;function t(){var e=document,t={attributes:!0,
childList:!0,subtree:!0,characterData:!1};t.attributeFilter=u(l,E),l.isObservingStyle&&t.attributeFilter.push("style"),o.observe(e,t);const s=HTMLImageElement.prototype.setAttribute,r=(HTMLImageElement.prototype.setAttribute=function(e,t,i){let o=t;var n=void 0===this.tagName?null:this.tagName.toLowerCase();return!i&&null!=n&&E[n].processAttribute.includes(e)&&(o=c.processURL(t,n,"HTMLImage_SETATTRIBUTE",Z.utilities.getReferrer())),s.call(this,e,o)},HTMLScriptElement.prototype.setAttribute),n=(HTMLScriptElement.prototype.setAttribute=
function(e,t,i){let o=t;var n=void 0===this.tagName?null:this.tagName.toLowerCase();return!i&&null!=n&&E[n].processAttribute.includes(e)&&(o=c.processURL(t,n,"HTMLScript_SETATTRIBUTE",Z.utilities.getReferrer())),r.call(this,e,o)},HTMLIFrameElement.prototype.setAttribute),a=(HTMLIFrameElement.prototype.setAttribute=function(e,i,t){let o=i;if(!t&&"src"===e||"ng-src"===e){let t=this;Q.utilities.getEnvironmentOverrideOrGlobalDefault(l,h,"removeAllIFrames")?Z.utilities.validateRemoveChild(t)?t.parentNode.removeChild(t):
t=null:c.processURL(i,this.tagName.toLowerCase(),"HTMLIFRAME_SETATTRIBUTE",Z.utilities.getReferrer(),(e)=>(o=e,(Z.utilities.isSafari()||Q.utilities.getEnvironmentOverrideOrGlobalDefault(l,h,"removeIFrameOnBlock"))&&c.isVoidURL(e)&&(Z.utilities.validateRemoveChild(t)?t.parentNode.removeChild(t):t=null),o))}return n.call(this,e,o)},HTMLAnchorElement.prototype.setAttribute);if(HTMLAnchorElement.prototype.setAttribute=function(e,t,i){let o=t;var n=void 0===this.tagName?null:this.tagName.toLowerCase();
return!i&&"href"===e&&null!=n&&Q.utilities.getEnvironmentOverrideOrGlobalDefault(l,h,E[n].featureFlag)&&(o=c.processURL(t,n,"HTMLANCHOR_SETATTRIBUTE",Z.utilities.getReferrer())),a.call(this,e,o)},e=Element.prototype,(t=Object.getOwnPropertyDescriptor(e,"innerHTML")).configurable){const i=t.set;Object.defineProperty(e,"innerHTML",{set:function(e){return i.call(this,c.processHTML("innerHTML",e))}})}}const o=new MutationObserver(function(t){for(let e=0;e<t.length;e++){if(Q.utilities.getEnvironmentOverrideOrGlobalDefault(l,
h,"removeAllIFrames")&&!d){o=i=void 0;var i=document.querySelectorAll("iframe");for(let e=0;e<i.length;e++){var o=i[e];Z.utilities.validateRemoveChild(o)&&o.parentNode.removeChild(o)}d=!0}var n=t[e];if("attributes"===n.type&&c.processElement("mutationObserverA",n.target),"childList"===n.type){var s=n.addedNodes.length;for(let t=0;t<s;t++){let e;e="[object Array]"===Object.prototype.toString.call(n.addedNodes)?n.addedNodes[t]:n.addedNodes.item(t),c.processElement("mutationObserverCL",e)}var r=n.removedNodes.length;
for(let t=0;t<r;t++){let e;var a=(e="[object Array]"===Object.prototype.toString.call(n.removedNodes)?n.removedNodes[t]:n.removedNodes.item(t)).nodeName.toLowerCase();if(-1<E.enswatchTags.indexOf(a.toLowerCase())&&(void 0===E[a].featureFlag||Q.utilities.getEnvironmentOverrideOrGlobalDefault(l,h,E[a].featureFlag))&&Object.isExtensible(e)){e.enswatch||Object.defineProperty(e,"enswatch",Z.utilities.watcher);try{["src","srcset"].forEach((o)=>{e.enswatch(o,function(e,t,i){if(e===o){let t=i;return c.processURL(i,
this.tagName.toLowerCase(),"Removed_NodeModified",Z.utilities.getReferrer(),function(e){t=e}),t}})})}catch(e){}}}}}}),s=HTMLLinkElement.prototype.setAttribute;function u(t,i){const o=[];for(const n in i)Array.isArray(i[n].processAttribute)&&i[n].processAttribute.forEach((e)=>{-1!==o.indexOf(e)||void 0!==i[n].featureFlag&&!Q.utilities.getEnvironmentOverrideOrGlobalDefault(t,h,i[n].featureFlag)||o.push(e)});return o}return HTMLLinkElement.prototype.setAttribute=function(e,t,i){let o=t;var n=void 0===
this.tagName?null:this.tagName.toLowerCase();return!i&&"href"===e&&null!=n&&Q.utilities.getEnvironmentOverrideOrGlobalDefault(l,h,E[n].featureFlag)&&(o=c.processURL(t,n,"HTMLLINK_SETATTRIBUTE",Z.utilities.getReferrer())),s.call(this,e,o)},document.createElement=function(e){const t=Function.prototype.apply.call(window.ensClientConfig.ensCreateElement,document,arguments),n=e.toLowerCase();if(-1<E.enswatchTags.indexOf(n)&&(void 0===E[n].featureFlag||Q.utilities.getEnvironmentOverrideOrGlobalDefault(l,
h,E[n].featureFlag))&&Object.isExtensible(t)){t.enswatch||Object.defineProperty(t,"enswatch",Z.utilities.watcher);try{Array.isArray(E[n].processAttribute)&&E[n].processAttribute.forEach((e)=>{t.enswatch(e,function(e,t,i){let o=i;try{i instanceof URL&&(o=i.href)}catch(e){}return c.processURL(i,this.tagName.toLowerCase(),n+"_DOMAttrModified",Z.utilities.getReferrer(),function(e){o=e}),o})})}catch(e){}}return(l.isObservingStyle||-1<E.processElementTags.indexOf(e))&&((e={attributes:!0,childList:!1,characterData:!1}).attributeFilter=
u(l,E),o.observe(t,e)),t},window.Image=function(e,t){var i=document.createElement("img");return void 0!==e&&i.setAttribute("width",e),void 0!==t&&i.setAttribute("height",t),i},t(),{updateEnvironment:function(e){(h=e)&&t()}}}function ue(t){var s=window.XMLHttpRequest.prototype.open,e=window.XMLHttpRequest.prototype.send,n=Z.utilities.getReferrer();function r(e){return t.processURL(e,"xhr",Z.utilities.apiToSource("xhr"),n)}return window.XMLHttpRequest.prototype.send=function(i){let o=this.url;return void 0!==
this.url&&""!==this.url?t.processURLAndBody(o,i,"xhr",Z.utilities.apiToSource("xhr"),n,function(e,t){o=e,i=t}):o=r(o),e.apply(this,[i])},window.XMLHttpRequest.prototype.open=function(e,t,i,o,n){if((t=r(t))&&"//javascript:;"!==t)return this.url=t,arguments[1]=t,s.apply(this,arguments);this.setRequestHeader=function(){},this.send=function(){}},{resetHandlers:function(){window.XMLHttpRequest.prototype.send=e,window.XMLHttpRequest.prototype.open=s}}}function ge(n,t){const i=window.fetch,e=window.Request;
var o=void 0!==window.fetch&&void 0!==window.Request;const s=Z.utilities.getReferrer();function r(e){e=t?new Error(e+" fetch blocked by privacy-gateway"):e+" fetch blocked by privacy-gateway";return Promise.reject(e)}function a(e){return""!==e&&n.isVoidURL(e)}return o&&(window.fetch=function(e){if("string"==typeof e||e instanceof String){var t=e;if(a(e=n.processURL(e,"fetch",Z.utilities.apiToSource("fetch"),s)))return r(t)}return e instanceof window.Request&&!0===e.ensBlocked?r(""):i.apply(this,arguments)},
window.Request=function(i,o){if(!a(i=i instanceof URL?i.toString():i)&&(o&&o.body?n.processURLAndBody(i,o.body,"request",Z.utilities.apiToSource("request"),s,function(e,t){i=e,o.body=t}):n.processURL(i,"request",Z.utilities.apiToSource("request"),s,function(e){i=e}),!a(i)))return new e(i,o);this.ensBlocked=!0},window.Request.prototype=e.prototype),{resetHandlers:function(){window.fetch=i,void 0!==(window.Request=e)&&(window.Request.prototype=e.prototype)}}}var S=t(2);function pe(a,l){const h=new S.a,
e=["Anchor","Area","Body","Button","Canvas","Div","Form","Frame","Head","Html","IFrame","Input","Label","LI","Link","Map","Object","OList","Option","Paragraph","Pre","Span","Table","TableCell","TableCol","TableRow","TableSection","Template","UList","Unknown"],i=["append","prepend","removeChild"];function t(){Q.utilities.each(e,function(t){window["HTML"+t+"Element"]&&window["HTML"+t+"Element"].prototype?Q.utilities.each(i,function(e){o(window["HTML"+t+"Element"].prototype,e)}):Z.utilities.couldNotBind("HTML"+
t+"Element")})}if((document.insertAdjacentElement||window.Element&&Element.prototype.insertAdjacentElement||window.HTMLElement&&HTMLElement.prototype.insertAdjacentElement)&&i.push("insertAdjacentElement"),window.Node&&window.Node.prototype&&window.Node.prototype.appendChild?Q.utilities.each(["appendChild","insertBefore","replaceChild","removeChild"],Z.utilities.bind(o,null,window.Node.prototype)):Z.utilities.couldNotBind("Node"),window.Element&&window.Element.prototype&&window.Element.prototype.appendChild?
Q.utilities.each(i,Z.utilities.bind(o,null,window.Element.prototype)):Z.utilities.couldNotBind("Element"),Z.utilities.isNative(document.createElement("div").appendChild)){let e=document.createElement("div"),t=0;for(;!Object.prototype.hasOwnProperty.call(e,"appendChild");)if(e=Object.getPrototypeOf(e),5<t++){Z.utilities.couldNotBind("div.appendChild");break}Q.utilities.each(i,Z.utilities.bind(o,null,e)),e=t=null}function o(e,s){if(!e||!e[s]||Z.utilities.isFunctionOverridden(e,s)||e+""=="[Interface prototype object]")return!1;
const r=e[s];try{e[s]=function(){var t=Array.prototype.slice.call(arguments);try{let e=t[0];var i=Object.getPrototypeOf(e)===DocumentFragment.prototype,o=("string"==typeof e&&(e=t[1]),"string"==typeof this.tagName?this.tagName.toLowerCase():""),n="string"==typeof e.tagName?e.tagName.toLowerCase():"";return-1!==E.elementObserverTags.indexOf(o)||-1!==E.elementObserverTags.indexOf(n)||i?l&&"iframe"===n||((e=a.processElement(s,e)).__gateway=null,e)?Function.prototype.apply.call(r,this,t):void 0:(a.getIsObservingStyle()&&
((e=a.processElement(s,e)).__gateway=null),Function.prototype.apply.call(r,this,t))}catch(e){return h.consoleLog("Privacy Gateway Error",e),window.Bootstrapper&&"function"==typeof window.Bootstrapper.reportException&&window.Bootstrapper.reportException(e),Function.prototype.apply.call(r,this,t)}},Z.utilities.markFunctionOverridden(e,s)}catch(e){console.log(e)}}Z.utilities.isNative(document.createElement("div").appendChild)&&t()}var T;function me(e,t){const n=window.navigator.sendBeacon,s=Z.utilities.getReferrer();
return window.navigator.sendBeacon=function(i,o){if(void 0!==n){if("string"==typeof i||i instanceof String){if(-1!==i.indexOf(e))return n.apply(this,[i,o]);if(void 0!==o){if(t.processURLAndBody(i,o,"sendBeacon",Z.utilities.apiToSource("sendBeacon"),s,function(e,t){i=e,o=t}),t.isVoidURL(i))return}else if(i=t.processURL(i,"sendBeacon",Z.utilities.apiToSource("sendBeacon"),s),t.isVoidURL(i))return}return n.apply(this,[i,o])}},{resetHandlers:function(){return window.navigator.sendBeacon=n},sendBeacon:function(e,
t){return window.navigator.sendBeacon(e,t)}}}class fe{constructor(e){this.clientName=e,this.ALLOWED_KEY=e+"_ENSIGHTEN_ALLOWED_URLS",this.BLOCKED_KEY=e+"_ENSIGHTEN_BLOCKED_URLS",this.INTERACTION_KEY=e+"_ENSIGHTEN_INTERACTED_URLS"}isLocalStorageSupported(){try{return"localStorage"in window&&null!=window.localStorage&&"object"==typeof localStorage&&"function"==typeof localStorage.getItem&&"function"==typeof localStorage.setItem}catch(e){return!1}}allowTag(t,i=!0){if(this.validateTag(t)&&this.isLocalStorageSupported()){var o=
this.getAllowedTags();this.isTagIncluded(o,t)||(o.push(t),localStorage.setItem(this.ALLOWED_KEY,JSON.stringify(o)));let e=this.getBlockedTags();return e=e.filter(function(e){return JSON.stringify(e)!==JSON.stringify(t)}),localStorage.setItem(this.BLOCKED_KEY,JSON.stringify(e)),i&&this.consentReporter.addCustomEvent(this.buildTagOptInOptOutEvent(t,1)),t}return this.isLocalStorageSupported()?Error("invalid tag"):Error("Local storage is either disabled or not supported in your browser.")}blockTag(t,
i=!0){if(this.validateTag(t)&&this.isLocalStorageSupported()){var o=this.getBlockedTags();this.isTagIncluded(o,t)||(o.push(t),localStorage.setItem(this.BLOCKED_KEY,JSON.stringify(o)));let e=this.getAllowedTags();return e=e.filter(function(e){return JSON.stringify(e)!==JSON.stringify(t)}),localStorage.setItem(this.ALLOWED_KEY,JSON.stringify(e)),i&&this.consentReporter.addCustomEvent(this.buildTagOptInOptOutEvent(t,0)),t}return Error("invalid tag")}clearTags(){this.isLocalStorageSupported()&&(localStorage.setItem(this.ALLOWED_KEY,
""),localStorage.setItem(this.BLOCKED_KEY,""))}getAllowedTags(){return this.isLocalStorageSupported()&&localStorage.getItem(this.ALLOWED_KEY)?JSON.parse(localStorage.getItem(this.ALLOWED_KEY)):[]}getBlockedTags(){return this.isLocalStorageSupported()&&localStorage.getItem(this.BLOCKED_KEY)?JSON.parse(localStorage.getItem(this.BLOCKED_KEY)):[]}isTagInAllowedList(e){return this.validateTag(e)?this.isTagIncluded(this.getAllowedTags(),e):Error("invalid tag")}isTagInBlockedList(e){return this.validateTag(e)?
this.isTagIncluded(this.getBlockedTags(),e):Error("invalid tag")}setConsentReporter(e){this.consentReporter=e}computeOptInOptOutEvents(t,i,o,n){var s=[],r=this.getInteractedTags();if(!(r instanceof Error)){for(let e=t.length;e--;e){var a=this.hasTagBeenInteractedWith(t[e],o,r,Number(i[e]),Number(n));!a&&i[e]===n||(s.push({event:this.buildTagOptInOptOutEvent(t[e],Number(i[e])),tag:t[e],tagStatus:Number(i[e]),tagStatusChanged:a}),void 0===r[o]&&(r[o]={}),r[o][t[e].displayName]=Number(i[e]))}localStorage.setItem(this.INTERACTION_KEY,
JSON.stringify(r))}return s}getInteractedTags(){return this.isLocalStorageSupported()?localStorage.getItem(this.INTERACTION_KEY)?JSON.parse(localStorage.getItem(this.INTERACTION_KEY)):{}:Error("Local storage is either disabled or not supported in your browser.")}hasTagBeenInteractedWith(e,t,i,o,n){return void 0!==i[t]&&void 0!==i[t][e.displayName]?i[t][e.displayName]!==o:o!==n}buildTagOptInOptOutEvent(e,t){let i;return{event:"cookieChanged",[i=e.hasOwnProperty("displayName")&&null!==e.displayName&&
0<e.displayName.length?e.displayName:e.tag.slice(0,128)]:String(t),dt:Date.now(),isTag:1}}validateTag(e){return e&&e.tag}isTagIncluded(t,i){let o=!1;for(let e=t.length;e--;e)if(t[e].displayName===i.displayName&&t[e].tag===i.tag){o=!0;break}return o}}class ve{constructor(e,t,i){this.featureToggles=e,this.environment=t,this.domProcessor=i,this.ensLogger=new S.a,this.filterSheet=null,this.cssLoadBlocker=null,this.sanitizeCount=0,this.seenUrl=[],this.disabledCssHash={},this.matchURLRegEx=/(url\s*\("?'?)(?=(.[^\(|^\|^"|^')]*))/i,
this.observer=new MutationObserver((e)=>{Q.utilities.each(e,(t)=>{if(0<t.addedNodes.length&&"link"===t.addedNodes[0].localName||"link"===t.attributeName){let e=!1;(e=0<t.addedNodes.length&&0<t.addedNodes[0].classList.length&&"__css_exfil_protection_filtered_styles"===t.addedNodes[0].classList?!0:e)||null!=(t=t.addedNodes[0])&&t.addEventListener("load",()=>{this.scanCssSingle(document.styleSheets[document.styleSheets.length-1])})}})}),this.observerConfig={attributes:!0,childList:!0,subtree:!0,characterData:!0,
attributeFilter:["href"]},this.startObserving=()=>{this.observer.observe(document,this.observerConfig),window.addEventListener("DOMContentLoaded",this.domContentLoadedListener,!1),window.addEventListener("load",this.loadListener,!1)},this.stopObserving=()=>{this.observer.disconnect(),window.removeEventListener("DOMContentLoaded",this.domContentLoadedListener),window.removeEventListener("load",this.loadListener)},this.domContentLoadedListener=()=>{for(let e=0;e<document.styleSheets.length;e++)this.disabledCssHash[window.btoa(document.styleSheets[e].href)]=
document.styleSheets[e].disabled;var e=document.createElement("style");e.innerText=this.buildContentLoadBlockerCSS(),e.className="__tmp_css_exfil_protection_load_blocker",this.cssLoadBlocker=e,document.head.appendChild(this.cssLoadBlocker),this.filterSheet=this.createFilterSheet(),this.incrementSanitize(),this.scanCss()},this.loadListener=()=>{this.decrementSanitize()},this.updateEnvironment=(e)=>{this.environment=e,this.stopObserving(),Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.featureToggles,
this.environment,"enableCSSMonitoring")&&this.startObserving()},this.getCSSRules=(e)=>{let t=null;try{null!=e&&(t=e.rules||e.cssRules)}catch(e){this.ensLogger.consoleLog(e)}return t},this.parseCSSRules=(i)=>{var o=[],n=[];if(null!=i)for(let t=0;t<i.length;t++){null!=i[t].selectorText&&i[t].selectorText.toLowerCase();let e=null;null==(e=null!=i[t].cssText?i[t].cssText.toLowerCase():e)||-1===e.indexOf("url")||-1===e.indexOf("https://")&&-1===e.indexOf("http://")&&-1===e.indexOf("//")||-1!==e.indexOf("xmlns\x3d'http://")||
!0===this.urlAllowed(e,i[t].selectorText)||(o.push(i[t].selectorText),n.push(e))}return null!=o[0]&&null!=i[0]&&this.disableCSS(i[0].parentStyleSheet),[o,n]},this.filterCss=(e,t)=>{for(const i in e)"string"==typeof t[i]&&"function"==typeof t[i].indexOf&&(-1!==t[i].indexOf("background")&&this.filterSheet.sheet.insertRule(e[i]+" { background-image:none !important; }",this.filterSheet.sheet.cssRules.length),-1!==t[i].indexOf("list-style")&&this.filterSheet.sheet.insertRule(e[i]+" { list-style: inherit !important; }",
this.filterSheet.sheet.cssRules.length),-1!==t[i].indexOf("cursor")&&this.filterSheet.sheet.insertRule(e[i]+" { cursor: auto !important; }",this.filterSheet.sheet.cssRules.length),-1!==t[i].indexOf("content"))&&this.filterSheet.sheet.insertRule(e[i]+" { content: normal !important; }",this.filterSheet.sheet.cssRules.length);return this.filterSheet},this.createFilterSheet=()=>(this.filterSheet=document.createElement("style"),this.filterSheet.disabled=!1,this.filterSheet.className="__css_exfil_protection_filtered_styles",
this.filterSheet.innerText="",document.head.appendChild(this.filterSheet),this.filterSheet),this.scanCssSingle=(e)=>{this.filterSheet=document.createElement("style"),this.filterSheet.className="__css_exfil_protection_filtered_styles",this.filterSheet.innerText="",document.head.appendChild(this.filterSheet);var t=this.getCSSRules(e);null==t?(this.incrementSanitize(),this.getCrossDomainCSS(e)):(this.incrementSanitize(),this.handleImportedCSS(t),t=this.parseCSSRules(t),this.filterCss(t[0],t[1]),this.checkCSSDisabled(e)&&
this.enableCSS(e),this.decrementSanitize())},this.scanCss=()=>{var t=document.styleSheets;const i=(e)=>{var t=this.getCSSRules(e);null==t?setTimeout(i,1E3):(this.incrementSanitize(),this.handleImportedCSS(t),t=this.parseCSSRules(t),this.filterCss(t[0],t[1]),this.checkCSSDisabled(e)&&this.enableCSS(e),this.decrementSanitize())};for(let e=0;e<t.length;e++){var o=this.getCSSRules(t[e]),n=t[e];null==o?(this.incrementSanitize(),this.getCrossDomainCSS(n),null==t[e].href?setTimeout(i,1E3,n):(this.incrementSanitize(),
this.getCrossDomainCSS(t[e]))):(this.incrementSanitize(),this.handleImportedCSS(o),n=this.parseCSSRules(o),this.filterCss(n[0],n[1]),this.checkCSSDisabled(t[e])&&this.enableCSS(t[e]),this.decrementSanitize())}},this.handleImportedCSS=(t)=>{if(null!=t)for(let e=0;e<t.length;e++){var i;"[object CSSImportRule]"===Object.prototype.toString.call(t[e])?(this.incrementSanitize(),null==(i=this.getCSSRules(t[e].styleSheet))?this.getCrossDomainCSS(t[e].styleSheet):(i=this.parseCSSRules(i),this.filterCss(i[0],
i[1]),this.decrementSanitize())):e=t.length}},this.urlAllowed=(e,t)=>{e=this.getHTMLUrl(e),e=this.domProcessor.processURL(e,t||"media","CSS_MANAGER",Z.utilities.getReferrer());return!this.domProcessor.isVoidURL(e)},this.getHTMLUrl=(e)=>{e=e.match(this.matchURLRegEx);return e&&2<e.length?e[2]:null},this.getCrossDomainCSS=(o)=>{let n=null,e=null;if(null!=(e=null!=o?o.href:e)){if(-1!==this.seenUrl.indexOf(e))return void this.decrementSanitize();this.seenUrl.push(e)}const t=new XMLHttpRequest;t.open("GET",
e,!0),t.onreadystatechange=()=>{if(4===t.readyState){const i=document.createElement("style");var e;if(i.innerText=t.responseText,document.head.appendChild(i),null!=(n=this.getCSSRules(i.sheet)))return this.handleImportedCSS(n),e=this.parseCSSRules(n),this.filterCss(e[0],e[1]),Z.utilities.validateRemoveChild(i)&&i.parentNode.removeChild(i),this.checkCSSDisabled(o)&&this.enableCSS(o),this.decrementSanitize(),n;setTimeout(function e(){var t;if(null!=(n=this.getCSSRules(i.sheet)))return this.handleImportedCSS(n),
t=this.parseCSSRules(n),this.filterCss(t[0],t[1]),i.disabled=!0,Z.utilities.validateRemoveChild(i)&&i.parentNode.removeChild(i),this.checkCSSDisabled(o)&&this.enableCSS(o),this.decrementSanitize(),n;setTimeout(e,10)},10)}},t.send()},this.disableCSS=(e)=>{null!=e&&(e.disabled=!0)},this.enableCSS=(e)=>{null==e||this.disabledCssHash[window.btoa(e.href)]||(e.disabled=!1,window.dispatchEvent(new Event("resize")))},this.checkCSSDisabled=(e)=>null!=e&&e.disabled,this.disableAndRemoveCSS=(e)=>{null!=e&&(e.disabled=
!0,Z.utilities.validateRemoveChild(e))&&e.parentNode.removeChild(e)},this.incrementSanitize=()=>{this.sanitizeCount=this.sanitizeCount++},this.decrementSanitize=()=>{this.sanitizeCount--,this.sanitizeCount<=0&&this.disableAndRemoveCSS(this.cssLoadBlocker)},this.buildContentLoadBlockerCSS=()=>{return"input,input ~ * { background-image:none !important; list-style: inherit !important; cursor: auto !important; content:'' !important; } input::before,input::after,input ~ *::before, input ~ *::after { content:'' !important; }"},
Q.utilities.getEnvironmentOverrideOrGlobalDefault(e,t,"enableCSSMonitoring")&&this.startObserving()}}(e=T=T||{}).ConfigUpdate="ConfigUpdate",e.Status="status",e.ConfigRequest="ConfigRequest",e.Initialized="Initialized",e.ReportingRequest="ReportingRequest",e.Version="version";var k=T;class ye{constructor(e,t,i,o,n,s){this.gatewayData=e,this.environment=t,this.activeCategories=i,this.allowedTags=o,this.blockedTags=n,this.historyEntryReporter=s,this.ensLogger=new S.a,this.checkServiceWorkerInitialized=
()=>navigator.serviceWorker&&navigator.serviceWorker.controller&&this.isServiceWorkerInitialized,this.shouldProcessThroughServiceWorker=(e,t,i)=>{return!(!this.checkServiceWorkerInitialized()||!["XHR_MANAGER","FETCH_MANAGER","SENDBEACON_MANAGER"].includes(e)&&!["img","image","source","link","xhr","script","iframe","form"].includes(t))&&this.isSameOrigin(t,i)},this.updateMessageHandler=(e)=>{navigator.serviceWorker.addEventListener("message",e)},this.updateServiceWorkerConfig=(e,t,i,o)=>(this.environment=
e,this.activeCategories=t,this.allowedTags=i,this.blockedTags=o,!(!navigator.serviceWorker||!navigator.serviceWorker.controller||(navigator.serviceWorker.controller.postMessage({ensMessageType:k.ConfigUpdate,configObject:this.gatewayData,activeEnvironment:this.environment,activeCategories:this.activeCategories,allowedTags:this.allowedTags,blockedTags:this.blockedTags}),0))),this.updateReporterEntries=(t)=>{for(let e=0;e<t.length;e++)this.historyEntryReporter.createHistoryEntry(t[e].ensRequest,t[e].node),
this.historyEntryReporter.resourceComplete(t[e].node,t[e].ensRequest.id,t[e].status)},this.gatewayData=JSON.parse(JSON.stringify(e)),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",(e)=>{switch(e.data.message){case k.ConfigRequest:this.isServiceWorkerInitialized=!1,this.updateServiceWorkerConfig(this.environment,this.activeCategories,this.allowedTags,this.blockedTags);break;case k.Initialized:this.isServiceWorkerInitialized=e.data;break;case k.ReportingRequest:this.updateReporterEntries(e.data.result);
break;default:this.ensLogger.consoleLog("Unhandled message: "+e.data.message)}}),this.updateServiceWorkerConfig(this.environment,this.activeCategories,this.allowedTags,this.blockedTags)}setServiceWorkerInitialized(e){this.isServiceWorkerInitialized=e}isSameOrigin(e,t){return"iframe"!==e.trim().toLowerCase()||(e=new URL(t),!!window.location.origin.includes(e.origin))}getServiceWorkerVersion(){return!(!navigator.serviceWorker||!navigator.serviceWorker.controller||(navigator.serviceWorker.controller.postMessage({ensMessageType:k.Version}),
0))}}class Ce{constructor(e,t){this.browserHistoryEntryReporter=e,this.serviceWorkerHistoryEntryReporter=t,this.browserHistoryEntryReporter=e,this.serviceWorkerHistoryEntryReporter=t}getHistory(){var e=this.browserHistoryEntryReporter.getHistory();if(null!=this.serviceWorkerHistoryEntryReporter){var t=this.serviceWorkerHistoryEntryReporter.getHistory();if(null!=t.before)for(const n in t.before){var i=t.before[n];e.before[n]=i}if(null!=t.complete)for(const s in t.complete){var o=t.complete[s];e.complete[s]=
o}}return e}}class P{constructor(e,t){this.request=e,this.node=t}}class oe{constructor(e,t){this.history=e,this.reporter=t,this.ensLogger=new S.a,setInterval(this.historyGarbageCollector,250,this)}getHistory(){return this.history}createHistoryEntry(e,t){t.__reference||(this.history.before[e.id]=new P(e,t))}resourceComplete(e,t,i){t=t||e.__gateway;var o=this.history.before[t];if(!o)return!1;o=o.request;o.end=+new Date,o.status=i,this.history.complete[t]=new P(o,e),this.ensLogger.consoleLog("resourceComplete: ",
i,": ",o),this.reporter.addResource(o),delete this.history.before[t]}historyGarbageCollector(e){for(const i in e.history.before){var t;e.history.before.hasOwnProperty(i)&&(t=+new Date,void 0!==e.history.before[i].request)&&5E3<t-e.history.before[i].request.start&&(e.resourceComplete(e.history.before.nodeRef,i,"timeout"),delete e.history.before[i])}}}class x{constructor(e,t){this.featureToggles=e,this.domProcessor=t,this.matchURLRegEx=/(url\s*\("?'?)(?=(.[^\(|^\|^"|^')]*))/i,this.referrer=Z.utilities.getReferrer()}processElementStyle(t,
e){if(this.getIsObservingStyle()&&this.elementHasCSSUrl(t)){const n=this;var i=this.getElementUrl(t),o=t.tagName.toLowerCase();this.domProcessor.processURL(i,o,e,this.referrer,(e)=>{t.style=n.replaceElementStyle(t,e)})}return t.style}processHTMLStyle(i,o){const n=this;var e=/style\s*=/i.test(o);return this.getIsObservingStyle()&&e&&this.htmlHasCSSUrl(o)&&null!=(e=this.findTagsWithStyle(o))&&Q.utilities.each(e,(e)=>{const t=n.getHTMLUrl(e);t&&(e=n.getTagName(e),n.domProcessor.processURL(t,e,i,this.referrer,
(e)=>{o=o.replace(t,e)}))}),o}getIsObservingStyle(){return this.featureToggles.isObservingStyle}replaceElementStyle(e,t){let i=e.getAttribute("style"),o=this.getElementUrl(e);e=o;return o=o.replace(o,t),i=i.replace(e,o)}elementHasCSSUrl(e){var t;return"function"==typeof e.getAttribute&&(t=e.getAttribute("style"),null!=e.tagName)&&null!=t&&null!=(e=t.match(this.matchURLRegEx))&&!this.domProcessor.isVoidURL(e[2])}htmlHasCSSUrl(e){e=e.match(this.matchURLRegEx);return null!=e&&!this.domProcessor.isVoidURL(e[2])}getElementUrl(e){e=
e.getAttribute("style").match(this.matchURLRegEx);return e&&2<e.length?e[2]:null}getHTMLUrl(e){e=e.match(this.matchURLRegEx);return e&&2<e.length?e[2]:null}getTagName(e){e=e.match(/(<\s*(\w*)[^>]+style\s*=\s*(.*?)[^>]*>)/i);return e&&2<e.length?e[2]:null}findTagsWithStyle(e){return e.match(/(<\s*(\w*)[^>]+style\s*=\s*(.*?)[^>]*>)/gi)}}class we extends Q.UrlProcessor{constructor(e,t,i,o,n){super(e,t,i,o),this.events=["load","abort","error"],this.referrer=Z.utilities.getReferrer(),this.styleRequestTracker=
new x(this.gatewayData.featureToggles,this),this.serviceWorkerBridge=n}getIsObservingStyle(){return this.styleRequestTracker.getIsObservingStyle()}processURL(e,t,i,o,n){return this.serviceWorkerBridge&&this.serviceWorkerBridge.shouldProcessThroughServiceWorker(i,t,e)?e:super.processURL(e,t,i,o,n)}processURLAndBody(e,t,i,o,n,s){this.serviceWorkerBridge&&this.serviceWorkerBridge.shouldProcessThroughServiceWorker(o,i,e)||super.processURLAndBody(e,t,i,o,n,s)}processElement(i,o){var e=o.tagName,t=Object.getPrototypeOf(o)===
DocumentFragment.prototype,n=+new Date;if(!t){if(null==e||null===o)return o;this.serviceWorkerBridge&&this.serviceWorkerBridge.checkServiceWorkerInitialized()||this.styleRequestTracker.processElementStyle(o,i);const s=o.tagName.toLowerCase();if(this.hasElementBeenProcessed(o,s))return o;if(o.__gateway=n,(Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"removeIFrameOnBlock")||Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,
this.environment,"removeAllIFrames"))&&"iframe"===s)return this.removeIframe(o);!E[s]||void 0!==E[s].featureFlag&&!Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,E[s].featureFlag)||E[s].processAttribute.forEach((t)=>{var e=o[t];this.serviceWorkerBridge&&this.serviceWorkerBridge.shouldProcessThroughServiceWorker(i,s,e)||this.processElementByAttribute(o,i,t,function(e){o[t]=e,o["__"+t]=o[t]})})}return this.processElementChildren(i,o),0,o}processHTML(i,
e){if(null==e)return e;let o=e;for(const n in E){var t=E[n];void 0===t.processAttribute||void 0!==t.featureFlag&&!Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,E[n].featureFlag)||t.processAttribute.forEach((t)=>{(new RegExp(t+"\\s*\x3d","i")).test(o.toString())&&(o=Z.utilities.handleTrustedHTML(o,(e)=>this.processHTMLAttribute(i,e,[n],t)))})}return o=this.serviceWorkerBridge&&this.serviceWorkerBridge.checkServiceWorkerInitialized()?o:Z.utilities.handleTrustedHTML(o,
(e)=>this.styleRequestTracker.processHTMLStyle(i,e))}processElementChildren(t,e){e.children&&Q.utilities.each(Array.from(e.children),(e)=>{this.processElement(t,e)})}processHTMLAttribute(n,s,e,r){const a="(\x3c\\s*("+e.join("|")+")[^\x3e]+"+r+"\\s*\x3d\\s*(.*?)[^\x3e]*\x3e)";function l(e){return e.match(new RegExp("(\x3c\\s*(iframe)\\s(.*?)*\x3e)(.*?)(\x3c\\s*/\\s*iframe\x3e)+","ig"))}e=(s=Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"removeAllIFrames")&&
l(s)?function(t){var i=l(t);for(let e=0;e<i.length;e++){var o=i[e];t=t.replace(o,"")}return t}(s):s).match(new RegExp(a,"ig"));return e&&Q.utilities.each(e,(e)=>{const i=(t=(t=e).match(new RegExp("\\s*"+r+"\\s*\x3d\\s*('|\")?(.*?)(\\1)(\\s|/\x3e|\x3e|;|$)","i")))&&2<t.length?t[2].trim():null;var t;if(i){const o=(t=(t=e).match(new RegExp(a,"i")))&&2<t.length?t[2]:null;super.processURL(i,o,n,this.referrer,(e)=>{var t;(Z.utilities.isSafari()||Q.utilities.getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,
this.environment,"removeIFrameOnBlock"))&&null!==o&&"iframe"===o.toLowerCase()?(t=/[.*+?^${}()|[\]\\]/g,t="(\x3c\\s*(iframe)[^\x3e]+src\\s*\x3d\\s*(('|\"|`)?"+i.replace(t,"\\$\x26")+")[^\x3e]*\x3e)(.*?)(\x3c\\s*/\\s*iframe\x3e)",t=new RegExp(t,"i"),s=s.replace(t,"")):this.serviceWorkerBridge&&this.serviceWorkerBridge.shouldProcessThroughServiceWorker(n,o,i)||(s=s.replace(i,e))})}}),s}processElementByAttribute(i,e,t,o){var n;return"srcset"===t.toLowerCase()?this.processElementSrcSet(i,e,t,o):(t="string"==
typeof(t=void 0!==t?i[t]:i.src)?t:"",n=i.tagName.toLowerCase(),this.processURLInternal(t,null,n,e,i,this.referrer,o,(t)=>{i.addEventListener?Q.utilities.each(this.events,(e)=>{i.addEventListener(e,this.createEventHandler(t,e),!1)}):i.attachEvent&&Q.utilities.each(this.events,(e)=>{i.attachEvent("on"+e,this.sendBlockReport(t,e,this.referrer))})}))}processElementSrcSet(i,o,e,n){e=i[e];if("string"!=typeof e)return"";{e=e.split(",");const s=i.tagName.toLowerCase();e=e.map((e)=>{var t=e.split(" ")[0],
t=this.processURLInternal(t,null,s,o,i,this.referrer,n,(t)=>{i.addEventListener?Q.utilities.each(this.events,(e)=>{i.addEventListener(e,this.createEventHandler(t,e),!1)}):i.attachEvent&&Q.utilities.each(this.events,(e)=>{i.attachEvent("on"+e,this.sendBlockReport(t,e,this.referrer))})});return this.isVoidURL(t)?"":e}).filter((e)=>""!==e);return 0<e.length?e.reduce((e,t)=>e+", "+t):""}}hasElementBeenProcessed(t,e){let i=!1;return t.__gateway&&(-1===E.processElementTags.indexOf(e)?i=!0:null!=E[e]&&E[e].processAttribute.forEach((e)=>
{t["__"+e]===t[e]&&(i=!0)})),i}removeIframe(e){return Z.utilities.validateRemoveChild(e)&&e.parentNode.removeChild(e),e=null}}class be{constructor(e){this.consentReporter=e,this.measurePageLoadTime()}measurePageLoadTime(){window.addEventListener("load",()=>{let e;var t;e=Z.utilities.isSafari()?Date.now()-performance.timing.navigationStart:(t=performance.getEntriesByType("navigation")[0]).domComplete-t.fetchStart,this.pageLoadTime=e,this.reportPageLoadTime()})}reportPageLoadTime(){var e=this.buildPageLoadEvent();
"number"!=typeof this.pageLoadTime||Number.isNaN(this.pageLoadTime)||(this.consentReporter.addCustomEvent(e),this.consentReporter.sendReport())}buildPageLoadEvent(){return{dt:Date.now(),pageLoadTime:this.pageLoadTime,event:"pageLoad"}}}const N=function(n){let i={},e,t,o,s,r,a,l,h,c,d,u,g,p={},m,f,v,y,C,w,b,E,N,I,M;const S={};Q.utilities.isWhitelist(n,c)&&(n.whitelist.default=n.whitelist.default||[],n.whitelist.default.push({tag:$.proxyDNS})),n.featureToggles.disableDefaultStyles=void 0!==n.featureToggles.disableDefaultStyles&&
n.featureToggles.disableDefaultStyles,n.featureToggles.useLocalTemplates=void 0===n.featureToggles.useLocalTemplates||n.featureToggles.useLocalTemplates,n.featureToggles.overridePublicSuffixEnabled=void 0!==n.featureToggles.overridePublicSuffixEnabled&&n.featureToggles.overridePublicSuffixEnabled,M=new re(n.featureToggles.useLocalTemplates),n.featureToggles.enableDataMonitoring=n.featureToggles.enableDataMonitoring||!1,n.featureToggles.enableGoogleConsent=n.featureToggles.enableGoogleConsent||!1;
for(const x in["enableObjectMonitoring","enableAudioMonitoring","enableEmbedMonitoring","enableTrackMonitoring","enableVideoMonitoring"])n.featureToggles[x]=void 0===n.featureToggles[x]||n.featureToggles[x];n.featureToggles.objectFetchRejection=n.featureToggles.objectFetchRejection||!1,n.featureToggles.disableXHRManager=n.featureToggles.disableXHRManager||!1,n.featureToggles.disableSendBeaconReporting=void 0===n.featureToggles.disableSendBeaconReporting||n.featureToggles.disableSendBeaconReporting,
n.featureToggles.useCategoryNameInExternalConsentNotifications=void 0!==n.featureToggles.useCategoryNameInExternalConsentNotifications&&n.featureToggles.useCategoryNameInExternalConsentNotifications,p.openModal=function(){throw!1===u?new Error("Ensighten API Error: No gateway environment found, the modal cannot work without it."):new Error("Ensighten API Error: You must first register your modal before you can call it. Use Bootstrapper.gateway.setOpenModal to register a function that opens your modal.");
},p.isEnabledConsentModal=function(e){return(e&&e.hasOwnProperty("enableConsentModal")?e:n.featureToggles).enableConsentModal};const T={before:{},complete:{}},U={before:{},complete:{}};I={clientName:n.info.name,enableFiltering:n.featureToggles.enableFiltering};function F(e){d.initializeActiveEnvironment(),e.whitelist&&e.whitelist.default&&e.whitelist.default.push({tag:$.proxyDNS}),k(e),"function"==typeof p.update&&p.update(e),null!==i&&void 0!==i&&i.update(e),Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,
e,"consentWidget")&&r.update(e),h.setEnvironment(e),m.setEnvironment(e);var t=A(e);null!=v&&v.updateEnvironment(e),y.updateEnvironment(e),w.updateEnvironment(e,l.getCategoryMapFromCookieTypes(t),f.getAllowedTags(),f.getBlockedTags()),C&&C.updateServiceWorkerConfig(e,l.getCategoryMapFromCookieTypes(t),f.getAllowedTags(),f.getBlockedTags())}function k(e){c=e,S.environment=e}const A=(e)=>{let t=[];return t=e&&e.optVals?Object.keys(e.optVals):t};function _(){var e={version:"2.3.712"};return e.version}
const R={getCookie:function(e){return l.getCookie(e)},setCookie:function(i,o,n){return J(this,void 0,void 0,function*(){var e=l.getCookiesFromTypes([i]),t=(yield l.setCookie(i,o,n),l.getCookiesFromTypes([i]));null!=h&&h.sendReport(e,t),p&&p.updateCheckboxes&&(p.updateCheckboxes(c),p.updateTagSlides)&&p.updateTagSlides(c,i,parseInt(o)),console.warn("The setCookie api is deprecated - use the setConsentStatus APIs instead")})},setCookies:function(s,r){return J(this,void 0,void 0,function*(){var e=[];
for(const o in s)e.push(o);var t=l.getCookiesFromTypes(e),i=(yield l.setCookies(s,r),l.getCookiesFromTypes(e));if(null!=h&&h.sendReport(t,i),p&&p.updateCheckboxes&&(p.updateCheckboxes(c),p.updateTagSlides))for(const n in s)p.updateTagSlides(c,n,s[n]);console.warn("The setCookies api is deprecated - use the setConsentStatuses APIs instead")})},saveTcf:function(i,o,n){return J(this,void 0,void 0,function*(){var e=l.getCookiesFromTypes([i]),t=(yield l.setCookie(i,o,n),l.getCookiesFromTypes([i]));null!=
h&&h.sendReport(e,t),p&&p.updateCheckboxes&&(p.updateCheckboxes(c),p.updateTagSlides)&&p.updateTagSlides(c,i,parseInt(o))})},getCookieTypes:function(){return n.cookieTypes},calculateCookieDomain:function(e,t){return X.calculateCookieDomain(e,t,n.suffi)},setCookieDomain:function(e){l.setCookieDomain(e)},getCookieDomain:function(){return l.getCookieDomain()},setCookieDomainPath:function(e){l.setCookieDomainPath(e)},getCookieDomainPath:function(){return l.getCookieDomainPath()},setCookieRetentionPeriod:(e)=>
{l.setDefaultCookieRetentionPeriod(e)}};let H=!0,L=!1;if(l=X.build(n.info.name,n.featureToggles.overridePublicSuffixEnabled,n.suffixOverrides,n.getCookie,n.setCookie),f=new fe(n.info.name),d=new ne(document,n.environmentConfigs,n.defaultEnv,n.info.name,l,n.featureToggles.enableAsyncEnvironments,n.info.nexus,n.info.publishPath),!0===n.featureToggles.enableEnvironmentMatching&&null==d.getActiveEnvironment())H=!1;else{var q,z,O=d.getActiveEnvironment(),D=A(O),B=(k(O),d.registerEnvironmentChangeCallback(F),
l.getCategoryMapFromCookieTypes(D)),B=(g=new Q.ListProcessor(c,n,B,f.getAllowedTags(),f.getBlockedTags()),{alwaysAllowedRegex:/a^/,filteredProtocols:[]}),B=(!1===n.featureToggles.enableAllowedDomainsReporting&&(B.alwaysAllowedRegex=g.getAlwaysAllowedListRegex()),B.filteredProtocols=ensClientConfig.filteredProtocols||[],(m=new ie(window.Image,n.info.clientId,n.info.publishPath,n.featureToggles.enableFiltering,_(),n.featureToggles.enableReporting,n.featureToggles.enablePerformanceModeReporting,n.reportingOptions||
{maxUrlSize:32E3,reportInterval:2500,requestCount:3},n.info.reporting||n.info.nexus,B,c,n.featureToggles.disableSendBeaconReporting,null)).setCookies(G()),Z.utilities.domReady(function(){m.sendBillingBeacon()}),b=new oe(T,m),E=new oe(U,m),n.featureToggles.enableServiceWorker&&"serviceWorker"in navigator&&(E=new oe(U,m),C=new ye(n,c,l.getCategoryMapFromCookieTypes(D),f.getAllowedTags(),f.getBlockedTags(),E),d.registerEnvironmentChangeCallback(()=>{var e=d.getActiveEnvironment(),t=A(e),t=l.getCategoryMapFromCookieTypes(t);
C.updateServiceWorkerConfig(e,t,f.getAllowedTags(),f.getBlockedTags())})),w=new we(n,c,b,g,C),d.registerEnvironmentChangeCallback(()=>{var e=d.getActiveEnvironment(),e=A(e),e=l.getCategoryMapFromCookieTypes(e);w.updateListValues(e,f.getAllowedTags(),f.getBlockedTags())}),c?(u=!0,h=new se(window.Image,c.name||"",n.libraryPackage,c.optVals,n.info.clientId,n.info.name,n.info.publishPath,Q.utilities.isWhitelist(n,c)?"whitelist":"blacklist",n.cookieTypes,_(),n.featureToggles.enableReporting,l,n.info.reporting||
n.info.nexus,n.onConsent,n.featureToggles.disableSendBeaconReporting,null,n.featureToggles.useCategoryNameInExternalConsentNotifications),f.setConsentReporter(h),Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,c,"enableConsentModal")&&(a=new ae(n,c,g,l,h,w.updateListValues,M,f,d),p=a.getConsentModal()),s=new he(h,w.updateListValues,l,f,n,c),Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,c,"enableTagKiller")&&(N=new be(h)),Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,
c,"enableDoNotSellModal")&&(e=new te(l,w.updateListValues,h,c,n,"doNotSellModal",s,M,f,d)),Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,c,"enableRequestDataModal")&&(t=new te(l,w.updateListValues,h,c,n,"requestDataModal",s,M,f,d)),Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,c,"enableDeleteDataModal")&&(o=new te(l,w.updateListValues,h,c,n,"deleteDataModal",s,M,f,d)),i=new le(g,n,c,p,l,h,M,w.updateListValues,f,d),Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,
c,"consentWidget")&&(r=new ce(d,c,n,M))):u=!1,!1===n.featureToggles.disableXHRManager&&(ue(w),ge(w,n.featureToggles.objectFetchRejection),me(n.info.nexus||"nexus.ensighten.com",w)),v=new ve(n.featureToggles,c,w),y=new de(n.featureToggles,c,w),Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,O,"removeAllIFrames")||Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,O,"removeIFrameOnBlock"));pe(w,B);{var W=w;const K=document.write;document.write=function(){let e="";
for(var t=0;t<arguments.length;t++)e+=W.processHTML("write",arguments[t]);return Function.prototype.call.call(K,document,e),e},Z.utilities.isNative(document.write)}if(q=w,z=document.writeln,document.writeln=function(){for(var e="",t=0;t<arguments.length;t++)e+=q.processHTML("writeln",arguments[t]);return Function.prototype.call.call(z,document,e),e},Z.utilities.isNative(document.writeln),Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,c,"enableWindowOpenOverride")){var j=w;const Y=
window.open;window.open=(...e)=>{let t=e[0];null!=t&&(j.processURL(t,"windowOpen","Window_Open_Called",Z.utilities.getReferrer(),function(e){t=e}),e[0]=t);try{return Y.apply(null,e)}catch(e){}}}Z.utilities.unbound.script=document.all&&!document.addEventListener,L=!0}if(!H)return{isInitialized:L=!1};function G(){const i={};function t(e){var t=R.getCookie(e);void 0!==t&&(i[e]=t)}var o=R.getCookieTypes();for(let e=0;e<o.length;e++)t(o[e]);return t("MODAL_VIEWED"),t("MODAL_LOADED"),t("BANNER_VIEWED"),
t("BANNER_LOADED"),t("LOCALE"),i}const P=function(){var e=d.getActiveEnvironment(),t=A(e),t=l.getCategoryMapFromCookieTypes(t);h.sendReport(),w.updateListValues(t,f.getAllowedTags(),f.getBlockedTags()),C&&C.updateServiceWorkerConfig(e,t,f.getAllowedTags(),f.getBlockedTags())};function V(e,t){n.enableBotAndFraudProtection=!0,n.enableBotAndFraudProtectionReason=t;const i={};for(let e=0;e<n.cookieTypes.length;e++){var o=n.cookieTypes[e];i[o]=0}t=i,w.updateListValues(t,f.getAllowedTags(),f.getBlockedTags()),
t=i,C&&C.updateServiceWorkerConfig(d.getActiveEnvironment(),t,f.getAllowedTags(),f.getBlockedTags()),ee.fireConsentChangeCallbacks(()=>i)}D=Q.utilities.getEnvironmentOverrideOrGlobalDefault(n.featureToggles,c,"honorGlobalPrivacyControl");return null!=D&&D&&null!=navigator.globalPrivacyControl&&navigator.globalPrivacyControl&&(Q.utilities.getEnvironmentOverrideOrGlobalDefault(n,c,"globalPrivacyControlCategories"),V(0,"GPC")),S.isInitialized=L,S.templateManager=M,S.cookieModal=p,S.consentCookies=R,
S.banner=i,S.closeBanner=function(){try{i.closeEnsBanner()}catch(e){throw new Error("Ensighten API error:  Your banner is not initialized in your client config "+e);}},S.environment=d.activeEnvironment,S.environmentManager=d,S.getLog=function(){var e=[{location:window.location.href||null},{cookie:document.cookie||null}];if(window.JSON){for(const t in T.complete)e.push({resource:T.complete[t].request});console&&console.dir&&console.dir(e),alert(JSON.stringify(e))}},S.getList=function(){var e=g.getList();
return f.isLocalStorageSupported()&&(e.CUSTOM_ALLOW=f.getAllowedTags(),e.CUSTOM_BLOCK=f.getBlockedTags()),e},S.getVersion=_,S.getHistory=()=>{return(new Ce(b,E)).getHistory()},S.history=T,S.isWhitelist=function(){return Q.utilities.isWhitelist(n,c)},S.allowTag=function(e){return f.allowTag(e),P(),e},S.blockTag=function(e){return f.blockTag(e),P(),e},S.clearTags=function(){f.clearTags(),P()},S.modal=p,S.sendCCPAEvent=function(e,t){try{s.sendCCPAEvent(e,t)}catch(e){throw!1===u?new Error("Ensighten API Error: No gateway environment found, the modal cannot work without it."+
e):new Error("Ensighten API error:  Your modal is not initialized in your client config "+e);}},S.doNotSellModal=e,S.openDoNotSellModal=function(){try{e.openModal()}catch(e){throw!1===u?new Error("Ensighten API Error: No gateway environment found, the do not sell modal cannot work without it."+e):new Error("Ensighten API error: Your do not sell modal is not initialized in your client config "+e);}},S.requestDataModal=t,S.openRequestDataModal=function(){try{t.openModal()}catch(e){throw!1===u?new Error("Ensighten API Error: No gateway environment found, the request data modal cannot work without it."+
e):new Error("Ensighten API error: Your request data modal is not initialized in your client config "+e);}},S.deleteDataModal=o,S.openDeleteDataModal=function(){try{o.openModal()}catch(e){throw!1===u?new Error("Ensighten API Error: No gateway environment found, the delete data modal cannot work without it."+e):new Error("Ensighten API error: Your delete data modal is not initialized in your client config "+e);}},S.openBanner=function(){try{i.openEnsBanner()}catch(e){throw!1===u?new Error("Ensighten API Error: No gateway environment found, the banner cannot work without it."+
e):new Error("Ensighten API error:  Your banner is not initialized in your client config "+e);}},S.openModal=function(){try{p.openModal()}catch(e){throw!1===u?new Error("Ensighten API Error: No gateway environment found, the modal cannot work without it."+e):new Error("Ensighten API error:  Your modal is not initialized in your client config "+e);}},S.closeModal=function(){try{p.closeModal()}catch(e){throw!1===u?new Error("Ensighten API Error: No gateway environment found, the modal cannot work without it."+
e):new Error("Ensighten API error:  Your modal is not initialized in your client config "+e);}},S.options=I,S.reporter=m,S.resetEnvironment=()=>J(this,void 0,void 0,function*(){yield l.deleteCookie("LOCALE"),d.setEnvironment(),k(d.getActiveEnvironment())}),S.setOpenModal=function(e){p.openModal=e,n.featureToggles.enableConsentModal&&(e=document.getElementById("ensModalWrapper"),Z.utilities.validateRemoveChild(e))&&e.parentElement.removeChild(e)},S.setOpenBanner=function(e){i.customElementSet=!0,i.openEnsBanner=
e,e=document.getElementById("ensNotifyBanner"),Z.utilities.validateRemoveChild(e)&&e.parentElement.removeChild(e)},S.getUserPreferences=()=>{var e=d.getActiveEnvironment(),t=A(e),i=l.getCategoryMapFromCookieTypes(t);for(const o of Object.keys(i))null==i[o]&&(i[o]=e.optVals[o].toString());return i},S.getUserPreference=(e)=>{var t=d.getActiveEnvironment(),i=l.getCookie(e);console.warn("The getUserPreference api is deprecated - use the getConsentStatus APIs instead");let o;return o=null!=i?i:t.optVals[e]},
S.updatePreferences=P,S.getPrivacyCookies=G,S.enableCSSMonitoring=!0===n.featureToggles.enableCSSMonitoring,S.monitorFormAction=!0===n.featureToggles.monitorFormAction,S.monitorAnchorTags=!0===n.featureToggles.monitorAnchorTags,S.blockAllCategories=function(e){V(n.cookieTypes,e)},S.getServiceWorkerVersion=null===C||void 0===C?void 0:C.getServiceWorkerVersion,S.enableBotAndFraudProtectionReason=n.enableBotAndFraudProtectionReason,S.getSuffix=$.getSuffix,S.calculateCookieDomain=X.calculateCookieDomain,
S.addCustomReportingEvent=function(e){h.addCustomEvent(e)},S.registerConsentChangeCallback=p.constructor.registerConsentChangeCallback,S}}])},4096111,[4096943,4096110],767629,[767627,767628]);TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;const privacyNamespace=(()=>{const prehideConsentBanner=()=>{$("head").append(`<style class="ens-consent-prehide">
            #ensModalWrapper {
                display: none !important;
            }
        </style>`)};function getCookie(name){const value=`; ${document.cookie}`;const parts=value.split(`; ${name}=`);if(parts.length===2)return parts.pop().split(";").shift();return null}function setCookie(name,value,days){let expires="";if(days){const date=new Date;date.setTime(date.getTime()+days*24*60*60*1E3);expires="; expires\x3d"+date.toUTCString()}document.cookie=name+"\x3d"+(value||"")+expires+"; path\x3d/"}const checkConsentModalViewed=()=>{if(getCookie&&setCookie)return getCookie("DELTA_ENSIGHTEN_PRIVACY_MODAL_VIEWED")===
"1";else{console.error("Ensighten Privacy: Missing cookie util functions.");return false}};const showConsentBanner=()=>{$(`<div class="ens-consent-banner">
            <div class="ens-content">
                <div class="ens-copy lg">
                    To improve your online experience, we use cookies for enhanced functionality and advertising.<br>We recommend allowing these functions for the best experience possible.
                </div>
                <div class="ens-copy sm">
                    To improve your online experience, we use cookies for enhanced functionality and advertising. We recommend allowing these functions for the best experience possible.
                </div>
                <div class="ens-buttons">
                    <button class="ens-settings">SETTINGS</button>
                    <button class="ens-reject">REJECT ALL</button>
                    <button class="ens-accept">ACCEPT ALL</button>
                </div>
            </div>
        </div>
        <style>
        .cookie-footer { 
            display: none !important; 
        }
        </style>`).insertAfter("#ensModalWrapper")};const handleConsentActions=()=>{$(document).on("click",".ens-accept",function(){$("#AdvertisingSlide").prop("checked",true);$("#ensSaveText").trigger("click");$(".ens-consent-banner").hide();trackConsentEvent("GDPR Consent Banner Preferences Saved","Opt-Out")});$(document).on("click",".ens-reject",function(){$("#AdvertisingSlide").prop("checked",false);$("#ensSaveText").trigger("click");$(".ens-consent-banner").hide();trackConsentEvent("GDPR Consent Banner Preferences Saved",
"Opt-Out")});$(document).on("click",".ens-settings",function(){$(".ens-consent-banner").hide();$(".ens-consent-prehide").remove()})};const trackConsentEvent=(message,optOut)=>{if(window.s){s.clearVars();s.linkTrackVars="prop1,events,eVar159";s.linkTrackEvents="events,event257";s.eVar159=optOut;s.events="event257";s.prop1=message;s.tl(this,"o",s.prop1)}else if(window.webSDK){webSDK.linkTrackVars="prop1,events,eVar159";webSDK.linkTrackEvents="events,event257";webSDK.eVar159=optOut;webSDK.events="event257";
webSDK.prop1=message;webSDK.sendEvent()}};const updateEnsightenModal=()=>{$(".ensToggleRowWrapper").prepend(`
            <div class="ensToggleRow display">
                <label class="ensToggleLabel">Required Cookies</label>
                <div class="description">Required cookies are essential to provide basic and enhanced website functionality and performance for the services you've requested and the choices you've made. <a class="ensExpand">Read more about required cookies.</a></div>
            </div>`);$(".ensToggleRowWrapper").append(`
            <div class="ensToggleRow extraInfo">
                <label class="ensToggleLabel">Required Cookies</label>
                <div class="description">
                    <ul>
                        <li>Collect information in aggregate on how customers use our website to help us fix technical issues and highlight areas where we can streamline navigation</li>
                        <li>Customize our website content by remembering the user's choices such as language, country, and text size</li>
                        <li>Improve the operational performance of our website</li>
                    </ul>
                </div>
            </div>
            <div class="ensToggleRow extraInfo">
                <label class="ensToggleLabel">Advertising</label>
                <div class="description">
                    <ul>
                        <li>Provide personalized digital advertising</li>
                        <li>Show you relevant offers</li>
                        <li>Track website activity that may be pertinent to provide relevant advertising</li>
                    </ul>
                </div>
            </div>`);$(".ensToggleRow:nth-child(2) \x3e .description").append(' \x3ca class\x3d"ensExpand"\x3eRead more about Advertising cookies.\x3c/a\x3e');$(document).on("click",".ensExpand",function(){$(".ensToggleRow.extraInfo").addClass("display")})};const setEnsPrivacy=()=>{window.ensPrivacy="false";window.urlsToTest=["alaCarteCheckout","assign","custlogin","/mydelta/walletStoredPayment","passengerinfo.action","reviewFlight.action","PCCOciweb","PCCOciWeb","profile","login","review-pay","express-checkout"];
for(let i=0;i<window.urlsToTest.length;i++)if(document.location.href.indexOf("/profile/enrolllanding.action")>-1||document.location.href.indexOf("/join-skymiles")>-1||document.location.href.indexOf("/mydelta/dashboard?from\x3dsmenrollment")>-1||document.location.href.indexOf("seat-map")>-1||document.location.href.indexOf("complete-purchase/confirmation")>-1)window.ensPrivacy="false";else if(document.location.href.indexOf(window.urlsToTest[i])>-1){window.ensPrivacy="true";gateway.resetEnvironment();
break}};const waitForOnetrustActiveGroups=()=>{const maxTimeout=1E4;const interval=1E3;let elapsedTime=0;const checkOnetrust=setInterval(()=>{if(typeof window.OnetrustActiveGroups!=="undefined"){clearInterval(checkOnetrust);handleOnetrustActiveGroups(window.OnetrustActiveGroups)}else if(elapsedTime>=maxTimeout){clearInterval(checkOnetrust);console.log("Timeout waiting for OnetrustActiveGroups.")}elapsedTime+=interval},interval)};const handleOnetrustActiveGroups=(activeGroups)=>{const groupsArray=
activeGroups.split(",").filter(Boolean);const categoryMapping={"C0001":"C0001","C0002":"C0002","C0003":"C0003","C0004":"C0004"};const activeCategories=groupsArray.map((group)=>categoryMapping[group]).filter(Boolean);if(activeCategories.includes("C0001"))console.log("C0001 is Necessary.");if(activeCategories.includes("C0002"))console.log("C0002 is Analytics.");if(activeCategories.includes("C0003"))console.log("C0003 is Enhanced Functionality.");if(activeCategories.includes("C0004"))console.log("C0004 is Advertising.");
gateway.resetEnvironment()};const init=()=>{if(window.location.href.indexOf("debug")>0)debugger;prehideConsentBanner();waitForOnetrustActiveGroups();$(window).on("load",function(){if(!checkConsentModalViewed()){showConsentBanner();handleConsentActions();updateEnsightenModal()}});$(document).on("edl-ready",setEnsPrivacy);$(document).on("click","#ensModalWrapper",function(event){if(event.target===this)$(this).hide()});$(document).on("click",".ensModal",function(event){event.stopPropagation()});$(document).on("click",
"#ensSave",function(){trackConsentEvent("GDPR Consent Modal Preferences Saved","Opt-Out")})};return{init:init}})();privacyNamespace.init()},4097446,767631);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;Bootstrapper.scDataObj["language"]=Bootstrapper.data.extract("pref","cookie");Bootstrapper.scDataObj["mobile"]=Bootstrapper.data.extract("mobile","cookie");if(window.loginData&&typeof window.loginData.loggedIn!="undefined")Bootstrapper.scDataObj["loggedIn"]=window.loginData.loggedIn},3220801,460988);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;TMS.registerDataDefinition(function(){TMS.data.define({extract:function(){return window.idp&&window.idp.dataLayer&&window.idp.dataLayer.digitalData&&window.idp.dataLayer.digitalData.user&&window.idp.dataLayer.digitalData.user.profile&&window.idp.dataLayer.digitalData.user.profile.profileInfo&&window.idp.dataLayer.digitalData.user.profile.profileInfo.email||""},transform:function(val){return val},
load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Visitor Hashed Email",collection:"global",source:"Manage",priv:"false"},{id:"69910"})},69910)},-1,-1);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;if(document.location.href.indexOf("www.delta.com")>-1&&document.location.href.length===22){var meta=document.createElement("meta");meta.name="apple-itunes-app";meta.content="app-id\x3d388491656";document.getElementsByTagName("head")[0].appendChild(meta)}},4079237,733363);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;TMS.registerDataDefinition(function(){TMS.data.define({extract:function(){try{return Bootstrapper.data.extract("mobile","cookie")}catch(e){return"error"}},transform:function(v){return v},dataDefName:"Mobile Flag",collection:"Cookie Data",source:"Manage",priv:"false"},{id:"1349"})},1349)},-1,-1);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;(function(lib,bs,doc){var publishDataLayer=function(dataLayer){if(!dataLayer)return;var tagID="edl-ready";Bootstrapper.tagflag=Bootstrapper.tagflag||[];if(Bootstrapper.tagflag[tagID]){Bootstrapper.tagflag[tagID]=++Bootstrapper.tagflag[tagID];return}else Bootstrapper.tagflag[tagID]=1;bs.dataManager.pushObject(dataLayer,"ddl","Delta data layer");setTimeout(function(){document.dispatchEvent(new Event("edl-ready",
{"bubbles":true}));bs.isEDLReady=true},1E3)};bs.ddlReady=function(){var dataLayer=delta&&delta.dataLayer&&delta.dataLayer.digitalData||idp&&idp.dataLayer&&idp.dataLayer.digitalData,returnDate,flightType;if(!dataLayer)return;if(dataLayer.attributes)dataLayer.attributes.derived={};else{dataLayer.attributes={};dataLayer.attributes.derived={}}if(dataLayer.cart&&dataLayer.cart.item&&dataLayer.cart.item.length){for(var j=0;j<dataLayer.cart.item.length;j++)if(dataLayer.cart.item[j]&&dataLayer.cart.item[j].productInfo&&
dataLayer.cart.item[j].productInfo.flightType&&dataLayer.cart.item[j].productInfo.productType)if(dataLayer.cart.item[j].productInfo.productType==="Flight"&&dataLayer.cart.item[j].productInfo.flightType==="RETURN"){returnDate=dataLayer.cart.item[j].productInfo.arrivalDate;flightType="Roundtrip"}else if(dataLayer.cart.item[j].productInfo.productType==="Flight"&&dataLayer.cart.item[j].productInfo.flightType==="FLIGHT 2"){returnDate=dataLayer.cart.item[j].productInfo.arrivalDate;flightType="MultiCity"}dataLayer.attributes.derived.returnDate=
returnDate?returnDate:dataLayer.cart.item[0]&&dataLayer.cart.item[0].productInfo&&dataLayer.cart.item[0].productInfo.arrivalDate||"";dataLayer.attributes.derived.flightType=flightType?flightType:"One-Way"}if(dataLayer.user&&dataLayer.user.profile&&dataLayer.user.profile[0]&&dataLayer.user.profile[0].attributes&&dataLayer.user.profile[0].attributes.skymilesNumber)bs.loadScriptCallback("//content.delta.com/content/dam/delta-applications/opinion-lab/core-min.js",function(){bs.loadScriptCallback("//content.delta.com/content/dam/delta-applications/opinion-lab/md5-min.js",
function(){dataLayer.attributes.derived.skyMilesNumberHashed=CryptoJS.MD5(dataLayer.user.profile[0].attributes.skymilesNumber).toString();publishDataLayer(dataLayer)})});else publishDataLayer(dataLayer)}})(jQuery,Bootstrapper,document)},3364852,328107);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;TMS.registerDataDefinition(function(){TMS.data.define({extract:function(){return true},transform:function(val){return val},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"true",collection:"global",source:"Manage",priv:"false"},{id:"67676"})},67676)},-1,-1);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;TMS.registerDataDefinition(function(){TMS.data.define({extract:function(){var pageURL=document.location.href;if(pageURL.indexOf("zh.delta")>0||pageURL.indexOf("zt.delta")>0||pageURL.indexOf(".com/cn/en")>0)return true;else return false},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"ZH-ZT Domain Exclusion",collection:"User",source:"Manage",
priv:"false"},{id:"56496"})},56496)},-1,-1);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;TMS.registerDataDefinition(function(){TMS.data.define({extract:function(){var canonical=$('link[rel\x3d"canonical"').attr("href")||"";if(canonical.indexOf("/en_US/errors/404")>0)return true;else return false},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"404_Page",collection:"Page",source:"Manage",priv:"false"},{id:"65660"})},65660)},
-1,-1);
TMS.bindImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;Bootstrapper.Cookies=function(){var _public={};_public.domain="delta.com"||window.location.hostname;_public.path=""||"/";_public.get=function(name){for(var b=document.cookie.split(";"),d=0;d<b.length;d++){var e=b[d].replace(/^\s+/,"").split("\x3d");if(e[0]===name){e.shift();return decodeURIComponent(e.join("\x3d"))}}};_public.set=function(name,value,expires,options){options=options||{};var attributes=[],
is_secure=window.location.protocol==="https:";options.SameSite=options.SameSite||(is_secure?"None":"Lax");if(expires)attributes.push("expires\x3d"+expires);if(_public.path)attributes.push("path\x3d"+_public.path);attributes.push("domain\x3d"+_public.domain);if(is_secure)attributes.push("Secure");Object.keys(options).forEach(function(a){attributes.push(a+"\x3d"+options[a])});document.cookie=name+"\x3d"+encodeURIComponent(value)+";"+attributes.join(";");return _public.get(name)===value};_public.test=
function(name){return!!_public.get(name)};_public.remove=function(name){_public.set(name,"",(new Date(0)).toUTCString());return!_public.get(name)};return _public}();Bootstrapper.on=Bootstrapper.Delegate||Bootstrapper.on||(!function(){function e(e){return a||(e.matches&&(a=e.matches),e.webkitMatchesSelector&&(a=e.webkitMatchesSelector),e.mozMatchesSelector&&(a=e.mozMatchesSelector),e.msMatchesSelector&&(a=e.msMatchesSelector),e.oMatchesSelector&&(a=e.oMatchesSelector),a||(a=i.matchesSelector)),a}function t(n,
r,o){if("_root"==r)return o;if(n!==o){try{if(e(n).call(n,r))return n}catch(i){if(a=null,e(n).call(n,r))return n}if(n.parentNode)return c++,t(n.parentNode,r,o)}}function n(e,t,n,r){l[e.id]||(l[e.id]={}),l[e.id][t]||(l[e.id][t]={}),l[e.id][t][n]||(l[e.id][t][n]=[]),l[e.id][t][n].push(r)}function r(e,t,n,r){if(!r&&!n){l[e.id][t]={};return}if(!r){delete l[e.id][t][n];return}for(var o=0;o<l[e.id][t][n].length;o++)if(l[e.id][t][n][o]===r){l[e.id][t][n].pop(o,1);break}}function o(e,o,a,f){function u(e){return function(n){!function e(n,
r,o){if(l[n][o]){var a,f,u=r.target||r.srcElement,h={},p=0,d=0;for(a in c=0,l[n][o])l[n][o].hasOwnProperty(a)&&(f=t(u,a,s[n].element))&&i.matchesEvent(o,s[n].element,f,"_root"==a,r)&&(c++,l[n][o][a].match=f,h[c]=l[n][o][a]);for(p=0,r.stopPropagation=function(){r.cancelBubble=!0};p<=c;p++)if(h[p])for(d=0;d<h[p].length;d++){if(!1===h[p][d].call(h[p].match,r)){i.cancel(r);return}if(r.cancelBubble)return}}}(p,n,e)}}e instanceof Array||(e=[e]),a||"function"!=typeof o||(a=o,o="_root");var h,p=this.id;for(h=
0;h<e.length;h++){if(l[p]&&l[p][e[h]]||i.addEvent(this,e[h],u(e[h])),f){r(this,e[h],o,a);continue}n(this,e[h],o,a)}return this}function i(e,t){if(("string"==typeof e&&"function"==typeof t||"string"==typeof t)&&i(document).on(arguments[0],arguments[1],arguments[2],arguments[3]||!1),!(this instanceof i)){for(var n in s)if(s[n].element===e)return s[n];return s[++f]=new i(e,f),s[f]._on=s[f].on,s[f].on=function(e,t,n,r){var o="function"==typeof t?n||!1:r||!1;if(!o)return this._on.call(this,e,t,n);var i,
a=[e];"string"==typeof t&&a.push(t),a.push((i="function"==typeof t?t:n,function(e){e.defaultPrevented||Bootstrapper.Delegate.load(this,o),void 0!==e.preventDefault?e.preventDefault():e.returnValue=!1,i.call(this)})),this._on.apply(this,a)},s[f]}this.element=e,this.id=t}var a,c=0,f=0,l={},s={};_delay=750,i.prototype.on=function(e,t,n){return o.call(this,e,t,n)},i.prototype.off=function(e,t,n){return o.call(this,e,t,n,!0)},i.matchesSelector=function(){},i.cancel=function e(t){t.preventDefault(),t.stopPropagation()},
i.addEvent=function e(t,n,r){t.element.addEventListener(n,r,"blur"==n||"focus"==n)},i.matchesEvent=function(){return!0},i.load=function(e,t){var n,r,o="number"==typeof t?parseInt(t):750;setTimeout((n=e,r=e.href||"",function(){if(n.nodeName&&"a"==n.nodeName.toLowerCase()){if(n.target&&/_blank|_new/i.test(n.target))return!0;r&&(window.location.href=r)}}),o)},Bootstrapper.Delegate=i}(),function(e){var t=e.addEvent;e.addEvent=function(e,n,r){if(e.element.addEventListener)return t(e,n,r);"focus"==n&&(n=
"focusin"),"blur"==n&&(n="focusout"),e.element.attachEvent("on"+n,r)},e.simpleMatchesSelector=function(e){return"."===e.charAt(0)?(" "+this.className+" ").indexOf(" "+e.slice(1)+" ")>-1:"#"===e.charAt(0)?this.id===e.slice(1):this.tagName.toUpperCase()===e.toUpperCase()},e.matchesSelector=function(t){if(!~t.indexOf(" ")&&!~t.indexOf("\x3e"))return e.simpleMatchesSelector.call(this,t);for(var n=this,r=t.split(" ").reverse();r.length;){var o=r.shift();if(~o.indexOf("\x3e")){for(o=o.split("\x3e").reverse();o.length;){if(tempSel=
o.shift(),!e.simpleMatchesSelector.call(n,tempSel))return!1;n=n.parentNode}if(!r.length)return!0}else for(;n!=document;){var i=e.simpleMatchesSelector.call(n,o);if(n.parentNode&&(n=n.parentNode),n=n.parentnode?n.parentnode:document,i){if(!r.length)return!0;break}}}return!1},e.cancel=function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.returnValue=!1,e.cancelBubble=!0}}(Bootstrapper.Delegate),Bootstrapper.on=Bootstrapper.Delegate);Bootstrapper.one=function(){var _private=
{};_private.elements={};_private.ingore_elements=[];_private.add_event_listener=function(element,event,selector,callback){_private.elements[element]=_private.elements[element]||{};if(!_private.elements[element][event]){_private.elements[element][event]={};_private.elements[element][event].callbacks=[];_private.elements[element][event].ignore=[];if(element.addEventListener)element.addEventListener(event,function(){_private.callback(arguments[0],this,event)},false);else if(element.attachEvent)element.attachEvent("on"+
event,function(){_private.callback(arguments[0],this,event)},false)}_private.elements[element][event].callbacks.push({selector:selector,fn:callback})};_private.callback=function(e,element,event){var target=e.target,current_event=_private.elements[element][event];if(!~current_event.ignore.indexOf(target))for(var i=0;i<current_event.callbacks.length;i++){var current_callback=current_event.callbacks[i];if(target.matches(current_callback.selector)){current_event.ignore.push(target);current_callback.fn.call(target)}}};
_private.add=function(){var element=arguments[0],event=arguments[1],selector=arguments[2],callback=arguments[3];_private.add_event_listener(element,event,selector,callback)};_private.validate=function(args){return!!(typeof args[0]==="string"&&typeof args[1]==="string"&&typeof args[2]==="function")};_private.one=function(){var args=Array.prototype.slice.call(arguments);if(_private.validate(args))_private.add.apply(this,[document].concat(args));else return{element:arguments[0],one:function(){var args=
Array.prototype.slice.call(arguments);if(this.element&&_private.validate(args))_private.add.apply(this,[this.element].concat(args))}}};return _private.one}();Bootstrapper.getQueryParam=function(key,search){search=search||window.location.search;var params=search.replace(/^\?/,"")?search.replace(/^\?/,"").split("\x26"):[];for(var i=0;i<params.length;i++){var params_split=params[i].split("\x3d");if(params_split[0]===key)return params_split[1]||""}};Bootstrapper.propertyWatcher=function(options){var _private=
{};_private.version="2.0";_private.options=options||{};_private.options.interval=_private.options.interval||50;_private.watchers={};_private.do_checks=function(interval){var watchers=_private.watchers[interval]||[];for(var i=watchers.length-1;i>=0;i--){var current_watcher=watchers[i];var current_watcher_val=current_watcher.fn();if(current_watcher.old_value!==current_watcher_val){current_watcher.change(current_watcher.old_value,current_watcher_val);current_watcher.old_value=current_watcher_val;if(current_watcher.options&&
current_watcher.options.stopOnReturn)watchers.splice(i,1)}}if(watchers.length===0)delete _private.watchers[interval];else _private.start_timer(interval)};_private.start_timer=function(ms){window.setTimeout(function(){_private.do_checks(ms)},ms)};_private.create=function(fn,options){if(!fn)throw new Error("A function must be specified");options=options||{};options.interval=options.interval||_private.options.interval;var response={};response.fn=fn;response.old_value=undefined;response.options=options||
{};response.change=function(from,to){};response.destroy=function(){_private.destroy(this)};var should_set_timer=false;if(!_private.watchers[options.interval])should_set_timer=true;_private.watchers[options.interval]=_private.watchers[options.interval]||[];_private.watchers[options.interval].push(response);if(should_set_timer)_private.start_timer(options.interval);return response};_private.destroy=function(watcher){var watchers=_private.watchers[watcher.options.interval]||[];for(var i=watchers.length-
1;i>=0;i--){var current_watcher=watchers[i];if(watcher===current_watcher)watchers.splice(i,1)}if(watchers.length===0)delete _private.watchers[watcher.options.interval]};return{create:_private.create,version:_private.version}}();Bootstrapper.dataManager=function(){var _private={data:{},add:function(o){if(typeof o=="object"&&o.id){o.get=function(e){return Bootstrapper.dataManager.getDataElement(this.id,e)};this.data[o.id]=o}},getObj:function(i){if(i)return _private.data[i];return _private.data},getDataElement:function(i,
e){if(typeof this.data[i]=="undefined")return"";var dataObj=this.data[i].data,retVal;if(typeof dataObj=="object"){if(typeof dataObj[e]=="undefined")return"";dataObj=dataObj[e];if(typeof dataObj.get=="string"){var d=eval(dataObj.get);if(typeof dataObj.mod=="string"&&dataObj.mod!==""){var m="(function(){ return "+(dataObj.mod===""?"this":dataObj.mod)+";})";retVal=eval(m).call(d)}else if(typeof dataObj.mod=="function")retVal=dataObj.mod.call(d,d);else retVal=d}else if(typeof dataObj.get=="function"){var d=
dataObj.get.call(this.data[i]);if(typeof dataObj.mod=="string"&&dataObj.mod!==""){var m="(function(){ return "+(dataObj.mod===""?"this":dataObj.mod)+";})";retVal=eval(m).call(d)}else if(typeof dataObj.mod=="function")retVal=dataObj.mod.call(d,d);else retVal=d}return retVal}},getDataLayer:function(i){var retObj={};var dataObj=this.data[i].data;for(key in dataObj)try{retObj[key]=this.getDataElement(i,key)}catch(e){retObj[key]=null}return retObj},getAllData:function(){var data=this.data,retObj={_d:{}};
for(var key in data){retObj._d[key]={};var d=this.getDataLayer(key);for(var k in d){retObj[k]=d[k];retObj._d[key][k]=d[k]}}return retObj},getData:function(i){if(i)return this.getDataLayer(i);else return this.getAllData()},addDataElement:function(layerId,name,o){if(typeof this.data[layerId]=="object"&&typeof name=="string"&&typeof o=="object"){var d=this.data[layerId];d.data[name]=o}}},_public={push:function(dl){_private.add(dl)},getObj:function(i){return _private.getObj(i)},getData:function(i){return _private.getData(i)},
getDataElement:function(i,e){return _private.getDataElement(i,e)},addDataElement:function(layerId,name,o){return _private.addDataElement(layerId,name,o)}};return _public}();Bootstrapper.dataManager.map=function(){return{define:function(n,d){if(Bootstrapper.data)for(i in d){var v=typeof d[i]=="string"?Bootstrapper.data.extract(d[i]):d[i]();Bootstrapper.data.dataManagerPush(i,v,n)}}}}();window.$data=function(a,b){if(typeof b=="string")try{return Bootstrapper.dataManager.getDataElement(a,b)}catch(e){}else if(typeof a==
"string")return Bootstrapper.dataManager.getData()[a]||"";return""};Bootstrapper.bindOnGetServerComponent(function(){var DL=Bootstrapper.dataManager&&Bootstrapper.targetingExtension?Bootstrapper.dataManager.getData():{};if(~document.cookie.indexOf("VTP:enabled"))DL["ensightenVT"]=1;if(Bootstrapper.scDataObj)for(i in DL)Bootstrapper.scDataObj[i]=DL[i]});window.Bootstrapper=ensBootstraps&&ensBootstraps.TMS||"";Bootstrapper.crypto={};!function(t){function h(t,h){h?(p[0]=p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=
p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0,this.blocks=p):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=
!0,this.is224=t}var i=t,s=!i.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s&&(i=global);var e=!i.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,r="function"==typeof define&&define.amd,n="undefined"!=typeof ArrayBuffer,o="0123456789abcdef".split(""),a=[-2147483648,8388608,32768,128],f=[24,16,8,0],u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,
2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,
2756734187,3204031479,3329325298],c=["hex","array","digest","arrayBuffer"],p=[],d=function(t,i){return function(s){return(new h(i,!0)).update(s)[t]()}},y=function(t){var i=d("hex",t);s&&(i=l(i,t)),i.create=function(){return new h(t)},i.update=function(t){return i.create().update(t)};for(var e=0;e<c.length;++e){var r=c[e];i[r]=d(r,t)}return i},l=function(t,h){var i=require("crypto"),s=require("buffer").Buffer,e=h?"sha224":"sha256";return function(h){if("string"==typeof h)return i.createHash(e).update(h,
"utf8").digest("hex");if(n&&h instanceof ArrayBuffer)h=new Uint8Array(h);else if(void 0===h.length)return t(h);return i.createHash(e).update(new s(h)).digest("hex")}};h.prototype.update=function(t){if(!this.finalized){var h="string"!=typeof t;h&&n&&t instanceof i.ArrayBuffer&&(t=new Uint8Array(t));for(var s,e,r=0,o=t.length||0,a=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),h)for(e=this.start;r<
o&&e<64;++r)a[e>>2]|=t[r]<<f[3&e++];else for(e=this.start;r<o&&e<64;++r)(s=t.charCodeAt(r))<128?a[e>>2]|=s<<f[3&e++]:s<2048?(a[e>>2]|=(192|s>>6)<<f[3&e++],a[e>>2]|=(128|63&s)<<f[3&e++]):s<55296||s>=57344?(a[e>>2]|=(224|s>>12)<<f[3&e++],a[e>>2]|=(128|s>>6&63)<<f[3&e++],a[e>>2]|=(128|63&s)<<f[3&e++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++r)),a[e>>2]|=(240|s>>18)<<f[3&e++],a[e>>2]|=(128|s>>12&63)<<f[3&e++],a[e>>2]|=(128|s>>6&63)<<f[3&e++],a[e>>2]|=(128|63&s)<<f[3&e++]);this.lastByteIndex=e,this.bytes+=
e-this.start,e>=64?(this.block=a[16],this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return this}},h.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,h=this.lastByteIndex;t[16]=this.block,t[h>>2]|=a[3&h],this.block=t[16],h>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[15]=this.bytes<<3,this.hash()}},h.prototype.hash=function(){var t,h,i,s,e,r,n,o,a,f=this.h0,c=
this.h1,p=this.h2,d=this.h3,y=this.h4,l=this.h5,b=this.h6,v=this.h7,g=this.blocks;for(t=16;t<64;++t)h=((e=g[t-15])>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,i=((e=g[t-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10,g[t]=g[t-16]+h+g[t-7]+i<<0;for(a=c&p,t=0;t<64;t+=4)this.first?(this.is224?(r=300032,v=(e=g[0]-1413257819)-150054599<<0,d=e+24177077<<0):(r=704751109,v=(e=g[0]-210244248)-1521486534<<0,d=e+143694565<<0),this.first=!1):(h=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),s=(r=f&c)^f&p^a,v=d+(e=v+(i=(y>>>6|y<<26)^
(y>>>11|y<<21)^(y>>>25|y<<7))+(y&l^~y&b)+u[t]+g[t])<<0,d=e+(h+s)<<0),h=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),s=(n=d&f)^d&c^r,b=p+(e=b+(i=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&y^~v&l)+u[t+1]+g[t+1])<<0,h=((p=e+(h+s)<<0)>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),s=(o=p&d)^p&f^n,l=c+(e=l+(i=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&v^~b&y)+u[t+2]+g[t+2])<<0,h=((c=e+(h+s)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=(a=c&p)^c&d^o,y=f+(e=y+(i=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<
7))+(l&b^~l&v)+u[t+3]+g[t+3])<<0,f=e+(h+s)<<0;this.h0=this.h0+f<<0,this.h1=this.h1+c<<0,this.h2=this.h2+p<<0,this.h3=this.h3+d<<0,this.h4=this.h4+y<<0,this.h5=this.h5+l<<0,this.h6=this.h6+b<<0,this.h7=this.h7+v<<0},h.prototype.hex=function(){this.finalize();var t=this.h0,h=this.h1,i=this.h2,s=this.h3,e=this.h4,r=this.h5,n=this.h6,a=this.h7,f=o[t>>28&15]+o[t>>24&15]+o[t>>20&15]+o[t>>16&15]+o[t>>12&15]+o[t>>8&15]+o[t>>4&15]+o[15&t]+o[h>>28&15]+o[h>>24&15]+o[h>>20&15]+o[h>>16&15]+o[h>>12&15]+o[h>>8&
15]+o[h>>4&15]+o[15&h]+o[i>>28&15]+o[i>>24&15]+o[i>>20&15]+o[i>>16&15]+o[i>>12&15]+o[i>>8&15]+o[i>>4&15]+o[15&i]+o[s>>28&15]+o[s>>24&15]+o[s>>20&15]+o[s>>16&15]+o[s>>12&15]+o[s>>8&15]+o[s>>4&15]+o[15&s]+o[e>>28&15]+o[e>>24&15]+o[e>>20&15]+o[e>>16&15]+o[e>>12&15]+o[e>>8&15]+o[e>>4&15]+o[15&e]+o[r>>28&15]+o[r>>24&15]+o[r>>20&15]+o[r>>16&15]+o[r>>12&15]+o[r>>8&15]+o[r>>4&15]+o[15&r]+o[n>>28&15]+o[n>>24&15]+o[n>>20&15]+o[n>>16&15]+o[n>>12&15]+o[n>>8&15]+o[n>>4&15]+o[15&n];return this.is224||(f+=o[a>>
28&15]+o[a>>24&15]+o[a>>20&15]+o[a>>16&15]+o[a>>12&15]+o[a>>8&15]+o[a>>4&15]+o[15&a]),f},h.prototype.toString=h.prototype.hex,h.prototype.digest=function(){this.finalize();var t=this.h0,h=this.h1,i=this.h2,s=this.h3,e=this.h4,r=this.h5,n=this.h6,o=this.h7,a=[t>>24&255,t>>16&255,t>>8&255,255&t,h>>24&255,h>>16&255,h>>8&255,255&h,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&
n];return this.is224||a.push(o>>24&255,o>>16&255,o>>8&255,255&o),a},h.prototype.array=h.prototype.digest,h.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),h=new DataView(t);return h.setUint32(0,this.h0),h.setUint32(4,this.h1),h.setUint32(8,this.h2),h.setUint32(12,this.h3),h.setUint32(16,this.h4),h.setUint32(20,this.h5),h.setUint32(24,this.h6),this.is224||h.setUint32(28,this.h7),t};var b=y();b.sha256=b,b.sha224=y(!0),e?module.exports=b:(i.sha256=b.sha256,i.sha224=
b.sha224,r&&define(function(){return b}))}(Bootstrapper.crypto);!function(n){function t(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function r(n,t){return n<<t|n>>>32-t}function e(n,e,o,u,c,f){return t(r(t(t(e,n),t(u,f)),c),o)}function o(n,t,r,o,u,c,f){return e(t&r|~t&o,n,t,u,c,f)}function u(n,t,r,o,u,c,f){return e(t&o|r&~o,n,t,u,c,f)}function c(n,t,r,o,u,c,f){return e(t^r^o,n,t,u,c,f)}function f(n,t,r,o,u,c,f){return e(r^(t|~o),n,t,u,c,f)}function i(n,r){n[r>>5]|=128<<
r%32,n[14+(r+64>>>9<<4)]=r;var e,i,a,d,h,l=1732584193,g=-271733879,p=-1732584194,v=271733878;for(e=0;e<n.length;e+=16)i=l,a=g,d=p,h=v,g=f(g=f(g=f(g=f(g=c(g=c(g=c(g=c(g=u(g=u(g=u(g=u(g=o(g=o(g=o(g=o(g,p=o(p,v=o(v,l=o(l,g,p,v,n[e],7,-680876936),g,p,n[e+1],12,-389564586),l,g,n[e+2],17,606105819),v,l,n[e+3],22,-1044525330),p=o(p,v=o(v,l=o(l,g,p,v,n[e+4],7,-176418897),g,p,n[e+5],12,1200080426),l,g,n[e+6],17,-1473231341),v,l,n[e+7],22,-45705983),p=o(p,v=o(v,l=o(l,g,p,v,n[e+8],7,1770035416),g,p,n[e+9],12,
-1958414417),l,g,n[e+10],17,-42063),v,l,n[e+11],22,-1990404162),p=o(p,v=o(v,l=o(l,g,p,v,n[e+12],7,1804603682),g,p,n[e+13],12,-40341101),l,g,n[e+14],17,-1502002290),v,l,n[e+15],22,1236535329),p=u(p,v=u(v,l=u(l,g,p,v,n[e+1],5,-165796510),g,p,n[e+6],9,-1069501632),l,g,n[e+11],14,643717713),v,l,n[e],20,-373897302),p=u(p,v=u(v,l=u(l,g,p,v,n[e+5],5,-701558691),g,p,n[e+10],9,38016083),l,g,n[e+15],14,-660478335),v,l,n[e+4],20,-405537848),p=u(p,v=u(v,l=u(l,g,p,v,n[e+9],5,568446438),g,p,n[e+14],9,-1019803690),
l,g,n[e+3],14,-187363961),v,l,n[e+8],20,1163531501),p=u(p,v=u(v,l=u(l,g,p,v,n[e+13],5,-1444681467),g,p,n[e+2],9,-51403784),l,g,n[e+7],14,1735328473),v,l,n[e+12],20,-1926607734),p=c(p,v=c(v,l=c(l,g,p,v,n[e+5],4,-378558),g,p,n[e+8],11,-2022574463),l,g,n[e+11],16,1839030562),v,l,n[e+14],23,-35309556),p=c(p,v=c(v,l=c(l,g,p,v,n[e+1],4,-1530992060),g,p,n[e+4],11,1272893353),l,g,n[e+7],16,-155497632),v,l,n[e+10],23,-1094730640),p=c(p,v=c(v,l=c(l,g,p,v,n[e+13],4,681279174),g,p,n[e],11,-358537222),l,g,n[e+
3],16,-722521979),v,l,n[e+6],23,76029189),p=c(p,v=c(v,l=c(l,g,p,v,n[e+9],4,-640364487),g,p,n[e+12],11,-421815835),l,g,n[e+15],16,530742520),v,l,n[e+2],23,-995338651),p=f(p,v=f(v,l=f(l,g,p,v,n[e],6,-198630844),g,p,n[e+7],10,1126891415),l,g,n[e+14],15,-1416354905),v,l,n[e+5],21,-57434055),p=f(p,v=f(v,l=f(l,g,p,v,n[e+12],6,1700485571),g,p,n[e+3],10,-1894986606),l,g,n[e+10],15,-1051523),v,l,n[e+1],21,-2054922799),p=f(p,v=f(v,l=f(l,g,p,v,n[e+8],6,1873313359),g,p,n[e+15],10,-30611744),l,g,n[e+6],15,-1560198380),
v,l,n[e+13],21,1309151649),p=f(p,v=f(v,l=f(l,g,p,v,n[e+4],6,-145523070),g,p,n[e+11],10,-1120210379),l,g,n[e+2],15,718787259),v,l,n[e+9],21,-343485551),l=t(l,i),g=t(g,a),p=t(p,d),v=t(v,h);return[l,g,p,v]}function a(n){var t,r="",e=32*n.length;for(t=0;t<e;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}function d(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var e=8*n.length;for(t=0;t<e;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}function h(n){return a(i(d(n),
8*n.length))}function l(n,t){var r,e,o=d(n),u=[],c=[];for(u[15]=c[15]=void 0,o.length>16&&(o=i(o,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=i(u.concat(d(t)),512+8*t.length),a(i(c.concat(e),640))}function g(n){var t,r,e="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),e+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return e}function p(n){return unescape(encodeURIComponent(n))}function v(n){return h(p(n))}function m(n){return g(v(n))}function s(n,
t){return l(p(n),p(t))}function C(n,t){return g(s(n,t))}function A(n,t,r){return t?r?s(t,n):C(t,n):r?v(n):m(n)}"function"==typeof define&&define.amd?define(function(){return A}):"object"==typeof module&&module.exports?module.exports=A:n.md5=A}(Bootstrapper.crypto);Bootstrapper.crypto.encrypt=function(data){data=Bootstrapper.crypto.sha256(Bootstrapper.crypto.sha224(Bootstrapper.crypto.md5(data)));return data};Bootstrapper.ensCookieUtils={create:function(name,value,days){var expires="";if(days){var date=
new Date;date.setTime(date.getTime()+days*24*60*60*1E3);expires="; expires\x3d"+date.toGMTString()}document.cookie=name+"\x3d"+value+expires+"; path\x3d/"+"; domain\x3ddelta.com"},remove:function(name){var value=this.get(name);document.cookie=name+"\x3d;path\x3d/;domain\x3ddelta.com;expires\x3dThu, 01-Jan-1970 00:00:01 GMT"},get:function(name){var nameEQ=name+"\x3d";var cookieArray=document.cookie.split(";");for(var i=0;i<cookieArray.length;i++){var c=cookieArray[i];while(c.charAt(0)==" ")c=c.substring(1,
c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}}};Bootstrapper.formatDate=function formatDate(date){var d=new Date(date),month=""+(d.getMonth()+1),day=""+d.getDate(),year=d.getFullYear();if(month.length<2)month="0"+month;if(day.length<2)day="0"+day;return[year,month,day].join("-")};Bootstrapper.externalFormatDates=function externalFormatDates(dt){var day,month;dt=dt.split("/");if(dt[0].length<2)month="0"+dt[0];else month=dt[0];if(dt[1].length<2)day="0"+dt[1];else day=
dt[1];return dt[2]+"-"+month+"-"+day};Bootstrapper.dateDiff=function dateDiff(date1,date2){var date1=new Date(date1);var date2=new Date(date2);var ONE_DAY=1E3*60*60*24;var date1_ms=date1.getTime();var date2_ms=date2.getTime();var difference_ms=Math.abs(date1_ms-date2_ms);return Math.round(difference_ms/ONE_DAY)};Bootstrapper.formatDates=function formatDates(dt){dt=dt.split("-");return dt[1]+"/"+dt[2]+"/"+dt[0]};Bootstrapper.capitalize=function capitalize(s){return s&&s[0].toUpperCase()+s.slice(1)};
Bootstrapper.betweenDays=function between(x,min,max){return x>=min&&x<=max};Bootstrapper.removeLastVal=function removeLastVal(strng){var n=strng.lastIndexOf(":");var a=strng.substring(0,n);return a};Bootstrapper.removeDuplicate=function removeDuplicate(x){var a=x.split(":");var x2=[];for(var i in a)if(x2.indexOf(a[i])==-1)x2.push(a[i]);x2=x2.toString().replace(/,/g,":");return Bootstrapper.removeLastVal(x2)};Bootstrapper.getToday=function getToday(){var today=new Date;var dd=today.getDate();var mm=
today.getMonth()+1;var yyyy=today.getFullYear();if(dd<10)dd="0"+dd;if(mm<10)mm="0"+mm;return today=mm+""+dd+""+yyyy};Bootstrapper.countryList=[{name:"Afghanistan",code:"AF"},{name:"land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",
code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",
code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",
code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},
{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",
code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",
code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",
code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",
code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",
code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",
code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},
{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},
{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",
code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",
code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",
code:"ZM"},{name:"Zimbabwe",code:"ZW"}];Bootstrapper.getQueryParams=function getQueryParams(str){var result={},params,param,counter,str=str||document.location.search||document.referrer;if(!str)return;params=str.replace("?","").split("\x26");for(counter=0;counter<params.length;counter++){param=params[counter].split("\x3d");try{result[param[0]]=window.decodeURIComponent(window.encodeURIComponent(param[1]||""))}catch(err){result[param[0]]=""}}return result;var queryParams=getQueryParams();if(!Bootstrapper.ensCookieUtils||
!queryParams||!queryParams.vendorID)return;Bootstrapper.ensCookieUtils.create("metaVendorID",queryParams.vendorID,10)};window.ensPrivacy=window&&window.ensPrivacy||false;if(document.location.pathname.indexOf("completepurchase")>-1||document.location.pathname.indexOf("flightsearch")>-1||document.location.pathname.indexOf("delta-vacation/")>-1||document.location.pathname.indexOf("/contact-us/")>-1||document.location.pathname.indexOf("/redeem-ecredit")>-1||document.location.pathname.indexOf("/refund-form")>
-1||document.location.pathname.indexOf("/reimbursement")>-1||document.location.pathname.indexOf("/cancel-trip/")>-1||document.location.pathname.indexOf("/change-trip/")>-1||document.location.pathname.indexOf("/flightstatus/")>-1||document.location.pathname.indexOf("/my-trips/")>-1||document.location.pathname.indexOf("/skymiles/")>-1||document.location.pathname.indexOf("/myskymiles/")>-1||document.location.pathname.indexOf("/seats")>-1||document.location.pathname.indexOf("/joinskymiles/")>-1||document.location.pathname.indexOf("/refund-status")>
-1)$("head").append('\x3cscript type\x3d"text/javascript" src\x3d"/ruxitagentjs_ICA27NVfghjqrx_10285240307101407.js" data-dtconfig\x3d"app\x3d9912e316bf6ad580|ssc\x3d1|cors\x3d1|cssm\x3ds|featureHash\x3dICA27NVfghjqrx|vcv\x3d2|xb\x3d.*TealeafTarget.jsp.*^p.*tt^bs.omtrdc^bs.net.*^p.*capture^bs.trackjs^bs.com.*|reportUrl\x3dhttps://dlt-beacon.dynatrace-managed.com/bf/dbbe1fe6-c1b9-4ef5-9063-f51ccbac76c8|rdnt\x3d1|bp\x3d3|cuc\x3dq0gt3kdt|mdl\x3dmdcc3\x3d20,mdcc6\x3d20|mel\x3d100000|md\x3dmdcc1\x3dcTLTSID,mdcc2\x3da#custlogin-user-link,mdcc3\x3dadiv.dl_alert:not(.dl_alert-success):not(.dl_alert-primary):not(.dl_alert-secondary):not(.dl_alert-info):not(.dl_alert-light):not(.dl_alert-dark),mdcc4\x3dcTLTSID,mdcc5\x3dbdocument.referrer,mdcc6\x3dbnavigator.userAgent,mdcc7\x3ddutm_source,mdcc8\x3ddutm_medium,mdcc9\x3ddutm_campaign,mdcc11\x3ddutm_content,mdcc12\x3dbwindow.idp.shoppingLite.dynamicBannerRequest.userdata.originDestinationPair,mdcc13\x3dbwindow.idp.shoppingLite.dynamicBannerRequest.userdata.triptype,mdcc14\x3dbwindow.idp.shoppingLite.dynamicBannerRequest.userdata.origin,mdcc15\x3dbwindow.idp.shoppingLite.dynamicBannerRequest.userdata.destination,mdcc16\x3dbwindow.idp.shoppingLite.dynamicBannerRequest.userdata.departuredate,mdcc17\x3dbwindow.idp.shoppingLite.dynamicBannerRequest.userdata.returndate,mdcc18\x3dbwindow.idp.checkout.tripTotalData.subTotal.currency.amount,mdcc19\x3dbwindow.idp.dataLayer.digitalData.attributes.searchType,mdcc20\x3dcfrEndpoint|ssv\x3d4|lastModification\x3d1716473028591|mdp\x3dmdcc3,mdcc4,mdcc13,mdcc19,mdcc20|tp\x3d500,50,0,1|agentUri\x3d/ruxitagentjs_ICA27NVfghjqrx_10285240307101407.js"\x3e\x3c/script\x3e');
var domain=window.location.hostname;if(domain.indexOf("si.delta.com")>-1)Bootstrapper.insertScript("https://cdn.quantummetric.com/network-interceptor/quantum-delta-test.js");else if(domain.indexOf("www.delta.com")>-1)Bootstrapper.insertScript("https://cdn.quantummetric.com/network-interceptor/quantum-delta.js");Bootstrapper.getExtraParams=function(){var path=document.location.pathname;if(path.indexOf("site-search")>-1)window.rhpr=false;return{"countryLang":Bootstrapper.ensCookieUtils.get("prefUI")&&
Bootstrapper.ensCookieUtils.get("prefUI").toLowerCase()||Bootstrapper.data.resolve(64111)||Bootstrapper.data.resolve(54164)||"en-us","page_title":document.title,"page_path":document.location.pathname,"device":/mobile|iphone|ipad|ipod|android/i.test(navigator.userAgent)?"mobile":"desktop","isHomePage":Bootstrapper.data.resolve(60812)||false,"ZT|ZH|CN":Bootstrapper.data.resolve(56496)||false,"ensPrivacy":window.ensPrivacy||false,"metaVendorID":Bootstrapper.ensCookieUtils.get("metaVendorID")||"","KayakLinkID_Booking":Bootstrapper.ensCookieUtils.get("KayakLinkID_Booking")||
"","region":Bootstrapper.data.resolve(64212),"accountType":Bootstrapper.data.resolve(65101)||"personal","404_page":Bootstrapper.data.resolve(65660)||false}}},4097410,767653);
TMS.bindDependencyImmediate(function(){var Bootstrapper=window["TMS"];var ensightenOptions=TMS.ensightenOptions;(function(){var style=document.createElement("style");style.type="text/css";style.innerHTML=".ens-consent-banner {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    background: #fff;\n    padding: 10px 0;\n    border-top: 1px solid #eeeeee7d;\n}\n\n.ens-consent-banner .ens-content {\n    max-width: 1180px;\n    margin: auto;\n    display: flex;\n    align-items: center;\n    font-family: 'Whitney-Book';\n}\n\n.ens-consent-banner .ens-copy {\n    color: #0b1f66;\n    flex: 1.9;\n    padding-left: 5%;\n}\n\n.ens-consent-banner .ens-copy.sm {\n    display: none;\n}\n\n.ens-consent-banner .ens-buttons {\n    flex: 1;\n    font-family: 'Whitney-Semibold';\n}\n\n.ens-consent-banner .ens-buttons button {\n    border: .125rem solid #0b1f66;\n    background-color: white;\n    color: #0b1f66;\n    padding: 5px 10px;\n    letter-spacing: 0.02rem;\n}\n\n.ens-buttons button:nth-child(1), .ens-buttons button:nth-child(2) {\n    margin-right: 5px;\n}\n\n.ens-consent-banner .ens-buttons button:hover {\n    cursor: pointer;\n}\n\n.ens-consent-banner .ens-settings:hover, .ens-consent-banner .ens-reject:hover, .ens-consent-banner .ens-accept:hover  {\n    color: white;\n    background-color: #0b1f66;\n}\n\n@media (max-width: 991px) {\n    .ens-consent-banner .ens-copy.sm {\n        display: block;\n        padding: 10px 20px;\n    }\n    \n    .ens-consent-banner .ens-copy.lg {\n        display: none;\n    }\n    \n    .ens-consent-banner .ens-content {\n        flex-direction: column;\n    }\n    \n    .ens-consent-banner .ens-buttons {\n        margin-top: 10px;\n    }\n}\n\n#ensModalWrapper {\n    top: 0px !important;\n    position: fixed;\n    z-index: 2000000001;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(10, 10, 10, 0.5);\n}\n\n.ensModal {\n    background-color: #fff;\n    margin-top: 3%;\n    margin-left: auto;\n    margin-right: auto;\n    font-family: 'Whitney-Book';\n    width: 98vw;\n    max-width: 600px;\n    color: #0B1F66;\n    max-height: 98vh;\n}\n\n.ensModal \x3e .consentDescription {\n    padding: 15px 25px 0px 25px;\n}\n\n.ensTitle {\n    background-color: #10172E;\n    color: white;\n    padding: 18.5px 24px;\n    font-size: 18px;\n    font-family: 'Whitney-Medium';\n}\n\n.ensClose {\n    float: right;\n}\n\n.ensClose:before {\n    width: 2px;\n    height: 2px;\n    content: \"\\E91E\";\n    color: #8996a9;\n    font-family: icomoon !important;\n    font-size: 14px;\n    margin-right: 10px;\n}\n\n.ensClose:hover:before {\n    cursor: pointer;\n}\n\n.ensToggleRowWrapper \x3e * {\n    padding: 0px 25px 0px 25px;\n    display: none;   \n}\n\n.ensToggleRow:nth-child(2), .ensToggleRow.display {\n    display: block !important;\n    margin-bottom: 15px;\n}\n\n.ensToggleLabel {\n    display: flex !important;\n    justify-content: flex-start;\n    flex-direction: row;\n    align-items: flex-start;\n    font-family: 'Whitney-Semibold';\n}\n\n.ensCheckbox {\n    display: none;\n}\n\n.ensToggleRow .card {\n    border: none !important;\n    margin: 3px 0px 5px 10px;\n}\n\n.ensToggleRow .switch {\n  display: inline-block;\n  height: 18px;\n  position: relative;\n  width: 34px;\n}\n\n.ensToggleRow .switch input {\n  display:none;\n}\n\n.ensToggleRow .toggle {\n  background-color: #ccc;\n  bottom: 0;\n  cursor: pointer;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transition: .4s;\n  border-radius: 34px;\n}\n\n.ensToggleRow .toggle:before {\n  background-color: #fff;\n  bottom: 4px;\n  content: \"\";\n  height: 10px;\n  left: 4px;\n  position: absolute;\n  transition: .4s;\n  width: 10px;\n  border-radius: 50%;\n}\n\n.ensToggleRow input:checked + span + .toggle {\n  background-color: #0B1F66;\n}\n\n.ensToggleRow input:checked + span + .toggle:before {\n  transform: translateX(16px);\n}\n\n.ensExpand {\n    color: #4470c3 !important;\n}\n\n.ensExpand:hover {\n    cursor: pointer;\n    text-decoration: underline !important;\n}\n\n.ensButtons {\n    margin-top: 20px;\n    height: 55px;\n    padding: 0px 25px;\n}\n\n#ensCancel {\n    display: none;\n}\n\n#ensSave {\n    color: white;\n    border: none;\n    background-color: #e51937;\n    font-family: 'Whitney-Semibold';\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    width: 100px;\n    height: 40px;\n    float: right;\n}\n\n#ensSave:hover {\n    cursor: pointer;\n    background-color: #98012e;\n}";document.head.appendChild(style)})()},
4097460,[4096111],767630,[767629]);TMS.getServerComponent(TMS.getExtraParams ? TMS.getExtraParams() : undefined);}})();